<template>
  <div
    class="full-wh"
    mousemove.trigger="mouseMoveHandler($event)"
    mouseup.trigger="mouseUpHandler($event)">
    <require from="assets/styles/index.css"></require>

    <require from="components/navigation.html"></require>

    <div id="drag-drop-notifier" class="full-wh flex-c flex-jc-c flex-a-c">
      <span>Drop JSON state</span>
    </div>

    <div id="global-error" class="full-wh flex-c flex-jc-c flex-a-c">
      <span>${globalErrorMsg}</span>
    </div>

    <header id="topbar" class="flex-c flex-jc-sb">
      <div class="flex-c">
        <h1 class="${router.currentInstruction.config.name === 'home' ? 'is-active' : ''}">
          <a route-href="route: home">
            ${isRoute('decompose') ? 'MDM' : 'Matrix Decomposition Methods'}
          </a>
        </h1>
        <button if.bind="router.currentInstruction.config.name === 'decompose'">Running</button>
      </div>

      <navigation
        class="primary-nav"
        router.bind="router"
        external-links.bind="externalLinks">
      </navigation>
    </header>

    <main id="main">
      <router-view></router-view>
    </main>
  </div>
</template>
