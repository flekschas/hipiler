function _aureliaConfigureModuleLoader(){requirejs.config({baseUrl:"src/",paths:{root:"src",resources:"resources",elements:"resources/elements",attributes:"resources/attributes",valueConverters:"resources/value-converters",bindingBehaviors:"resources/binding-behaviors","aurelia-binding":"../node_modules/aurelia-binding/dist/amd/aurelia-binding","polyline-miter-util":"../node_modules/polyline-miter-util/index","aurelia-bootstrapper":"../node_modules/aurelia-bootstrapper/dist/amd/aurelia-bootstrapper","polyline-normals":"../node_modules/polyline-normals/index","aurelia-dependency-injection":"../node_modules/aurelia-dependency-injection/dist/amd/aurelia-dependency-injection","aurelia-event-aggregator":"../node_modules/aurelia-event-aggregator/dist/amd/aurelia-event-aggregator","aurelia-framework":"../node_modules/aurelia-framework/dist/amd/aurelia-framework","aurelia-history":"../node_modules/aurelia-history/dist/amd/aurelia-history","aurelia-history-browser":"../node_modules/aurelia-history-browser/dist/amd/aurelia-history-browser","aurelia-loader":"../node_modules/aurelia-loader/dist/amd/aurelia-loader","aurelia-loader-default":"../node_modules/aurelia-loader-default/dist/amd/aurelia-loader-default","aurelia-logging":"../node_modules/aurelia-logging/dist/amd/aurelia-logging","aurelia-logging-console":"../node_modules/aurelia-logging-console/dist/amd/aurelia-logging-console","aurelia-metadata":"../node_modules/aurelia-metadata/dist/amd/aurelia-metadata","aurelia-pal":"../node_modules/aurelia-pal/dist/amd/aurelia-pal","aurelia-pal-browser":"../node_modules/aurelia-pal-browser/dist/amd/aurelia-pal-browser","aurelia-path":"../node_modules/aurelia-path/dist/amd/aurelia-path","aurelia-polyfills":"../node_modules/aurelia-polyfills/dist/amd/aurelia-polyfills","aurelia-route-recognizer":"../node_modules/aurelia-route-recognizer/dist/amd/aurelia-route-recognizer","aurelia-router":"../node_modules/aurelia-router/dist/amd/aurelia-router","aurelia-task-queue":"../node_modules/aurelia-task-queue/dist/amd/aurelia-task-queue","aurelia-templating":"../node_modules/aurelia-templating/dist/amd/aurelia-templating","aurelia-templating-binding":"../node_modules/aurelia-templating-binding/dist/amd/aurelia-templating-binding","json-stringify-safe":"../node_modules/json-stringify-safe/stringify",text:"../node_modules/text/text","app-bundle":"../dist/app-bundle-8381f875d1","clusterfck-worker":"../dist/clusterfck-worker-a153985d0f","tsne-worker":"../dist/tsne-worker-46a24ad61e","exploration-bundle":"../dist/exploration-bundle-f214ef67be"},packages:[{name:"d3",location:"../node_modules/d3/build",main:"d3"},{name:"gl-vec2",location:"../node_modules/gl-vec2",main:"index"},{name:"hull",location:"../node_modules/hull.js/dist",main:"hull"},{name:"three",location:"../node_modules/three/build",main:"three"},{name:"three-line-2d",location:"../node_modules/three-line-2d",main:"index"},{name:"three-line-2d-shader",location:"../node_modules/three-line-2d/shaders",main:"basic"},{name:"three-orbit-controls",location:"../node_modules/three-orbit-controls",main:"index"},{name:"aurelia-templating-resources",location:"../node_modules/aurelia-templating-resources/dist/amd",main:"aurelia-templating-resources"},{name:"aurelia-templating-router",location:"../node_modules/aurelia-templating-router/dist/amd",main:"aurelia-templating-router"},{name:"aurelia-validation",location:"../node_modules/aurelia-validation/dist/amd",main:"aurelia-validation"},{name:"chroma",location:"../node_modules/chroma-js",main:"chroma"},{name:"inherits",location:"../node_modules/inherits",main:"inherits_browser"},{name:"localForage",location:"../node_modules/localforage/dist",main:"localforage"},{name:"normalize-wheel",location:"../node_modules/normalize-wheel/src",main:"normalizeWheel"},{name:"object-assign",location:"../node_modules/object-assign",main:"index"},{name:"redux",location:"../node_modules/redux/dist",main:"redux.min"},{name:"redux-batched-actions",location:"../node_modules/redux-batched-actions/lib",main:"index"},{name:"redux-persist",location:"../node_modules/redux-persist/dist",main:"redux-persist"},{name:"redux-thunk",location:"../node_modules/redux-thunk/dist",main:"redux-thunk"},{name:"redux-undo",location:"../node_modules/redux-undo/lib",main:"index"}],stubModules:["text"],shim:{},bundles:{"app-bundle":["app-actions","app-defaults","app-reducer","app","environment","main","configs/app","configs/colors","configs/examples","configs/icons","configs/nav","resources/index","services/chrom-info","services/export","services/font","services/states","utils/anchor-link","utils/arrays-equal","utils/caps","utils/check-text-input-focus","utils/debounce","utils/deep-clone","utils/dom-el","utils/download-as-json","utils/drag-drop","utils/flatten","utils/get-url-query-params","utils/halt-resume","utils/has-parent","utils/hilbert-curve","utils/mod","utils/object-values-to-string","utils/ping","utils/query-obj","utils/read-json-file","utils/redux-logger","utils/request-animation-frame","utils/scroll-to-anchor","utils/throttle","utils/validate-config","views/about","views/configurator","views/docs","views/explore-actions","views/explore-defaults","views/explore-reducers","views/explore","views/home","views/not-found","components/chartlet/chartlet-drawing","components/chartlet/chartlet","components/dialog/dialog","components/footer-main/footer-main","components/multi-select/multi-select-defaults","components/multi-select/multi-select","components/range-select/range-select-defaults","components/range-select/range-select","components/svg-icon/svg-icon","text!views/../../assets/wiki/sidebar.html","text!views/../../assets/wiki/wiki.html","assets/styles/about","components/navigation","components/spinner","assets/styles/app","assets/styles/axis","assets/styles/base","assets/styles/colors","assets/styles/columns","assets/styles/configurator","assets/styles/dialog","assets/styles/docs","assets/styles/explore","assets/styles/flexbox","assets/styles/fragments","assets/styles/grid","assets/styles/higlass","assets/styles/home","assets/styles/index","assets/styles/multi-select","assets/styles/navigation","assets/styles/pile-context-menu","assets/styles/pile-details","assets/styles/range-select","assets/styles/range","assets/styles/svg-icon","assets/styles/transitions","assets/styles/mixins/ratio","assets/styles/mixins/rotate","assets/styles/mixins/slide-out-in","assets/styles/mixins/truncate"],"clusterfck-worker":[],"tsne-worker":[],"exploration-bundle":["components/fragments/fragments-actions","components/fragments/fragments-defaults","components/fragments/fragments-reducers","components/fragments/fragments-state","components/fragments/fragments-utils","components/fragments/fragments","components/fragments/matrix-defaults","components/fragments/matrix","components/fragments/pile-colors","components/fragments/pile-defaults","components/fragments/pile-details","components/fragments/pile-menu-commands","components/fragments/pile-menu","components/fragments/pile","components/higlass/higlass-actions","components/higlass/higlass-defaults","components/higlass/higlass-reducers","components/higlass/higlass","polyline-miter-util","polyline-normals","d3","d3/d3","gl-vec2","gl-vec2/add","gl-vec2/set","gl-vec2/normalize","gl-vec2/subtract","gl-vec2/dot","gl-vec2/create","gl-vec2/clone","gl-vec2/fromValues","gl-vec2/copy","gl-vec2/multiply","gl-vec2/divide","gl-vec2/min","gl-vec2/max","gl-vec2/scale","gl-vec2/scaleAndAdd","gl-vec2/distance","gl-vec2/squaredDistance","gl-vec2/length","gl-vec2/squaredLength","gl-vec2/negate","gl-vec2/cross","gl-vec2/lerp","gl-vec2/random","gl-vec2/transformMat2","gl-vec2/transformMat2d","gl-vec2/transformMat3","gl-vec2/transformMat4","gl-vec2/forEach","hull","hull/hull","three","three/three","three-line-2d","three-line-2d/index","three-line-2d-shader","three-line-2d-shader/basic","three-orbit-controls"]}})}!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("pixi.js"),require("react-dom"),require("react-bootstrap")):"function"==typeof define&&define.amd?define(["react","pixi.js","react-dom","react-bootstrap"],t):"object"==typeof exports?exports.hglib=t(require("react"),require("pixi.js"),require("react-dom"),require("react-bootstrap")):e.hglib=t(e.React,e.PIXI,e.ReactDOM,e.ReactBootstrap)}(this,function(e,t,n,r){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=707)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var i=n(697),o=r(i),a=n(699),s=r(a),u=n(694),l=r(u),c=n(696),f=r(c),h=n(695),d=r(h),p=n(698),v=r(p);t.hover=f.default,t.handleHover=f.default,t.handleActive=d.default,t.loop=v.default;var g=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=(0,o.default)(n),a=(0,s.default)(e,i);return(0,l.default)(a)};t.default=g},function(e,t,n){e.exports=n(634)()},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(314);Object.defineProperty(t,"absToChr",{enumerable:!0,get:function(){function e(){return r(i).default}return e}()});var o=n(316);Object.defineProperty(t,"chromInfoBisector",{enumerable:!0,get:function(){function e(){return r(o).default}return e}()});var a=n(315);Object.defineProperty(t,"chrToAbs",{enumerable:!0,get:function(){function e(){return r(a).default}return e}()});var s=n(317);Object.defineProperty(t,"colorDomainToRgbaArray",{enumerable:!0,get:function(){function e(){return r(s).default}return e}()});var u=n(318);Object.defineProperty(t,"colorToHex",{enumerable:!0,get:function(){function e(){return r(u).default}return e}()});var l=n(319);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){function e(){return r(l).default}return e}()});var c=n(320);Object.defineProperty(t,"dictFromTuples",{enumerable:!0,get:function(){function e(){return r(c).default}return e}()});var f=n(321);Object.defineProperty(t,"dictItems",{enumerable:!0,get:function(){function e(){return r(f).default}return e}()});var h=n(322);Object.defineProperty(t,"dictKeys",{enumerable:!0,get:function(){function e(){return r(h).default}return e}()});var d=n(323);Object.defineProperty(t,"dictValues",{enumerable:!0,get:function(){function e(){return r(d).default}return e}()});var p=n(324);Object.defineProperty(t,"download",{enumerable:!0,get:function(){function e(){return r(p).default}return e}()});var v=n(325);Object.defineProperty(t,"genomeLociToPixels",{enumerable:!0,get:function(){function e(){return r(v).default}return e}()});var g=n(326);Object.defineProperty(t,"getTrackByUid",{enumerable:!0,get:function(){function e(){return r(g).default}return e}()});var m=n(327);Object.defineProperty(t,"getTrackPositionByUid",{enumerable:!0,get:function(){function e(){return r(m).default}return e}()});var y=n(328);Object.defineProperty(t,"loadChromInfos",{enumerable:!0,get:function(){function e(){return r(y).default}return e}()});var b=n(329);Object.defineProperty(t,"map",{enumerable:!0,get:function(){function e(){return r(b).default}return e}()});var w=n(330);Object.defineProperty(t,"objVals",{enumerable:!0,get:function(){function e(){return r(w).default}return e}()});var x=n(331);Object.defineProperty(t,"or",{enumerable:!0,get:function(){function e(){return r(x).default}return e}()});var _=n(149);Object.defineProperty(t,"pixelToGenomeLoci",{enumerable:!0,get:function(){function e(){return r(_).default}return e}()});var k=n(332);Object.defineProperty(t,"pixiTextToSvg",{enumerable:!0,get:function(){function e(){return r(k).default}return e}()});var S=n(150);Object.defineProperty(t,"positionedTracksToAllTracks",{enumerable:!0,get:function(){function e(){return r(S).default}return e}()});var O=n(333);Object.defineProperty(t,"relToAbsChromPos",{enumerable:!0,get:function(){function e(){return r(O).default}return e}()});var T=n(334);Object.defineProperty(t,"scalesCenterAndK",{enumerable:!0,get:function(){function e(){return r(T).default}return e}()});var C=n(335);Object.defineProperty(t,"scalesToGenomeLoci",{enumerable:!0,get:function(){function e(){return r(C).default}return e}()});var E=n(336);Object.defineProperty(t,"sum",{enumerable:!0,get:function(){function e(){return r(E).default}return e}()});var P=n(337);Object.defineProperty(t,"svgLine",{enumerable:!0,get:function(){function e(){return r(P).default}return e}()});var M=n(338);Object.defineProperty(t,"totalTrackPixelHeight",{enumerable:!0,get:function(){function e(){return r(M).default}return e}()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(110);n.d(t,"creator",function(){return r.a});var i=n(424);n.d(t,"local",function(){return i.a});var o=n(188);n.d(t,"matcher",function(){return o.a});var a=n(425);n.d(t,"mouse",function(){return a.a});var s=n(111);n.d(t,"namespace",function(){return s.a});var u=n(112);n.d(t,"namespaces",function(){return u.a});var l=n(71);n.d(t,"clientPoint",function(){return l.a});var c=n(426);n.d(t,"select",function(){return c.a});var f=n(427);n.d(t,"selectAll",function(){return f.a});var h=n(16);n.d(t,"selection",function(){return h.a});var d=n(114);n.d(t,"selector",function(){return d.a});var p=n(192);n.d(t,"selectorAll",function(){return p.a});var v=n(191);n.d(t,"style",function(){return v.a});var g=n(454);n.d(t,"touch",function(){return g.a});var m=n(455);n.d(t,"touches",function(){return m.a});var y=n(116);n.d(t,"window",function(){return y.a});var b=n(113);n.d(t,"event",function(){return b.a}),n.d(t,"customEvent",function(){return b.b})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(647);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return r(i).default}});var o=n(238);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return r(o).default}});var a=n(648);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return r(a).default}});var s=n(649);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return r(s).default}});var u=n(650);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return r(u).default}});var l=n(651);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return r(l).default}});var c=n(239);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return r(c).default}});var f=n(652);Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return r(f).default}})},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(301);Object.defineProperty(t,"AVAILABLE_TRACK_TYPES",{enumerable:!0,get:function(){function e(){return r(i).default}return e}()});var o=n(303);Object.defineProperty(t,"DATATYPE_TO_TRACK_TYPE",{enumerable:!0,get:function(){function e(){return r(o).default}return e}()});var a=n(302);Object.defineProperty(t,"HEATED_OBJECT_MAP",{enumerable:!0,get:function(){function e(){return r(a).default}return e}()});var s=n(304);Object.defineProperty(t,"IS_TRACK_RANGE_SELECTABLE",{enumerable:!0,get:function(){function e(){return r(s).default}return e}()});var u=n(305);Object.defineProperty(t,"OPTIONS_INFO",{enumerable:!0,get:function(){function e(){return r(u).default}return e}()});var l=n(307);Object.defineProperty(t,"TRACKS_INFO",{enumerable:!0,get:function(){function e(){return r(l).default}return e}()});var c=n(306);Object.defineProperty(t,"TRACKS_INFO_BY_TYPE",{enumerable:!0,get:function(){function e(){return r(c).default}return e}()});var f=n(308);Object.defineProperty(t,"USED_SERVER",{enumerable:!0,get:function(){function e(){return r(f).default}return e}()}),t.MOUSE_TOOL_MOVE="move",t.MOUSE_TOOL_SELECT="select",t.TILE_FETCH_DEBOUNCE=100,t.ZOOM_DEBOUNCE=100,t.SHORT_DRAG_TIMEOUT=110,t.LONG_DRAG_TIMEOUT=3e3,t.LOCATION_LISTENER_PREFIX="locationListenerPrefix",t.ZOOM_TRANSITION_DURATION=1e3,t.DEFAULT_SERVER="http://higlass.io/api/v1",t.VIEW_HEADER_MED_WIDTH_SEARCH_BAR=400,t.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR=300},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(310);Object.defineProperty(t,"chromInfo",{enumerable:!0,get:function(){function e(){return r(i).default}return e}()});var o=n(311);Object.defineProperty(t,"domEvent",{enumerable:!0,get:function(){function e(){return r(o).default}return e}()});var a=n(27);Object.defineProperty(t,"pubSub",{enumerable:!0,get:function(){function e(){return r(a).default}return e}()});var s=n(312);Object.defineProperty(t,"tileProxy",{enumerable:!0,get:function(){function e(){return r(s).default}return e}()}),Object.defineProperty(t,"requestsInFlight",{enumerable:!0,get:function(){function e(){return s.requestsInFlight}return e}()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(158);n.d(t,"bisect",function(){return r.a}),n.d(t,"bisectRight",function(){return r.b}),n.d(t,"bisectLeft",function(){return r.c});var i=n(44);n.d(t,"ascending",function(){return i.a});var o=n(159);n.d(t,"bisector",function(){return o.a});var a=n(346);n.d(t,"cross",function(){return a.a});var s=n(347);n.d(t,"descending",function(){return s.a});var u=n(160);n.d(t,"deviation",function(){return u.a});var l=n(161);n.d(t,"extent",function(){return l.a});var c=n(348);n.d(t,"histogram",function(){return c.a});var f=n(358);n.d(t,"thresholdFreedmanDiaconis",function(){return f.a});var h=n(359);n.d(t,"thresholdScott",function(){return h.a});var d=n(165);n.d(t,"thresholdSturges",function(){return d.a});var p=n(350);n.d(t,"max",function(){return p.a});var v=n(351);n.d(t,"mean",function(){return v.a});var g=n(352);n.d(t,"median",function(){return g.a});var m=n(353);n.d(t,"merge",function(){return m.a});var y=n(162);n.d(t,"min",function(){return y.a});var b=n(163);n.d(t,"pairs",function(){return b.a});var w=n(354);n.d(t,"permute",function(){return w.a});var x=n(88);n.d(t,"quantile",function(){return x.a});var _=n(164);n.d(t,"range",function(){return _.a});var k=n(355);n.d(t,"scan",function(){return k.a});var S=n(356);n.d(t,"shuffle",function(){return S.a});var O=n(357);n.d(t,"sum",function(){return O.a});var T=n(166);n.d(t,"ticks",function(){return T.a}),n.d(t,"tickIncrement",function(){return T.b}),n.d(t,"tickStep",function(){return T.c});var C=n(167);n.d(t,"transpose",function(){return C.a});var E=n(168);n.d(t,"variance",function(){return E.a});var P=n(360);n.d(t,"zip",function(){return P.a})},function(e,t,n){e.exports=n(701)},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){"use strict";function r(e,t,n,a){function s(t){return e(t=new Date(+t)),t}return s.floor=s,s.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},s.range=function(n,r,i){var o,a=[];if(n=s.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return a;do{a.push(o=new Date(+n)),t(n,i),e(n)}while(o<n&&n<r);return a},s.filter=function(n){return r(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(s.count=function(t,r){return i.setTime(+t),o.setTime(+r),e(i),e(o),Math.floor(n(i,o))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(a?function(t){return a(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}t.a=r;var i=new Date,o=new Date},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(406);n.d(t,"scaleBand",function(){return r.a}),n.d(t,"scalePoint",function(){return r.b});var i=n(412);n.d(t,"scaleIdentity",function(){return i.a});var o=n(58);n.d(t,"scaleLinear",function(){return o.a});var a=n(413);n.d(t,"scaleLog",function(){return a.a});var s=n(186);n.d(t,"scaleOrdinal",function(){return s.a}),n.d(t,"scaleImplicit",function(){return s.b});var u=n(414);n.d(t,"scalePow",function(){return u.a}),n.d(t,"scaleSqrt",function(){return u.b});var l=n(415);n.d(t,"scaleQuantile",function(){return l.a});var c=n(416);n.d(t,"scaleQuantize",function(){return c.a});var f=n(419);n.d(t,"scaleThreshold",function(){return f.a});var h=n(187);n.d(t,"scaleTime",function(){return h.a});var d=n(421);n.d(t,"scaleUtc",function(){return d.a});var p=n(407);n.d(t,"schemeCategory10",function(){return p.a});var v=n(409);n.d(t,"schemeCategory20b",function(){return v.a});var g=n(410);n.d(t,"schemeCategory20c",function(){return g.a});var m=n(408);n.d(t,"schemeCategory20",function(){return m.a});var y=n(411);n.d(t,"interpolateCubehelixDefault",function(){return y.a});var b=n(417);n.d(t,"interpolateRainbow",function(){return b.a}),n.d(t,"interpolateWarm",function(){return b.b}),n.d(t,"interpolateCool",function(){return b.c});var w=n(422);n.d(t,"interpolateViridis",function(){return w.a}),n.d(t,"interpolateMagma",function(){return w.b}),n.d(t,"interpolateInferno",function(){return w.c}),n.d(t,"interpolatePlasma",function(){return w.d});var x=n(418);n.d(t,"scaleSequential",function(){return x.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(94);n.d(t,"color",function(){return r.a}),n.d(t,"rgb",function(){return r.b}),n.d(t,"hsl",function(){return r.c});var i=n(369);n.d(t,"lab",function(){return i.a}),n.d(t,"hcl",function(){return i.b});var o=n(368);n.d(t,"cubehelix",function(){return o.a})},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";function r(e,t){this._groups=e,this._parents=t}function i(){return new r([[document.documentElement]],I)}n.d(t,"c",function(){return I}),t.b=r;var o=n(449),a=n(450),s=n(438),u=n(432),l=n(189),c=n(437),f=n(442),h=n(445),d=n(452),p=n(430),v=n(444),g=n(443),m=n(451),y=n(436),b=n(435),w=n(429),x=n(191),_=n(446),k=n(431),S=n(453),O=n(439),T=n(447),C=n(441),E=n(428),P=n(440),M=n(448),A=n(433),j=n(113),R=n(434),I=[null];r.prototype=i.prototype={constructor:r,select:o.a,selectAll:a.a,filter:s.a,data:u.a,enter:l.a,exit:c.a,merge:f.a,order:h.a,sort:d.a,call:p.a,nodes:v.a,node:g.a,size:m.a,empty:y.a,each:b.a,attr:w.a,style:x.b,property:_.a,classed:k.a,text:S.a,html:O.a,raise:T.a,lower:C.a,append:E.a,insert:P.a,remove:M.a,datum:A.a,on:j.c,dispatch:R.a},t.a=i},function(e,t,n){"use strict";function r(e,t){var n=o(e,t);if(n.state>f)throw new Error("too late; already scheduled");return n}function i(e,t){var n=o(e,t);if(n.state>d)throw new Error("too late; already started");return n}function o(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function a(e,t,r){function i(e){r.state=h,r.timer.restart(o,r.delay,r.time),r.delay<=e&&o(e-r.delay)}function o(i){var f,g,y,b;if(r.state!==h)return s();for(f in c)if(b=c[f],b.name===r.name){if(b.state===p)return n.i(u.b)(o);b.state===v?(b.state=m,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete c[f]):+f<t&&(b.state=m,b.timer.stop(),delete c[f])}if(n.i(u.b)(function(){r.state===p&&(r.state=v,r.timer.restart(a,r.delay,r.time),a(i))}),r.state=d,r.on.call("start",e,e.__data__,r.index,r.group),r.state===d){for(r.state=p,l=new Array(y=r.tween.length),f=0,g=-1;f<y;++f)(b=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(l[++g]=b);l.length=g+1}}function a(t){for(var n=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(s),r.state=g,1),i=-1,o=l.length;++i<o;)l[i].call(null,n);r.state===g&&(r.on.call("end",e,e.__data__,r.index,r.group),s())}function s(){r.state=m,r.timer.stop(),delete c[t];for(var n in c)return;delete e.__transition}var l,c=e.__transition;c[t]=r,r.timer=n.i(u.a)(i,0,r.time)}n.d(t,"d",function(){return h}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return g}),n.d(t,"c",function(){return m}),t.g=r,t.e=i,t.f=o;var s=n(31),u=n(196),l=n.i(s.a)("start","end","interrupt"),c=[],f=0,h=1,d=2,p=3,v=4,g=5,m=6;t.h=function(e,t,n,r,i,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};a(e,n,{name:t,index:r,group:i,on:l,tween:c,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:f})}},function(e,t,n){var r=n(221),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){"use strict";var r=n(102);n.d(t,"a",function(){return r.a});var i=(n(177),n(101),n(178),n(180),n(69));n.d(t,"c",function(){return i.a});var o=(n(181),n(398));n.d(t,"h",function(){return o.a});var a=n(183);n.d(t,"e",function(){return a.a});var s=n(400);n.d(t,"b",function(){return s.a}),n.d(t,"f",function(){return s.b});var u=n(402);n.d(t,"g",function(){return u.a});var l=n(182);n.d(t,"d",function(){return l.a});var c=(n(395),n(396),n(394),n(393));n.d(t,"i",function(){return c.a}),n(397)},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){"use strict";var r=n(35);t.a=function(e,t){return function(i,o){var a=n.i(r.a)(i).mimeType(e).response(t);if(null!=o){if("function"!=typeof o)throw new Error("invalid callback: "+o);return a.get(o)}return a}}},function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=1e3,i=6e4,o=36e5,a=864e5,s=6048e5},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.red=void 0;var i=n(617),o=r(i),a=n(702),s=r(a);t.default={simpleCheckForValidColor:function(e){var t=["r","g","b","a","h","s","l","v"],n=0,r=0;return(0,o.default)(t,function(t){e[t]&&(n+=1,isNaN(e[t])||(r+=1))}),n===r&&e},toState:function(e,t){var n=e.hex?(0,s.default)(e.hex):(0,s.default)(e),r=n.toHsl(),i=n.toHsv(),o=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=t||0,i.h=t||0),{hsl:r,hex:"000000"===a&&0===o.a?"transparent":"#"+a,rgb:o,hsv:i,oldHue:e.h||t||r.h,source:e.source}},isValidHex:function(e){return(0,s.default)(e).isValid()}},t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},function(e,t,n){"use strict";function r(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function i(e){return n.i(a.selection)().transition(e)}function o(){return++S}t.a=r,t.b=o;var a=n(4),s=n(477),u=n(478),l=n(479),c=n(480),f=n(481),h=n(482),d=n(483),p=n(484),v=n(485),g=n(486),m=n(487),y=n(488),b=n(489),w=n(490),x=n(491),_=n(492),k=n(72),S=0,O=a.selection.prototype;r.prototype=i.prototype={constructor:r,select:g.a,selectAll:m.a,filter:h.a,merge:d.a,selection:y.a,transition:_.a,call:O.call,nodes:O.nodes,node:O.node,size:O.size,empty:O.empty,each:O.each,on:p.a,attr:s.a,attrTween:u.a,style:b.a,styleTween:w.a,text:x.a,remove:v.a,tween:k.a,delay:l.a,duration:c.a,ease:f.a}},function(e,t,n){function r(e,t){return(s(e)?i:a)(e,o(t,3))}var i=n(127),o=n(75),a=n(215),s=n(15);e.exports=r},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=(0,f.precisionPrefix)(t,e);return(0,f.formatPrefix)("."+n,e)(e)}function s(e,t){var n=e.map(function(e){return+e}).sort(function(e,t){return t-e});return a(n[t],n[n.length-1])}function u(e,t,n,r){var i=t/(Math.pow(2,e)*n);if(isNaN(i))return console.warn("NaN resolution, screen is probably too small. Dimensions:",this.dimensions),"";var o=t/(Math.pow(2,r)*n),a=(0,f.precisionPrefix)(o,i);return(0,f.formatPrefix)("."+a,i)(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.PixiTrack=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),f=n(45),h=n(10),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),p=n(9),v=function(e){return e&&e.__esModule?e:{default:e}}(p),g=n(85),m=n(3),y=t.PixiTrack=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));o.scene=e,o.delayDrawing=!1,o.pBase=new d.Graphics,o.pMasked=new d.Graphics,o.pMask=new d.Graphics,o.pMain=new d.Graphics,o.pBorder=new d.Graphics,o.pLabel=new d.Graphics,o.pMobile=new d.Graphics,o.pAxis=new d.Graphics,o.scene.addChild(o.pBase),o.pBase.addChild(o.pMasked),o.pMasked.addChild(o.pMain),o.pMasked.addChild(o.pMask),o.pMasked.addChild(o.pMobile),o.pMasked.addChild(o.pBorder),o.pMasked.addChild(o.pLabel),o.pBase.addChild(o.pAxis),o.pMasked.mask=o.pMask,o.prevOptions="",o.options=Object.assign(o.options,n);var a=o.options.name?o.options.name:o.tilesetInfo?o.tilesetInfo.name:"";return o.labelTextFontFamily="Arial",o.labelTextFontSize=12,o.labelText=new d.Text(a,{fontSize:o.labelTextFontSize+"px",fontFamily:o.labelTextFontFamily,fill:"black"}),o.pLabel.addChild(o.labelText),o}return o(t,e),l(t,[{key:"setLabelText",value:function(){function e(){}return e}()},{key:"setPosition",value:function(){function e(e){this.position=e,this.setMask(this.position,this.dimensions)}return e}()},{key:"setDimensions",value:function(){function e(e){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDimensions",this).call(this,e),this.setMask(this.position,this.dimensions)}return e}()},{key:"setMask",value:function(){function e(e,t){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(e[0],e[1],t[0],t[1]),this.pMask.endFill()}return e}()},{key:"remove",value:function(){function e(){this.pBase.clear(),this.scene.removeChild(this.pBase)}return e}()},{key:"drawBorder",value:function(){function e(){var e=this.pBorder;if(e.clear(),this.options&&this.options.trackBorderWidth){var t=(0,m.colorToHex)(this.options.trackBorderColor?this.options.trackBorderColor:"white");e.lineStyle(this.options.trackBorderWidth,t),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}return e}()},{key:"drawLabel",value:function(){function e(){var e=this.pLabel;if(!this.options||!this.options.labelPosition)return void(this.labelText.opacity=0);e.clear(),this.options.labelBackgroundOpacity?e.beginFill(16777215,+this.options.labelBackgroundOpacity):e.beginFill(16777215,0);var t=(0,m.colorToHex)(this.options.labelColor?this.options.labelColor:"black");if(!(this.dimensions[0]<0)){var n=this.tilesetInfo&&this.tilesetInfo.coordSystem?this.tilesetInfo.coordSystem+" | ":"";if(n+=this.options.name?this.options.name:this.tilesetInfo?this.tilesetInfo.name:"",
this.tilesetInfo&&this.tilesetInfo.max_width&&this.tilesetInfo.bins_per_dimension)n+="\n[Current data resolution: "+u(this.calculateZoomLevel(),this.tilesetInfo.max_width,this.tilesetInfo.bins_per_dimension,this.tilesetInfo.max_zoom)+"]";else if(this.tilesetInfo&&this.tilesetInfo.resolutions){var r=s(this.tilesetInfo.resolutions,this.calculateZoomLevel());n+="\n[Current data resolution: "+r+"]"}if(this.options&&this.options.dataTransform){var i=null;if(this.tilesetInfo&&this.tilesetInfo.transforms){var o=!0,a=!1,l=void 0;try{for(var c,f=this.tilesetInfo.transforms[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var h=c.value;h.value===this.options.dataTransform&&(i=h)}}catch(e){a=!0,l=e}finally{try{!o&&f.return&&f.return()}finally{if(a)throw l}}}i?n+="\n[Transform: "+i.name+"]":"None"===this.options.dataTransform?n+="\n[Transform: None ]":n+="\n[Transform: Default ]"}this.labelText.text=n,this.labelText.style={fontSize:this.labelTextFontSize+"px",fontFamily:this.labelTextFontFamily,fill:t},this.labelText.alpha=void 0!==this.options.labelTextOpacity?this.options.labelTextOpacity:1,this.labelText.visible=!0,this.flipText&&(this.labelText.scale.x=-1),"topLeft"===this.options.labelPosition?(this.labelText.x=this.position[0],this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x+=this.labelText.width/2,e.drawRect(this.position[0],this.position[1],this.labelText.width+2,this.labelText.height+2)):"bottomLeft"===this.options.labelPosition&&!this.flipText||"topRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0],this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x+=this.labelText.width/2,e.drawRect(this.position[0],this.position[1]+this.dimensions[1]-this.labelText.height-2,this.labelText.width+2,this.labelText.height+2)):"topRight"===this.options.labelPosition&&!this.flipText||"bottomLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x-=this.labelText.width/2,e.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-2,this.position[1],this.labelText.width+2,this.labelText.height+2)):"bottomRight"===this.options.labelPosition?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x-=this.labelText.width/2,e.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-2,this.position[1]+this.dimensions[1]-this.labelText.height-2,this.labelText.width+2,this.labelText.height+2)):"outerLeft"===this.options.labelPosition&&!this.flipText||"outerTop"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x-=this.labelText.width/2+3):"outerTop"===this.options.labelPosition&&!this.flipText||"outerLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y-=this.labelText.height/2+3):"outerBottom"===this.options.labelPosition&&!this.flipText||"outerRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y+=this.labelText.height/2+3):"outerRight"==this.options.labelPosition&&!this.flipText||"outerBottom"==this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x+=this.labelText.width/2+3):this.labelText.visible=!1,"outerLeft"==this.options.labelPosition||"outerRight"==this.options.labelPosition||"outerTop"==this.options.labelPosition||"outerBottom"==this.options.labelPosition?this.pLabel.setParent(this.pBase):this.pLabel.setParent(this.pMasked)}}return e}()},{key:"rerender",value:function(){function e(e){this.options=e,this.draw()}return e}()},{key:"draw",value:function(){function e(){this.drawBorder(),this.drawLabel()}return e}()},{key:"exportSVG",value:function(){function e(){var e=document.createElement("g"),t=document.createElement("g");t.setAttribute("class","g-clipped"),e.appendChild(t);var n=document.createElement("g");t.setAttribute("class","g-track"),t.appendChild(n);var r=document.createElement("g");t.setAttribute("class","g-labels"),t.appendChild(r);var i=document.createElementNS("http://www.w3.org/2000/svg","clipPath");e.appendChild(i);var o=document.createElementNS("http://www.w3.org/2000/svg","polygon");i.appendChild(o),o.setAttribute("points",this.position[0]+","+this.position[1]+" "+(this.position[0]+this.dimensions[0])+","+this.position[1]+" "+(this.position[0]+this.dimensions[0])+","+(this.position[1]+this.dimensions[1])+" "+this.position[0]+","+(this.position[1]+this.dimensions[1])+" ");var a=v.default.nice();i.setAttribute("id",a),t.setAttribute("style","clip-path:url(#"+a+");");var s=this.labelText.text.split("\n"),u=0,l=(this.labelTextFontSize+2)*s.length+3;.5==this.labelText.anchor.y?u=l/2:1==this.labelText.anchor.y&&(u=-l);for(var c=0;c<s.length;c++){var f=document.createElement("text");if(f.setAttribute("font-family",this.labelTextFontFamily),f.setAttribute("font-size",this.labelTextFontSize+"px"),f.innerText=s[c],"topLeft"===this.options.labelPosition||"topRight"===this.options.labelPosition){var h=u+(c+1)*(this.labelTextFontSize+2);f.setAttribute("dy",h)}else"bottomLeft"!==this.options.labelPosition&&"bottomRight"!==this.options.labelPosition||f.setAttribute("dy",u+c*(this.labelTextFontSize+2));f.setAttribute("fill",this.options.labelColor),.5==this.labelText.anchor.x?f.setAttribute("text-anchor","middle"):1==this.labelText.anchor.x&&f.setAttribute("text-anchor","end"),r.appendChild(f)}return r.setAttribute("transform","translate("+this.labelText.x+","+this.labelText.y+")scale("+this.labelText.scale.x+",1)"),[e,n]}return e}()}]),t}(g.Track);t.default=y},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={},i=function(){function e(e,t){r[e]&&r[e].forEach(function(e){return e(t)})}return e}(),o=function(){function e(e,t){return r[e]||(r[e]=[]),{event:e,id:r[e].push(t)-1}}return e}(),a=function(){function e(e,t,i){var o=e,a=i;"object"===(void 0===e?"undefined":n(e))?(o=e.event,a=e.id):a=void 0!==i?i:r[o].indexOf(t),r[o]&&(-1===a||a>=r[o].length||r[o].splice(a,1))}return e}(),s={publish:i,subscribe:o,unsubscribe:a};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return-1!==e.indexOf(".")},i=function(e,t,n){var r=e.split("."),i=r[0],o=r[1],a=n||"throw";if(!o){if("throw"===a)throw new Error("Invalid style name.");if("warn"!==a)return null;console.warn("Invalid style name.")}if(!t[i]){if("throw"===a)throw new Error("CSS module import does not exist.");if("warn"!==a)return null;console.warn("CSS module import does not exist.")}if(!t[i][o]){if("throw"===a)throw new Error("CSS module does not exist.");if("warn"!==a)return null;console.warn("CSS module does not exist.")}return t[i][o]};t.default=function(e,t,n){var o=Object.keys(t),a=n&&n.handleMissingStyleName||"throw";return e.split(" ").filter(function(e){return e}).map(function(e){if(r(e))return i(e,t,a);if(0===o.length)throw new Error("Cannot use styleName attribute without importing at least one stylesheet.");if(o.length>1)throw new Error("Cannot use anonymous style name with more than one stylesheet import.");var n=t[o[0]];if(!n[e]){if("throw"===a)throw new Error("Could not resolve the styleName '"+e+"'.");"warn"===a&&console.warn("Could not resolve the styleName '"+e+"'.")}return n[e]}).filter(function(e){return e}).join(" ")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(364);n.d(t,"brush",function(){return r.a}),n.d(t,"brushX",function(){return r.b}),n.d(t,"brushY",function(){return r.c}),n.d(t,"brushSelection",function(){return r.d})},function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var i,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(i=e[o],o,e),i)}else if(e)for(var s in e)n.set(s,e[s]);return n}n.d(t,"b",function(){return o});var o="$";r.prototype=i.prototype={constructor:r,has:function(e){return o+e in this},get:function(e){return this[o+e]},set:function(e,t){return this[o+e]=t,this},remove:function(e){var t=o+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===o&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===o&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===o&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===o&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===o&&++e;return e},empty:function(){for(var e in this)if(e[0]===o)return!1;return!0},each:function(e){for(var t in this)t[0]===o&&e(this[t],t.slice(1),this)}},t.a=i},function(e,t,n){"use strict";var r=n(96);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33);n.d(t,"dsvFormat",function(){return r.a});var i=n(98);n.d(t,"csvParse",function(){return i.a}),n.d(t,"csvParseRows",function(){return i.b}),n.d(t,"csvFormat",function(){return i.c}),n.d(t,"csvFormatRows",function(){return i.d});var o=n(99);n.d(t,"tsvParse",function(){return o.a}),n.d(t,"tsvParseRows",function(){return o.b}),n.d(t,"tsvFormat",function(){return o.c}),n.d(t,"tsvFormatRows",function(){return o.d})},function(e,t,n){"use strict";function r(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function i(e,t){var n=r(e);return function(r,i){return t(n(r),i,e)}}function o(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}var a={},s={},u=34,l=10,c=13;t.a=function(e){function t(e,t){var o,a,s=n(e,function(e,n){if(o)return o(e,n-1);a=e,o=t?i(e,t):r(e)});return s.columns=a||[],s}function n(e,t){function n(){if(d)return s;if(p)return p=!1,a;var t,n,r=f;if(e.charCodeAt(r)===u){for(;f++<o&&e.charCodeAt(f)!==u||e.charCodeAt(++f)===u;);return(t=f)>=o?d=!0:(n=e.charCodeAt(f++))===l?p=!0:n===c&&(p=!0,e.charCodeAt(f)===l&&++f),e.slice(r+1,t-1).replace(/""/g,'"')}for(;f<o;){if((n=e.charCodeAt(t=f++))===l)p=!0;else if(n===c)p=!0,e.charCodeAt(f)===l&&++f;else if(n!==g)continue;return e.slice(r,t)}return d=!0,e.slice(r,o)}var r,i=[],o=e.length,f=0,h=0,d=o<=0,p=!1;for(e.charCodeAt(o-1)===l&&--o,e.charCodeAt(o-1)===c&&--o;(r=n())!==s;){for(var v=[];r!==a&&r!==s;)v.push(r),r=n();t&&null==(v=t(v,h++))||i.push(v)}return i}function f(t,n){return null==n&&(n=o(t)),[n.map(p).join(e)].concat(t.map(function(t){return n.map(function(e){return p(t[e])}).join(e)})).join("\n")}function h(e){return e.map(d).join("\n")}function d(t){return t.map(p).join(e)}function p(e){return null==e?"":v.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}var v=new RegExp('["'+e+"\n\r]"),g=e.charCodeAt(0);return{parse:t,parseRows:n,format:f,formatRows:h}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35);n.d(t,"request",function(){return r.a});var i=n(104);n.d(t,"html",function(){return i.a});var o=n(105);n.d(t,"json",function(){return o.a});var a=n(106);n.d(t,"text",function(){return a.a});var s=n(108);n.d(t,"xml",function(){return s.a});var u=n(103);n.d(t,"csv",function(){return u.a});var l=n(107);n.d(t,"tsv",function(){return l.a})},function(e,t,n){"use strict";function r(e){return function(t,n){e(null==t?n:null)}}function i(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}var o=n(67),a=n(31);t.a=function(e,t){function s(e){var t,n=p.status;if(!n&&i(p)||n>=200&&n<300||304===n){if(c)try{t=c.call(u,p)}catch(e){return void h.call("error",u,e)}else t=p;h.call("load",u,t)}else h.call("error",u,e)}var u,l,c,f,h=n.i(a.a)("beforesend","progress","load","error"),d=n.i(o.a)(),p=new XMLHttpRequest,v=null,g=null,m=0;if("undefined"==typeof XDomainRequest||"withCredentials"in p||!/^(http(s)?:)?\/\//.test(e)||(p=new XDomainRequest),"onload"in p?p.onload=p.onerror=p.ontimeout=s:p.onreadystatechange=function(e){p.readyState>3&&s(e)},p.onprogress=function(e){h.call("progress",u,e)},u={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?d.get(e):(null==t?d.remove(e):d.set(e,t+""),u)},mimeType:function(e){return arguments.length?(l=null==e?null:e+"",u):l},responseType:function(e){return arguments.length?(f=e,u):f},timeout:function(e){return arguments.length?(m=+e,u):m},user:function(e){return arguments.length<1?v:(v=null==e?null:e+"",u)},password:function(e){return arguments.length<1?g:(g=null==e?null:e+"",u)},response:function(e){return c=e,u},get:function(e,t){return u.send("GET",e,t)},post:function(e,t){return u.send("POST",e,t)},send:function(t,n,i){return p.open(t,e,!0,v,g),null==l||d.has("accept")||d.set("accept",l+",*/*"),p.setRequestHeader&&d.each(function(e,t){p.setRequestHeader(t,e)}),null!=l&&p.overrideMimeType&&p.overrideMimeType(l),null!=f&&(p.responseType=f),m>0&&(p.timeout=m),null==i&&"function"==typeof n&&(i=n,n=null),null!=i&&1===i.length&&(i=r(i)),null!=i&&u.on("error",i).on("load",function(e){i(null,e)}),h.call("beforesend",u,p),p.send(null==n?null:n),u},abort:function(){return p.abort(),u},on:function(){var e=h.on.apply(h,arguments);return e===h?u:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return u.get(t)}return u}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=Array.prototype,i=r.map,o=r.slice},function(e,t){e.exports={"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},function(e,t,n){function r(e){return null==e?void 0===e?u:s:l&&l in Object(e)?o(e):a(e)}var i=n(46),o=n(574),a=n(603),s="[object Null]",u="[object Undefined]",l=i?i.toStringTag:void 0;e.exports=r},function(e,t,n){function r(e,t){var n=o(e,t);return i(n)?n:void 0}var i=n(539),o=n(575);e.exports=r},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){function r(e,t){o.tileProxy.text(e,function(e,n){for(var r=(0,i.tsvParseRows)(n),o=[],a={},s={},u=0,l=0;l<r.length;l++){u+=+r[l][1];var c={id:l,chr:r[l][0],pos:u-+r[l][1]};o.push(c),s[c.chr]=c,a[r[l][0]]=r[l][1]}t({cumPositions:o,chrPositions:s,totalLength:u,chromLengths:a})})}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromosomeInfo=r;var i=n(32),o=n(7);t.default=r},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TiledPixiTrack=t.getValueScale=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),c=n(13),f=n(8),h=n(9),d=r(h),p=n(10),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),g=n(26),m=r(g),y=(n(7),n(3)),b=n(6),w=n(261),x=r(w),_=(t.getValueScale=function(){function e(e,t,n,r){var i=e||r;return"log"==i&&t>0?(0,c.scaleLog)().range([254,0]).domain([t,t+n]):("log"==i&&console.warn("Negative values present in data. Defaulting to linear scale: ",this.scale.minValue),(0,c.scaleLog)().range([254,0]).domain([t,t+n]))}return e}(),t.TiledPixiTrack=function(e){function t(e,n,r,i,s,u){o(this,t);var l=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return l.visibleTiles=new Set,l.visibleTileIds=new Set,l.fetching=new Set,l.scale={},l.fetchedTiles={},l.tileGraphics={},l.maxZoom=0,l.medianVisibleValue=null,l.animate=s,l.onValueScaleChanged=u,l.prevValueScale=null,l.dataFetcher=new x.default(n),l.dataFetcher.tilesetInfo(function(e){if(l.tilesetInfo=e,"error"in l.tilesetInfo)return console.warn("Error retrieving tilesetInfo:",n,l.tilesetInfo.error),l.error=l.tilesetInfo.error,l.tilesetInfo=null,l.draw(),void l.animate();l.maxZoom=+l.tilesetInfo.max_zoom,l.options&&l.options.maxZoom&&(l.options.maxZoom>=0?l.maxZoom=Math.min(l.options.maxZoom,l.maxZoom):console.error("Invalid maxZoom on track:",l)),l.refreshTiles(),r&&r(e),l.options||(l.options={}),l.options.name=l.options.name?l.options.name:e.name,l.draw(),l.animate()}),l.uuid=d.default.nice(),l.refreshTilesDebounced=(0,y.debounce)(l.refreshTiles.bind(l),b.ZOOM_DEBOUNCE),l.trackNotFoundText=new v.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"black"}),l.pLabel.addChild(l.trackNotFoundText),l}return s(t,e),u(t,[{key:"rerender",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rerender",this).call(this,e),this.tilesetInfo&&(this.maxZoom=+this.tilesetInfo.max_zoom,this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?this.maxZoom=Math.min(this.options.maxZoom,this.maxZoom):console.error("Invalid maxZoom on track:",this)))}return e}()},{key:"visibleAndFetchedIds",value:function(){function e(){var e=this;return Object.keys(this.fetchedTiles).filter(function(t){return e.visibleTileIds.has(t)})}return e}()},{key:"visibleAndFetchedTiles",value:function(){function e(){var e=this;return this.visibleAndFetchedIds().map(function(t){return e.fetchedTiles[t]})}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map(function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e),mirrored:e.mirrored}}),this.visibleTileIds=new Set(this.visibleTiles.map(function(e){return e.tileId}))}return e}()},{key:"refreshTiles",value:function(){function e(){var e=this;if(this.tilesetInfo){this.calculateVisibleTiles();for(var t=new Set(Object.keys(this.fetchedTiles)),n=[].concat(i(this.visibleTiles)).filter(function(n){return!e.fetching.has(n.remoteId)&&!t.has(n.tileId)}),r=0;r<n.length;r++)this.fetching.add(n[r].remoteId);var o=[].concat(i(t)).filter(function(t){return!e.visibleTileIds.has(t)});this.removeTiles(o),this.fetchNewTiles(n)}}return e}()},{key:"parentInFetched",value:function(){function e(e){for(var t=e.tileData.tilesetUid,n=e.tileData.zoomLevel,r=e.tileData.tilePos;n>0;)if(n-=1,r=r.map(function(e){return Math.floor(e/2)}),t+"."+n+"."+r.join(".")in this.fetchedTiles)return!0;return!1}return e}()},{key:"parentTileId",value:function(){function e(e){var t=e.tileData.zoomLevel-1,n=e.tileData.tilePos.map(function(e){return Math.floor(e/2)});return e.tileData.tilesetUid+"."+t+"."+n.join(".")}return e}()},{key:"removeTiles",value:function(){function e(e){var t=this;e.length&&this.areAllVisibleTilesLoaded()&&(e.forEach(function(e){var n=e;t.destroyTile(t.fetchedTiles[n]),n in t.tileGraphics&&(t.pMain.removeChild(t.tileGraphics[n]),delete t.tileGraphics[n]),delete t.fetchedTiles[n]}),this.synchronizeTilesAndGraphics(),this.draw())}return e}()},{key:"zoomed",value:function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;arguments.length>4&&void 0!==arguments[4]&&arguments[4],this.xScale(e),this.yScale(t),this.refreshTilesDebounced(),this.pMobile.position.x=r,this.pMobile.position.y=this.position[1],this.pMobile.scale.x=n,this.pMobile.scale.y=1}return e}()},{key:"setPosition",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e)}return e}()},{key:"setDimensions",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDimensions",this).call(this,e)}return e}()},{key:"areAllVisibleTilesLoaded",value:function(){function e(){for(var e=new Set(Object.keys(this.fetchedTiles)),t=[].concat(i(this.visibleTileIds)),n=0;n<t.length;n++)if(!e.has(t[n]))return!1;return!0}return e}()},{key:"allTilesLoaded",value:function(){function e(){}return e}()},{key:"minValue",value:function(){function e(e){if(!e)return this.scale.minValue;this.scale.minValue=e}return e}()},{key:"maxValue",value:function(){function e(e){if(!e)return this.scale.maxValue;this.scale.maxValue=e}return e}()},{key:"minRawValue",value:function(){function e(){return this.scale.minRawValue}return e}()},{key:"maxRawValue",value:function(){function e(){return this.scale.maxRawValue}return e}()},{key:"initTile",value:function(){function e(e){this.scale.minRawValue=this.minVisibleValue(),this.scale.maxRawValue=this.maxVisibleValue(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue}return e}()},{key:"updateTile",value:function(){function e(e){}return e}()},{key:"destroyTile",value:function(){function e(e){}return e}()},{key:"addMissingGraphics",value:function(){function e(){for(var e=Object.keys(this.fetchedTiles),t=0;t<e.length;t++)if(!(e[t]in this.tileGraphics)){var n=new v.Graphics;this.pMain.addChild(n),this.fetchedTiles[e[t]].graphics=n,this.initTile(this.fetchedTiles[e[t]]),this.tileGraphics[e[t]]=n}}return e}()},{key:"updateExistingGraphics",value:function(){function e(){for(var e=Object.keys(this.fetchedTiles),t=0;t<e.length;t++)this.updateTile(this.fetchedTiles[e[t]])}return e}()},{key:"synchronizeTilesAndGraphics",value:function(){function e(){this.addMissingGraphics(),this.updateExistingGraphics()}return e}()},{key:"loadTileData",value:function(){function e(e,t){var n=this.lruCache.get(e.tileId);return n||(n=t(e.data,e.type),this.lruCache.put(e.tileId,n)),n}return e}()},{key:"fetchNewTiles",value:function(){function e(e){if(e.length>0){var t=[].concat(i(new Set(e.map(function(e){return e.remoteId}))));this.dataFetcher.fetchTilesDebounced(this.receivedTiles.bind(this),t)}}return e}()},{key:"receivedTiles",value:function(){function e(e){for(var t=0;t<this.visibleTiles.length;t++){var n=this.visibleTiles[t].tileId;e[this.visibleTiles[t].remoteId]&&this.visibleTiles[t].remoteId in e&&(n in this.fetchedTiles||(this.fetchedTiles[n]=this.visibleTiles[t]),this.fetchedTiles[n].tileData=e[this.visibleTiles[t].remoteId],this.fetchedTiles[n].tileData.error&&console.warn("Error in loaded tile",n,this.fetchedTiles[n].tileData))}new Set(Object.keys(this.fetchedTiles));for(var r in e)if(e[r]){var i=e[r].tilePositionId;this.fetching.has(i)&&this.fetching.delete(i)}this.synchronizeTilesAndGraphics(),this.refreshTiles(),this.options.valueScaling&&this.calculateMedianVisibleValue(),this.draw(),this.valueScale&&(this.prevValueScale&&JSON.stringify(this.valueScale.domain())==JSON.stringify(this.prevValueScale.domain())||(this.prevValueScale=this.valueScale.copy(),this.onValueScaleChanged&&this.onValueScaleChanged())),this.animate()}return e}()},{key:"draw",value:function(){function e(){if(!this.delayDrawing){this.tilesetInfo?this.trackNotFoundText.visible=!1:(this.dataFetcher.tilesetInfoLoading?this.trackNotFoundText.text="Loading...":this.trackNotFoundText.text="Tileset info not found. Server: ["+this.server+"] tilesetUid: ["+this.tilesetUid+"]",this.trackNotFoundText.x=this.position[0],this.trackNotFoundText.y=this.position[1],this.trackNotFoundText.visible=!0),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this);for(var e in this.fetchedTiles)this.drawTile(this.fetchedTiles[e])}}return e}()},{key:"drawTile",value:function(){function e(e,t){}return e}()},{key:"calculateMedianVisibleValue",value:function(){function e(){var e=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var t=this.visibleAndFetchedIds();0===t.length&&(t=Object.keys(this.fetchedTiles));var n=[].concat.apply([],t.filter(function(t){return e.fetchedTiles[t].tileData.dense}).map(function(t){return Array.from(e.fetchedTiles[t].tileData.dense)})).filter(function(e){return e>0});return this.medianVisibleValue=(0,f.median)(n),this.medianVisibleValue}return e}()},{key:"allVisibleValues",value:function(){function e(){var e=this;return[].concat.apply([],this.visibleAndFetchedIds().map(function(t){return Array.from(e.fetchedTiles[t].tileData.dense)}))}return e}()},{key:"minVisibleValue",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds();0==t.length&&(t=Object.keys(this.fetchedTiles));var n=Math.min.apply(null,t.map(function(t){return e.fetchedTiles[t].tileData.minNonZero}).filter(function(e){return e}));return n===Number.MAX_SAFE_INTEGER&&(n=null),n}return e}()},{key:"maxVisibleValue",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds();0===t.length&&(t=Object.keys(this.fetchedTiles));var n=Math.max.apply(null,t.map(function(t){return e.fetchedTiles[t].tileData.maxNonZero}).filter(function(e){return e}));return n===Number.MIN_SAFE_INTEGER&&(n=null),n}return e}()},{key:"makeValueScale",value:function(){function e(e,t,n,r){var i=null;if(r||(r=6),"log"===this.options.valueScaling){var o=t;o||(o=e),i=(0,c.scaleLog)().domain([o,n+o]).range([this.dimensions[1]-r,r]),pseudocount=o}else i=(0,c.scaleLinear)().domain([e,n]).range([this.dimensions[1]-r,r]);return i}return e}()}]),t}(m.default));t.default=_},function(e,t,n){"use strict";t.a=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(384);n.d(t,"formatDefaultLocale",function(){return r.a}),n.d(t,"format",function(){return r.b}),n.d(t,"formatPrefix",function(){return r.c});var i=n(176);n.d(t,"formatLocale",function(){return i.a});var o=n(174);n.d(t,"formatSpecifier",function(){return o.a});var a=n(390);n.d(t,"precisionFixed",function(){return a.a});var s=n(391);n.d(t,"precisionPrefix",function(){return s.a});var u=n(392);n.d(t,"precisionRound",function(){return u.a})},function(e,t,n){var r=n(18),i=r.Symbol;e.exports=i},function(e,t,n){function r(e){return null!=e&&o(e.length)&&!i(e)}var i=n(232),o=n(138);e.exports=r},function(e,t,n){function r(e){return a(e)?i(e):o(e)}var i=n(206),o=n(541),a=n(47);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=t.SortableHandle=t.SortableElement=t.SortableContainer=void 0;var i=n(245);Object.defineProperty(t,"arrayMove",{enumerable:!0,get:function(){return i.arrayMove}});var o=n(691),a=r(o),s=n(692),u=r(s),l=n(693),c=r(l);t.SortableContainer=a.default,t.SortableElement=u.default,t.SortableHandle=c.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenuContainer=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),l=r(u),c=n(0),f=r(c),h=n(11),d=r(h);n(37);var p=20,v=t.ContextMenuContainer=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.adjusted=!1,n.state={orientation:n.props.orientation?n.props.orientation:"right",left:n.props.position.left,top:n.props.position.top,submenuShown:null},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){this.updateOrientation()}return e}()},{key:"componentWillReceiveProps",value:function(){function e(e){this.adjusted=!1,this.setState({left:e.position.left,top:e.position.top})}return e}()},{key:"componentDidUpdate",value:function(){function e(){this.updateOrientation()}return e}()},{key:"handleItemMouseEnterWithRect",value:function(){function e(e,t){this.setState({submenuShown:t,submenuSourceBbox:e})}return e}()},{key:"handleItemMouseEnter",value:function(){function e(e,t){this.handleItemMouseEnterWithRect(e.currentTarget.getBoundingClientRect(),t)}return e}()},{key:"handleMouseLeave",value:function(){function e(){}return e}()},{key:"handleOtherMouseEnter",value:function(){function e(){this.setState({submenuShown:null})}return e}()},{key:"updateOrientation",value:function(){function e(){if(!this.adjusted){this.adjusted=!0,this.divDom=d.default.findDOMNode(this.div);var e=this.divDom.getBoundingClientRect(),t=this.props.parentBbox?this.props.parentBbox:{top:this.props.position.top,left:this.props.position.left,width:0,height:0},n=this.state.orientation,r=t.top;if(t.top+e.height>window.innerHeight&&t.top-e.height>0&&(r=t.top-e.height+p),"left"===this.state.orientation){var i=t.left-e.width;i<0&&(t.left+t.width+e.width>window.innerWidth?i=0:(i=t.left+t.width,n="right")),this.setState({left:i,top:r,orientation:n})}else{var o=t.left+t.width;t.left+t.width+e.width>window.innerWidth&&(t.left-e.width<0?(o=0,n="right"):(o=t.left-e.width,n="left")),this.setState({left:o,top:r,orientation:n})}}}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.state.left?{left:this.state.left}:{right:this.state.right},n={top:this.state.top},r=Object.assign(t,n);return f.default.createElement("div",{className:"context-menu-item ContextMenu-module_context-menu-2OwvL",ref:function(){function t(t){return e.div=t}return t}(),style:r},this.props.children)}return e}()}]),t}(f.default.Component);v.propTypes={children:l.default.node,orientation:l.default.string,parentBbox:l.default.object,position:l.default.object},t.default=v},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenuItem=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),l=r(u),c=n(0),f=r(c);n(37);var h=t.ContextMenuItem=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"componentWillUnmount",value:function(){function e(){}return e}()},{key:"render",value:function(){function e(){var e=this;return f.default.createElement("div",{onClick:function(){function t(t){return e.props.onClick(t)}return t}(),onMouseEnter:function(){function t(t){return e.props.onMouseEnter&&e.props.onMouseEnter(t)}return t}(),onMouseLeave:function(){function t(t){return e.props.onMouseLeave&&e.props.onMouseLeave(t)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},this.props.children))}return e}()}]),t}(f.default.Component);h.propTypes={children:l.default.node,onClick:l.default.func,onMouseEnter:l.default.func,onMouseLeave:l.default.func},t.default=h},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(147),u=n(7),l=n(82),c=function(e){function t(e,n,o,a,s,u){r(this,t);var c=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,u));return c.axis=new l.AxisPixi(c),c.pBase.addChild(c.axis.pAxis),c}return o(t,e),a(t,[{key:"calculateZoomLevel",value:function(){function e(){var e=u.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])-2,t=Math.min(e,this.maxZoom);return t=Math.max(t,0)}return e}()},{key:"relevantScale",value:function(){function e(){return this._xScale}return e}()},{key:"drawAxis",value:function(){function e(e){return this.options.axisPositionVertical||this.options.axisPositionHorizontal?this.options.axisPositionVertical&&"hidden"===this.options.axisPositionVertical?void this.axis.clearAxis():this.options.axisPositionHorizontal&&"hidden"===this.options.axisPositionHorizontal?void this.axis.clearAxis():void("left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0],this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(e,this.dimensions[1])):"outsideLeft"===this.options.axisPositionHorizontal||"outsideTop"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0],this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(e,this.dimensions[1])):"right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0],this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(e,this.dimensions[1])):"outsideRight"!==this.options.axisPositionHorizontal&&"outsideBottom"!==this.options.axisPositionVertical||(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0],this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(e,this.dimensions[1]))):void this.axis.clearAxis()}return e}()}]),t}(s.Tiled1DPixiTrack);t.default=c},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SVGTrack=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=n(9),c=r(l),f=n(85),h=r(f),d=t.SVGTrack=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.gMain=(0,u.select)(e).append("g"),n.clipUid=c.default.nice(),n.clipRect=n.gMain.append("clipPath").attr("id","track-bounds-"+n.clipUid).append("rect"),n.gMain.attr("clip-path","url(#track-bounds-"+n.clipUid+")"),n}return a(t,e),s(t,[{key:"setPosition",value:function(){function e(e){this.position=e,this.gMain.attr("transform","translate("+this.position[0]+","+this.position[1]+")"),this.draw()}return e}()},{key:"setDimensions",value:function(){function e(e){this.dimensions=e,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]]),e[0]>=0&&e[1]>=0?(this.clipRect.attr("width",e[0]),this.clipRect.attr("height",e[1])):(this.clipRect.attr("width",0),this.clipRect.attr("height",0)),this.draw()}return e}()},{key:"remove",value:function(){function e(){this.gMain.remove(),this.gMain=null}return e}()},{key:"draw",value:function(){function e(){return this}return e}()}]),t}(h.default);t.default=d},function(e,t,n){"use strict";t.a=function(e){return null===e?NaN:+e}},function(e,t,n){"use strict";function r(e,t){return function(n){return e+n*t}}function i(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function o(e,t){var i=t-e;return i?r(e,i>180||i<-180?i-360*Math.round(i/360):i):n.i(u.a)(isNaN(e)?t:e)}function a(e){return 1==(e=+e)?s:function(t,r){return r-t?i(t,r,e):n.i(u.a)(isNaN(t)?r:t)}}function s(e,t){var i=t-e;return i?r(e,i):n.i(u.a)(isNaN(e)?t:e)}t.b=o,t.c=a,t.a=s;var u=n(179)},function(e,t,n){"use strict";function r(e,t){return function(n){return e(n.responseText,t)}}var i=n(35);t.a=function(e,t){return function(o,a,s){arguments.length<3&&(s=a,a=null);var u=n.i(i.a)(o).mimeType(e);return u.row=function(e){return arguments.length?u.response(r(t,a=e)):a},u.row(a),s?u.get(s):u}}},function(e,t,n){"use strict";t.a=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})}},function(e,t,n){"use strict";function r(e){var t=e.domain;return e.ticks=function(e){var r=t();return n.i(o.ticks)(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){return n.i(u.a)(t(),e,r)},e.nice=function(r){null==r&&(r=10);var i,a=t(),s=0,u=a.length-1,l=a[s],c=a[u];return c<l&&(i=l,l=c,c=i,i=s,s=u,u=i),i=n.i(o.tickIncrement)(l,c,r),i>0?(l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i,i=n.i(o.tickIncrement)(l,c,r)):i<0&&(l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i,i=n.i(o.tickIncrement)(l,c,r)),i>0?(a[s]=Math.floor(l/i)*i,a[u]=Math.ceil(c/i)*i,t(a)):i<0&&(a[s]=Math.ceil(l*i)/i,a[u]=Math.floor(c*i)/i,t(a)),e},e}function i(){var e=n.i(s.a)(s.b,a.c);return e.copy=function(){return n.i(s.c)(e,i())},r(e)}t.b=r,t.a=i;var o=n(8),a=n(19),s=n(70),u=n(420)},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e){return"symbol"==typeof e||o(e)&&i(e)==a}var i=n(38),o=n(40),a="[object Symbol]";e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=0,n=void 0,r=0,i=e.length;r<i;r++)(n=e[r].y+e[r].h)>t&&(t=n);return t}function o(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=a(e[n]);return t}function a(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable}}function s(e,t){return(0,A.default)(R.default.Children.map(e,function(e){return e.key}),R.default.Children.map(t,function(e){return e.key}))}function u(e,t){return!(e===t||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function l(e,t,n){for(var r=g(e),i=_(e,t),o=Array(e.length),s=0,u=i.length;s<u;s++){var l=a(i[s]);l.static||(l=f(r,l,t,n,i),r.push(l)),o[e.indexOf(i[s])]=l,l.moved=!1}return o}function c(e,t,n,r){var i=D[r];t[r]+=1;for(var o=e.indexOf(t),a=o+1;a<e.length;a++){var s=e[a];s.static||u(t,s)&&c(e,s,n+t[i],r)}t[r]=n}function f(e,t,n,r,o){var a="vertical"===n,s="horizontal"===n;if(a)for(t.y=Math.min(i(e),t.y);t.y>0&&!p(e,t);)t.y--;else if(s)for(t.y=Math.min(i(e),t.y);t.x>0&&!p(e,t);)t.x--;for(var u=void 0;u=p(e,t);)s?c(o,t,u.x+u.w,"x"):c(o,t,u.y+u.h,"y"),s&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function h(e,t){for(var n=g(e),r=0,i=e.length;r<i;r++){var o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;p(n,o);)o.y++;else n.push(o)}return e}function d(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function p(e,t){for(var n=0,r=e.length;n<r;n++)if(u(e[n],t))return e[n]}function v(e,t){return e.filter(function(e){return u(e,t)})}function g(e){return e.filter(function(e){return e.static})}function m(e,t,n,r,i,o,a,s){if(t.static)return e;if(E("Moving element "+t.i+" to ["+n+","+r+"] from ["+t.x+","+t.y+"]"),t.y===r&&t.x===n)return e;var u=t.x,l=t.y;t.x=n,t.y=r,t.moved=!0;var c=_(e,a);("vertical"===a?l>=r:"horizontal"===a&&u>=n)&&(c=c.reverse());var f=v(c,t);if(o&&f.length)return E("Collision prevented on "+t.i+", reverting."),t.x=u,t.y=l,t.moved=!1,e;for(var h=0,d=f.length;h<d;h++){var p=f[h];E("Resolving collision between "+t.i+" at ["+t.x+","+t.y+"] and "+p.i+" at ["+p.x+","+p.y+"]"),p.moved||(e=p.static?y(e,p,t,i,a,s):y(e,t,p,i,a,s))}return e}function y(e,t,n,r,i,o){var a="horizontal"===i,s="vertical"===i;if(r){var u={x:a?Math.max(t.x-n.w,0):n.x,y:a?n.y:Math.max(t.y-n.h,0),w:n.w,h:n.h,i:"-1"};if(!p(e,u))return E("Doing reverse collision on "+n.i+" up to ["+u.x+","+u.y+"]."),m(e,n,u.x,u.y,r,!1,i,o)}return m(e,n,a?t.x+t.w:n.x,s?t.y+t.h:n.y,r,!1,i,o)}function b(e){return 100*e+"%"}function w(e){var t=e.top,n=e.left,r=e.width,i=e.height,o="translate("+n+"px,"+t+"px)";return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:r+"px",height:i+"px",position:"absolute"}}function x(e){return{top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px",position:"absolute"}}function _(e,t){return"horizontal"===t?S(e):k(e)}function k(e){return[].concat(e).sort(function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1})}function S(e){return[].concat(e).sort(function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1})}function O(e,t,n,r){e=e||[];var o=[];return R.default.Children.forEach(t,function(t,n){var r=d(e,String(t.key));if(r)o[n]=a(r);else{!I&&t.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var s=t.props["data-grid"]||t.props._grid;s?(I||T([s],"ReactGridLayout.children"),o[n]=a(P({},s,{i:t.key}))):o[n]=a({w:1,h:1,x:0,y:i(o),i:String(t.key)})}}),o=h(o,{cols:n}),o=l(o,r,n)}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,i=e.length;r<i;r++){for(var o=e[r],a=0;a<n.length;a++)if("number"!=typeof o[n[a]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[a]+" must be a number!");if(o.i&&"string"!=typeof o.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==o.static&&"boolean"!=typeof o.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}}function C(e,t){t.forEach(function(t){return e[t]=e[t].bind(e)})}function E(){var e;L&&(e=console).log.apply(e,arguments)}t.__esModule=!0,t.noop=void 0;var P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.bottom=i,t.cloneLayout=o,t.cloneLayoutItem=a,t.childrenEqual=s,t.collides=u,t.compact=l,t.compactItem=f,t.correctBounds=h,t.getLayoutItem=d,t.getFirstCollision=p,t.getAllCollisions=v,t.getStatics=g,t.moveElement=m,t.moveElementAwayFromCollision=y,t.perc=b,t.setTransform=w,t.setTopLeft=x,t.sortLayoutItems=_,t.sortLayoutItemsByRowCol=k,t.sortLayoutItemsByColRow=S,t.synchronizeLayoutWithChildren=O,t.validateLayout=T,t.autoBindHandlers=C;var M=n(123),A=r(M),j=n(0),R=r(j),I=!0,L=!1,D={x:"w",y:"h"};t.noop=function(){}},function(e,t){e.exports=r},function(e,t,n){function r(e){for(var t=Number.MAX_SAFE_INTEGER,n=0;n<e.length;n++){var r=e[n];r<v&&r>-v||r<t&&(t=r)}return t}function i(e){for(var t=Number.MIN_SAFE_INTEGER,n=0;n<e.length;n++){var r=e[n];r<v&&r>-v||r>t&&(t=r)}return t}function o(e,t,n,r,i,o){var a=new Uint8ClampedArray(4*e),s=0,u=0;try{for(var l=0;l<t.length;l++){var c=t[l];u=c,s=255,c>1e-6&&(s=Math.max(0,Math.min(254,Math.floor(n(c+r))))),(s<0||s>255)&&console.warn("out of bounds rgbIdx:",s," (should be 0 <= rgbIdx <= 255)");var f=i[s];a[4*l]=f[0],a[4*l+1]=f[1],a[4*l+2]=f[2],a[4*l+3]=f[3]}}catch(e){return console.warn("Odd datapoint"),console.warn("valueScale.domain():",n.domain()),console.warn("pseudocount:",r),console.warn("rgbIdx:",s,"d:",u,"ct:",n(u)),console.error("ERROR:",e),a}return a}function a(e,t){p.default.publish("requestSent",e),(0,h.json)(e,function(n,r){p.default.publish("requestReceived",e),n||t(r)})}function s(e){var t=void 0,n=void 0,r=void 0;return t=32767&e,n=32768&e,r=31744&e,t<<=13,n<<=16,t+=939524096,t=0===r?0:t,t|=n}function u(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r.buffer}function l(e){for(var t=new Uint32Array(e.length),n=0;n<e.length;n++)t[n]=s(e[n]);return new Float32Array(t.buffer)}function c(e,t,n,r){for(var i=[],o=(function(){function r(r){var o=t.slice(r,r+Math.min(t.length-r,g)),a=o.map(function(e){return"d="+e}).join("&"),s=e+"/tiles/?"+a+"&s="+n,l=new Promise(function(e,t){p.default.publish("requestSent",s),(0,h.json)(s,function(t,n){if(p.default.publish("requestReceived",s),t)e({});else{for(var r in n){var i=r.split(".");if(n[r].tileId=r,n[r].zoomLevel=+i[1],n[r].tilePos=i.slice(2,i.length).map(function(e){return+e}),n[r].tilesetUid=i[0],"dense"in n[r]){var o=u(n[r].dense),a=_float16ArrayToFloat32Array(o),l=new Float32Array(a),c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;n[r].dense=l;for(var h=0;h<l.length;h++){var d=l[h];d<v&&d>-v||(d<c&&(c=d),d>f&&(f=d))}n[r].minNonZero=c,n[r].maxNonZero=f}}e(n)}})});i.push(l)}return r}()),a=0;a<t.length;a+=g)o(a);Promise.all(i).then(function(e){for(var t=1;t<e.length;t++)for(var n in e[t])e[0][n]=e[t][n];r(e[0])})}function f(e){var t=e.sessionId,n=e.requests,o=[],a={},s=!0,c=!1,f=void 0;try{for(var d,v=n[Symbol.iterator]();!(s=(d=v.next()).done);s=!0){var m=d.value;a[m.server]||(a[m.server]={});var y=!0,b=!1,w=void 0;try{for(var x,_=m.ids[Symbol.iterator]();!(y=(x=_.next()).done);y=!0){var k=x.value;a[m.server][k]=!0}}catch(e){b=!0,w=e}finally{try{!y&&_.return&&_.return()}finally{if(b)throw w}}}}catch(e){c=!0,f=e}finally{try{!s&&v.return&&v.return()}finally{if(c)throw f}}var S=Object.keys(a),O=!0,T=!1,C=void 0;try{for(var E,P=(function(){function e(){for(var e=E.value,n=Object.keys(a[e]),s=(function(){function a(a){var s=n.slice(a,a+Math.min(n.length-a,g)),c=s.map(function(e){return"d="+e}).join("&"),f=e+"/tiles/?"+c+"&s="+t,d=new Promise(function(t,n){p.default.publish("requestSent",f),(0,h.json)(f,function(n,o){p.default.publish("requestReceived",f),o||(o={}),n&&console.warn("Error fetching data:",n);var a=!0,c=!1,h=void 0;try{for(var d,v=s[Symbol.iterator]();!(a=(d=v.next()).done);a=!0){var g=d.value;g in o||(o[g]={});var m=g,y=m.split(".");if(o[m].server=e,o[m].tileId=m,o[m].zoomLevel=+y[1],o[m].tilePos=y.slice(2,y.length).map(function(e){return+e}),o[m].tilesetUid=y[0],n)o[m].error=n;else if("dense"in o[m]){var b=u(o[m].dense),w=void 0;if("float16"==o[m].dtype){var x=new Uint16Array(b),_=l(x);w=_}else w=new Float32Array(b);o[m].dense=w,o[m].minNonZero=r(w),o[m].maxNonZero=i(w)}}}catch(e){c=!0,h=e}finally{try{!a&&v.return&&v.return()}finally{if(c)throw h}}t(o)})});o.push(d)}return a}()),c=0;c<n.length;c+=g)s(c)}return e}()),M=S[Symbol.iterator]();!(O=(E=M.next()).done);O=!0)P()}catch(e){T=!0,C=e}finally{try{!O&&M.return&&M.return()}finally{if(T)throw C}}Promise.all(o).then(function(e){var t={},r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=Object.keys(u),c=!0,f=!1,h=void 0;try{for(var d,p=l[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var v=d.value;t[u[v].server+"/"+v]=u[v]}}catch(e){f=!0,h=e}finally{try{!c&&p.return&&p.return()}finally{if(f)throw h}}}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}var g=!0,m=!1,y=void 0;try{for(var b,w=n[Symbol.iterator]();!(g=(b=w.next()).done);g=!0){var x=b.value,_={},k=x.server,S=!0,O=!1,T=void 0;try{for(var C,E=x.ids[Symbol.iterator]();!(S=(C=E.next()).done);S=!0){var P=C.value;_[P]=t[k+"/"+P]}}catch(e){O=!0,T=e}finally{try{!S&&E.return&&E.return()}finally{if(O)throw T}}x.done(_)}}catch(e){m=!0,y=e}finally{try{!g&&w.return&&w.return()}finally{if(m)throw y}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.minNonZero=r,t.maxNonZero=i,t.workerSetPix=o,t.workerGetTilesetInfo=a,t.workerFetchTiles=c,t.workerFetchMultiRequestTiles=f;var h=n(34),d=n(27),p=function(e){return e&&e.__esModule?e:{default:e}}(d),v=1e-7,g=20},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalLine1DPixiTrack=void 0;var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),l=n(13),c=n(52),f=function(e){return e&&e.__esModule?e:{default:e}}(c),h=n(3),d=t.HorizontalLine1DPixiTrack=function(e){function t(e,n,o,a,s,u){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,u))}return o(t,e),s(t,[{key:"initTile",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initTile",this).call(this,e),e.lineXValues=new Array(e.tileData.dense.length),e.lineYValues=new Array(e.tileData.dense.length),this.drawTile(e)}return e}()},{key:"rerender",value:function(){function e(e){this.options=e,u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this);var n=!0,r=!1,i=void 0;try{for(var o,a=this.visibleAndFetchedTiles()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.renderTile(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}return e}()},{key:"renderTile",value:function(){function e(e){this.drawTile(e)}return e}()},{key:"drawTile",value:function(){function e(e){if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,r=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),i=r.tileX,o=r.tileWidth,a=e.tileData.dense;if(0!==a.length){if(this.valueScale=this.makeValueScale(this.minValue(),this.calculateMedianVisibleValue(),this.maxValue()),n.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var s=(0,h.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),c=(0,l.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([i,i+o]),f=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;n.lineStyle(f,s,1);for(var d="log"===this.options.valueScaling,p=0;p<a.length;p++){var v=this._xScale(c(p)),g=this.valueScale(a[p]+0);if(e.lineXValues[p]=v,e.lineYValues[p]=g,0!==p){if(c(p)>this.tilesetInfo.max_pos[0])break;d&&0===a[p]?n.moveTo(v,g):n.lineTo(v,g)}else n.moveTo(v,g)}}}}return e}()},{key:"setPosition",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}return e}()},{key:"superSVG",value:function(){function e(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this)}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this)){var r=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this),i=a(r,2);n=i[0],e=i[1]}else n=document.createElement("g"),e=n;n.setAttribute("class","exported-line-track");var o=document.createElement("g");e.appendChild(o),o.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")");var s=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue",l=!0,c=!1,f=void 0;try{for(var h,d=this.visibleAndFetchedTiles()[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var p=h.value,v=document.createElement("path");v.setAttribute("fill","transparent"),v.setAttribute("stroke",s);for(var g="M"+p.lineXValues[0]+" "+p.lineYValues[0],m=0;m<p.lineXValues.length;m++)g+="L"+p.lineXValues[m]+" "+p.lineYValues[m];v.setAttribute("d",g),o.appendChild(v)}}catch(e){c=!0,f=e}finally{try{!l&&d.return&&d.return()}finally{if(c)throw f}}var y=document.createElement("g");if(y.setAttribute("id","axis"),n.appendChild(y),y.setAttribute("transform","translate("+this.axis.pAxis.position.x+", "+this.axis.pAxis.position.y+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var b=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);y.appendChild(b)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var w=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);y.appendChild(w)}return[n,e]}return e}()}]),t}(f.default);t.default=d},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchField=void 0;var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(8),s=n(45),u=n(3),l=t.SearchField=function(){function e(t){r(this,e),this.chromInfo=t,this.chromInfoBisector=(0,a.bisector)(function(e){return e.pos}).left}return o(e,[{key:"scalesToPositionText",value:function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==this.chromInfo)return"";if(!e||!t)return"";var r=(0,u.absToChr)(e.domain()[0],this.chromInfo),i=(0,u.absToChr)(e.domain()[1],this.chromInfo),o=(0,u.absToChr)(t.domain()[0],this.chromInfo),a=(0,u.absToChr)(t.domain()[1],this.chromInfo),l=null,c=(0,s.format)(",d");return l=r[0]!=i[0]?r[0]+":"+c(Math.floor(r[1]))+"-"+i[0]+":"+c(Math.ceil(i[1])):r[0]+":"+c(Math.floor(r[1]))+"-"+c(Math.ceil(i[1])),n&&(o[0]!=a[0]?l+=" & "+o[0]+":"+c(Math.floor(o[1]))+"-"+a[0]+":"+c(Math.ceil(a[1])):l+=" & "+o[0]+":"+c(Math.floor(o[1]))+"-"+c(Math.ceil(a[1]))),(r[2]<=0||i[2]>0||n&&(o[2]<=0||a[2]>0))&&(l+=" [offset "+r[2]+","+i[2],n&&(l+=":"+o[2]+","+a[2]),l+="]"),l}return e}()},{key:"parsePosition",value:function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.split(":"),r=null,i=0;n.length>1?(r=n[0],i=+n[1].replace(/,/g,"")):n[0]in this.chromInfo.chrPositions?(r=n[0],i=0,null!=t&&(i=+this.chromInfo.chromLengths[r])):(i=+n[0].replace(/,/g,""),r=null,t&&(r=t));var o=null;return isNaN(i)&&(o=null),null==r&&(r=t),o=null==r?i:r in this.chromInfo.chrPositions?this.chromInfo.chrPositions[r].pos+i:null,[r,i,o]}return e}()},{key:"matchRangesToLarger",value:function(){function e(e,t){if(e[1]-e[0]<t[1]-t[0]){var n=t[1]-t[0]-(e[1]-e[0]);return[[e[0]-n/2,e[1]+n/2],t]}var r=e[1]-e[0]-(t[1]-t[0]);return[e,[t[0]-r/2,t[1]+r/2]]}return e}()},{key:"getSearchRange",value:function(){function e(e){if(0==e.length)return null;var t=e.split("-");t=t.filter(function(e){return e.length>0});var n=null;if(0==t[0].indexOf("-")&&(t[0]=t[0].slice(3,t[0].length)),t.length>1){var r=this.parsePosition(t[0]),o=i(r,3),a=o[0],s=(o[1],o[2]),u=this.parsePosition(t[1],a),l=i(u,3),c=l[0],f=(l[1],l[2]),h=[s,f],d=this.parsePosition(t[1]),p=i(d,3);a=p[0],p[1],s=p[2];var v=this.parsePosition(t[0],a),g=i(v,3);if(c=g[0],g[1],f=g[2],null==a&&null!=c){var m=this.parsePosition(t[1],c),y=i(m,3);a=y[0],y[1],s=y[2]}var b=[s,f];return b[1]-b[0]>h[1]-h[0]?b:h}if(t[0]in this.chromInfo.chrPositions){var w=this.chromInfo.chrPositions[t[0]].pos;n=[+w,+w+ +this.chromInfo.chromLengths[t[0]]]}else{var x=this.parsePosition(t[0]),_=i(x,3),k=(_[0],_[1],_[2]);n=[k-8e6,k+8e6]}return n[0]>n[1]?[n[1],n[0]]:n}return e}()},{key:"parseOffset",value:function(){function e(e){var t=e.split(":");if(0==t.length)return[[0,0],[0,0]];if(1==t.length){var n=t[0].split(",");return[[+n[0],+n[1]],[0,0]]}var r=t[0].split(","),i=t[1].split(",");return[[+r[0],+r[1]],[+i[0],+i[1]]]}return e}()},{key:"searchPosition",value:function(){function e(e){var t=null,n=null;e=e.trim();var r=/\[offset\ (.+?)\]/.exec(e),o=[[0,0],[0,0]];r&&(e=e.replace(r[0],""),o=this.parseOffset(r[1]));var a=e.split(" & ");if(a.length>1?(t=this.getSearchRange(a[0].split(" ")[0]),n=this.getSearchRange(a[1].split(" ")[0])):t=this.getSearchRange(a[0]),null!=t&&null!=n){var s=this.matchRangesToLarger(t,n),u=i(s,2);t=u[0],n=u[1]}return t&&(t[0]+=o[0][0],t[1]+=o[0][1]),n&&(n[0]+=o[1][0],n[1]+=o[1][1]),[t,n]}return e}()}]),e}();t.default=l},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e;++n)if(!(t[n]<=t[n+e]))return!0;return!1}function i(e,t,n,i){for(var o=0,a=0,s=0,u=e.length;s<u;++s){var l=e[s];if(!r(t,l)){for(var c=0;c<2*t;++c)n[o++]=l[c];i[a++]=s}}return a}function o(e,t,n,r){var o=e.length,a=t.length;if(!(o<=0||a<=0)){var s=e[0].length>>>1;if(!(s<=0)){var u,l=f.mallocDouble(2*s*o),c=f.mallocInt32(o);if((o=i(e,s,l,c))>0){if(1===s&&r)h.init(o),u=h.sweepComplete(s,n,0,o,l,c,0,o,l,c);else{var p=f.mallocDouble(2*s*a),v=f.mallocInt32(a);(a=i(t,s,p,v))>0&&(h.init(o+a),u=1===s?h.sweepBipartite(s,n,0,o,l,c,0,a,p,v):d(s,n,r,o,l,c,a,p,v),f.free(p),f.free(v))}f.free(l),f.free(c)}return u}}}function a(e,t){c.push([e,t])}function s(e){return c=[],o(e,e,a,!0),c}function u(e,t){return c=[],o(e,t,a,!1),c}function l(e,t,n){switch(arguments.length){case 1:return s(e);case 2:return"function"==typeof t?o(e,e,t,!0):u(e,t);case 3:return o(e,t,n,!1);default:throw new Error("box-intersect: Invalid arguments")}}e.exports=l;var c,f=n(139),h=n(152),d=n(341)},function(e,t,n){"use strict";var r=(n(91),n(92),n(30));n.d(t,"a",function(){return r.a}),n(90),n(93),n(89)},function(e,t,n){"use strict";var r=n(100);t.a=function(e){return e=n.i(r.a)(Math.abs(e)),e?e[1]:NaN}},function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t-=e,function(n){return e+t*n}}},function(e,t,n){"use strict";function r(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:n.i(d.a)(t)}function i(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}function o(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}function a(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}}function s(e,t,r,i){var o=Math.min(e.length,t.length)-1,a=new Array(o),s=new Array(o),u=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<o;)a[u]=r(e[u],e[u+1]),s[u]=i(t[u],t[u+1]);return function(t){var r=n.i(c.bisect)(e,t,1,o)-1;return s[r](a[r](t))}}function u(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function l(e,t){function n(){return l=Math.min(g.length,m.length)>2?s:a,c=d=null,u}function u(t){return(c||(c=l(g,m,b?i(e):e,y)))(+t)}var l,c,d,g=v,m=v,y=f.a,b=!1;return u.invert=function(e){return(d||(d=l(m,g,r,b?o(t):t)))(+e)},u.domain=function(e){return arguments.length?(g=h.a.call(e,p.a),n()):g.slice()},u.range=function(e){return arguments.length?(m=h.b.call(e),n()):m.slice()},u.rangeRound=function(e){return m=h.b.call(e),y=f.h,n()},u.clamp=function(e){return arguments.length?(b=!!e,n()):b},u.interpolate=function(e){return arguments.length?(y=e,n()):y},n()}t.b=r,t.c=u,t.a=l;var c=n(8),f=n(19),h=n(36),d=n(109),p=n(185),v=[0,1]},function(e,t,n){"use strict";t.a=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}},function(e,t,n){"use strict";function r(e,t){var r,i;return function(){var o=n.i(a.e)(this,e),s=o.tween;if(s!==r){i=r=s;for(var u=0,l=i.length;u<l;++u)if(i[u].name===t){i=i.slice(),i.splice(u,1);break}}
o.tween=i}}function i(e,t,r){var i,o;if("function"!=typeof r)throw new Error;return function(){var s=n.i(a.e)(this,e),u=s.tween;if(u!==i){o=(i=u).slice();for(var l={name:t,value:r},c=0,f=o.length;c<f;++c)if(o[c].name===t){o[c]=l;break}c===f&&o.push(l)}s.tween=o}}function o(e,t,r){var i=e._id;return e.each(function(){var e=n.i(a.e)(this,i);(e.value||(e.value={}))[t]=r.apply(this,arguments)}),function(e){return n.i(a.f)(e,i).value[t]}}t.b=o;var a=n(17);t.a=function(e,t){var o=this._id;if(e+="",arguments.length<2){for(var s,u=n.i(a.f)(this.node(),o).tween,l=0,c=u.length;l<c;++l)if((s=u[l]).name===e)return s.value;return null}return this.each((null==t?r:i)(o,e,t))}},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(589),o=n(590),a=n(591),s=n(592),u=n(593);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=n(80);e.exports=r},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?s(e)?o(e[0],e[1]):i(e):u(e)}var i=n(543),o=n(544),a=n(59),s=n(15),u=n(627);e.exports=r},function(e,t,n){function r(e,t,n,r){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=r?r(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),a?o(n,l,c):i(n,l,c)}return n}var i=n(208),o=n(209);e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}var i=n(587);e.exports=r},function(e,t,n){var r=n(39),i=r(Object,"create");e.exports=i},function(e,t,n){function r(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var i=n(60),o=1/0;e.exports=r},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AxisPixi=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(45),a=n(10),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),u=40,l=0,c=5,f=4,h=t.AxisPixi=function(){function e(t){r(this,e),this.pAxis=new s.Graphics,this.track=t,this.axisTexts=[],this.axisTextFontFamily="Arial",this.axisTextFontSize=10,this.tickFormat=(0,o.format)(".2")}return i(e,[{key:"startAxis",value:function(){function e(e){var t=this.pAxis;t.clear(),t.lineStyle(1,0,1),t.moveTo(0,0),t.lineTo(0,e)}return e}()},{key:"createAxisTexts",value:function(){function e(e,t){this.tickValues=this.calculateAxisTickValues(e,t);for(var n=0;n<this.tickValues.length;){for(var r=this.tickValues[n];this.axisTexts.length<=n;){var i=new s.Text(r,{fontSize:this.axisTextFontSize+"px",fontFamily:this.axisTextFontFamily,fill:"black"});this.axisTexts.push(i),this.pAxis.addChild(i)}for(;this.axisTexts.length>n+1;){var o=this.axisTexts.pop();this.pAxis.removeChild(o)}this.axisTexts[n].text=this.tickFormat(r),this.axisTexts[n].anchor.y=.5,this.axisTexts[n].anchor.x=.5,n++}}return e}()},{key:"calculateAxisTickValues",value:function(){function e(e,t){var n=Math.max(Math.ceil(t/u),1),r=e.ticks(n);return r.length<1&&(r=e.ticks(n+1),r.length>1&&(r=[r[0]])),r}return e}()},{key:"drawAxisLeft",value:function(){function e(e,t){this.startAxis(this.pAxis,t),this.createAxisTexts(e,t);var n=this.pAxis;n.moveTo(0,0),n.lineTo(-(l+c),0),n.moveTo(0,t),n.lineTo(-(l+c),t);for(var r=0;r<this.axisTexts.length;r++){var i=this.tickValues[r];this.axisTexts[r].x=-(l+c+f+this.axisTexts[r].width/2),this.axisTexts[r].y=e(i),n.moveTo(-l,e(i)),n.lineTo(-(l+c),e(i)),this.track&&this.track.flipText&&(this.axisTexts[r].scale.x=-1)}this.hideOverlappingAxisLabels()}return e}()},{key:"drawAxisRight",value:function(){function e(e,t){this.startAxis(t),this.createAxisTexts(e,t);var n=this.pAxis;n.moveTo(0,0),n.lineTo(l+c,0),n.moveTo(0,t),n.lineTo(l+c,t);for(var r=0;r<this.axisTexts.length;r++){var i=this.tickValues[r];this.axisTexts[r].x=l+c+f+this.axisTexts[r].width/2,this.axisTexts[r].y=e(i),n.moveTo(l,e(i)),n.lineTo(l+c,e(i)),this.track&&this.track.flipText&&(this.axisTexts[r].scale.x=-1)}this.hideOverlappingAxisLabels()}return e}()},{key:"hideOverlappingAxisLabels",value:function(){function e(){for(var e=this.axisTexts.length-1;e>=0;e--)this.axisTexts[e].visible=!0;for(var t=this.axisTexts.length-1;t>=0;t--)if(this.axisTexts[t].visible)for(var n=t-1;n>=0&&this.axisTexts[t].y+this.axisTexts[t].height/2>this.axisTexts[n].y-this.axisTexts[n].height/2;)this.axisTexts[n].visible=!1,n-=1}return e}()},{key:"exportVerticalAxis",value:function(){function e(e){var t=document.createElement("g");t.setAttribute("class","axis-vertical"),this.track&&this.track.options.lineStrokeColor&&this.track.options.lineStrokeColor;var n=document.createElement("path");return n.setAttribute("fill","transparent"),n.setAttribute("stroke","black"),n.setAttribute("id","axis-line"),n.setAttribute("d","M0,0 L0,"+e),t.appendChild(n),t}return e}()},{key:"createAxisSVGLine",value:function(){function e(){var e="black";this.track&&(e=this.track.options.lineStrokeColor?this.track.options.lineStrokeColor:"blue");var t=document.createElement("path");return t.setAttribute("id","tick-mark"),t.setAttribute("fill","transparent"),t.setAttribute("stroke",e),t}return e}()},{key:"createAxisSVGText",value:function(){function e(e){var t=document.createElement("text");return t.innerHTML=e,t.setAttribute("id","axis-text"),t.setAttribute("text-anchor","middle"),t.setAttribute("font-family",this.axisTextFontFamily),t.setAttribute("font-size",this.axisTextFontSize),t.setAttribute("dy",this.axisTextFontSize/2-2),t}return e}()},{key:"exportAxisLeftSVG",value:function(){function e(e,t){var n=this.exportVerticalAxis(t),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L"+-(l+c)+",0");for(var i=0;i<this.axisTexts.length;i++){var o=this.tickValues[i],a=this.axisTexts[i],s=this.createAxisSVGLine();n.appendChild(s),s.setAttribute("d","M"+-l+","+e(o)+" L"+-(l+c)+","+e(o));var u=document.createElement("g");if(n.appendChild(u),a.visible){var f=this.createAxisSVGText(a.text);u.appendChild(f)}u.setAttribute("transform","translate("+a.position.x+","+a.position.y+")\n             scale("+a.scale.x+","+a.scale.y+")")}return n}return e}()},{key:"exportAxisRightSVG",value:function(){function e(e,t){var n=this.exportVerticalAxis(t),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L"+(l+c)+",0");for(var i=0;i<this.axisTexts.length;i++){var o=this.tickValues[i],a=this.axisTexts[i],s=this.createAxisSVGLine();n.appendChild(s),s.setAttribute("d","M"+l+","+e(o)+" L"+(l+c)+","+e(o));var u=document.createElement("g");if(n.appendChild(u),a.visible){var f=this.createAxisSVGText(a.text);u.appendChild(f)}u.setAttribute("transform","translate("+a.position.x+","+a.position.y+")\n             scale("+a.scale.x+","+a.scale.y+")")}return n}return e}()},{key:"clearAxis",value:function(){function e(){for(var e=this.pAxis;this.axisTexts.length;){var t=this.axisTexts.pop();e.removeChild(t)}e.clear()}return e}()}]),e}();t.default=h},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HeatmapTiledPixiTrack=void 0;var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),l=n(29),c=n(13),f=n(4),h=n(10),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),p=n(43),v=n(82),g=n(7),m=n(3),y=n(6),b=200,w=10,x=40,_=10,k=_,S=4,O=1,T=4,C=5,E=256,P=t.HeatmapTiledPixiTrack=function(e){function t(e,n,o,a,s,u,l,c){r(this,t);var h=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,l));return h.onTrackOptionsChanged=c,h.pColorbarArea=new d.Graphics,h.pMasked.addChild(h.pColorbarArea),h.pColorbar=new d.Graphics,h.pColorbarArea.addChild(h.pColorbar),h.axis=new v.AxisPixi(h),h.pColorbarArea.addChild(h.axis.pAxis),h.colorScale=y.heatedObjectMap,a&&a.colorRange&&(h.colorScale=(0,m.colorDomainToRgbaArray)(a.colorRange)),h.gBase=(0,f.select)(u).append("g"),h.gMain=h.gBase.append("g"),h.gColorscaleBrush=h.gMain.append("g"),h.brushing=!1,h.prevOptions="",h}return o(t,e),s(t,[{key:"setPosition",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e)}return e}()},{key:"rerender",value:function(){function e(e,n){var r=JSON.stringify(e);if(n||r!==this.prevOptions){this.prevOptions=r,u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rerender",this).call(this,e,n),this.calculateVisibleTiles(),e&&e.colorRange&&(this.colorScale=(0,m.colorDomainToRgbaArray)(e.colorRange));var i=!0,o=!1,a=void 0;try{for(var s,l=this.visibleAndFetchedTiles()[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;this.renderTile(c)}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}this.drawColorbar()}}return e}()},{key:"tileDataToCanvas",value:function(){function e(e){var t=document.createElement("canvas");t.width=256,t.height=256;var n=t.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height);var r=new ImageData(e,t.width,t.height);return n.putImageData(r,0,0),t}return e}()},{key:"exportData",value:function(){function e(){}return e}()},{key:"setSpriteProperties",value:function(){function e(e,t,n,r){var i=this.getTilePosAndDimensions(t,n),o=i.tileX,a=i.tileY,s=i.tileWidth,u=i.tileHeight,l=o+s,c=a+u,f=this._refXScale(l)-this._refXScale(o),h=this._refYScale(c)-this._refYScale(a);e.width=this._refXScale(l)-this._refXScale(o),e.height=this._refYScale(c)-this._refYScale(a),r?(e.x=this._refXScale(a),e.y=this._refYScale(o),e.rotation=-Math.PI/2,e.scale.x=-1*Math.abs(e.scale.x),e.width=h,e.height=f):(e.x=this._refXScale(o),e.y=this._refYScale(a))}return e}()},{key:"refXScale",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refXScale",this).call(this,e),this.draw()}return e}()},{key:"refYScale",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refYScale",this).call(this,e),this.draw()}return e}()},{key:"draw",value:function(){function e(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this),this.drawColorbar()}return e}()},{key:"newBrushOptions",value:function(){function e(e){var t=JSON.parse(JSON.stringify(this.options)),n=this.valueScale.copy().range([this.colorbarHeight,0]),r=n.invert(e[0]),i=n.invert(e[1]),o=(i-n.domain()[0])/(n.domain()[1]-n.domain()[0]),a=(r-n.domain()[0])/(n.domain()[1]-n.domain()[0]);return t.scaleStartPercent=o.toFixed(C),t.scaleEndPercent=a.toFixed(C),t}return e}()},{key:"brushStart",value:function(){function e(){this.brushing=!0}return e}()},{key:"brushMoved",value:function(){function e(){if(f.event.selection){var e=this.newBrushOptions(f.event.selection),t=JSON.stringify(e);this.gColorscaleBrush.selectAll(".handle--custom").attr("y",function(e){return"n"===e.type?f.event.selection[0]:f.event.selection[1]-S/2}),t!==this.prevOptions&&(this.prevOptions=t,this.rerender(e,!0),this.onTrackOptionsChanged(e),this.onValueScaleChanged())}}return e}()},{key:"brushEnd",value:function(){function e(){this.brushing=!1}return e}()},{key:"drawColorbar",value:function(){function e(){if(this.pColorbar.clear(),!this.options.colorbarPosition||"hidden"===this.options.colorbarPosition)return this.pColorbarArea.visible=!1,this.scaleBrush&&this.gColorscaleBrush.call(this.scaleBrush.move,null),this.gColorscaleBrush.on(".brush",null),void this.gColorscaleBrush.selectAll("rect").remove();if(this.pColorbarArea.visible=!0,this.valueScale&&!isNaN(this.valueScale.domain()[0])&&!isNaN(this.valueScale.domain()[1])){var e=Math.min(this.dimensions[1]/2,b);if(this.colorbarHeight=e-2*_,!(this.colorbarHeight<0)){var t=w+x+_+O+k+T,n=this.valueScale.copy().range([this.colorbarHeight,0]);this.scaleBrush=(0,l.brushY)(),"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.scaleBrush.extent([[T,0],[k,this.colorbarHeight]]):this.scaleBrush.extent([[0,0],[k-T,this.colorbarHeight]]),"topLeft"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0],this.pColorbarArea.y=this.position[1],this.pColorbar.y=_,this.axis.pAxis.y=_,this.axis.pAxis.x=T+k+O+w,this.pColorbar.x=T+k+O,this.gColorscaleBrush.attr("transform","translate("+(this.pColorbarArea.x+T)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"topRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-t,this.pColorbarArea.y=this.position[1],this.pColorbar.y=_,this.axis.pAxis.y=_,this.axis.pAxis.x=x+_,this.pColorbar.x=x+_,this.gColorscaleBrush.attr("transform","translate("+(this.pColorbarArea.x+this.pColorbar.x+w+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"bottomRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-t,this.pColorbarArea.y=this.position[1]+this.dimensions[1]-e,this.pColorbar.y=_,this.axis.pAxis.y=_,this.axis.pAxis.x=x+_,this.pColorbar.x=x+_,this.gColorscaleBrush.attr("transform","translate("+(this.pColorbarArea.x+this.pColorbar.x+w+O)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"bottomLeft"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0],this.pColorbarArea.y=this.position[1]+this.dimensions[1]-e,this.pColorbar.y=_,this.axis.pAxis.y=_,this.axis.pAxis.x=T+k+O+w,this.pColorbar.x=T+k+O,this.gColorscaleBrush.attr("transform","translate("+(this.pColorbarArea.x+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),this.pColorbarArea.clear(),this.pColorbarArea.beginFill((0,m.colorToHex)("white"),.6),this.pColorbarArea.drawRect(0,0,t,e),this.options||(this.options={}),this.options.scaleStartPercent||(this.options.scaleStartPercent=0),this.options.scaleEndPercent||(this.options.scaleEndPercent=1);var r=n.domain()[1]-n.domain()[0],i=n(this.options.scaleStartPercent*r+n.domain()[0]),o=n(this.options.scaleEndPercent*r+n.domain()[0]);this.brushing||(this.scaleBrush.on("start",this.brushStart.bind(this)).on("brush",this.brushMoved.bind(this)).on("end",this.brushEnd.bind(this)).handleSize(0),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.call(this.scaleBrush),this.northHandle=this.gColorscaleBrush.selectAll(".handle--custom").data([{type:"n"},{type:"s"}]).enter().append("rect").classed("handle--custom",!0).attr("cursor","ns-resize").attr("width",k).attr("height",S).style("fill","#666").style("stroke","white"),this.flipText&&this.northHandle.attr("cursor","ew-resize"),this.gColorscaleBrush.call(this.scaleBrush.move,[o,i]));for(var a=(0,c.scaleLinear)().domain([0,255]).range([0,this.colorbarHeight]),s=0;s<this.colorbarHeight;s++){var u=this.limitedValueScale(n.invert(s)),f=Math.max(0,Math.min(254,Math.floor(u)));this.pColorbar.beginFill((0,m.colorToHex)("rgb("+this.colorScale[f][0]+","+this.colorScale[f][1]+","+this.colorScale[f][2]+")")),this.pColorbar.drawRect(0,s,w,1)}this.pAxis.position.x=w,this.pAxis.position.y=a(0),"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.axis.drawAxisRight(n,this.colorbarHeight):"topRight"!==this.options.colorbarPosition&&"bottomRight"!==this.options.colorbarPosition||this.axis.drawAxisLeft(n,this.colorbarHeight)}}}return e}()},{key:"exportColorBarSVG",value:function(){function e(){var e=document.createElement("g");if(!this.options.colorbarPosition||"hidden"===this.options.colorbarPosition)return e;if(!this.valueScale)return e;e.setAttribute("transform","translate("+this.pColorbarArea.x+", "+this.pColorbarArea.y+")"),e.setAttribute("transform","translate("+this.pColorbarArea.x+", "+this.pColorbarArea.y+")");var t=document.createElement("rect");e.appendChild(t);var n=document.createElement("g");e.appendChild(n),n.setAttribute("transform","translate("+this.pColorbar.x+", "+this.pColorbar.y+")");var r=Math.min(this.dimensions[1],b);this.colorbarHeight=r-2*_;var i=w+x+2*_;t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("width",i),t.setAttribute("height",r),t.setAttribute("style","fill: white; stroke-width: 0; opacity: 0.7");for(var o=(0,c.scaleLinear)().domain([0,255]).range([0,this.colorbarHeight]),a=this.colorbarHeight/256,s=0;s<256;s++){var u=document.createElement("rect");n.appendChild(u),u.setAttribute("x",0),u.setAttribute("y",o(s)),u.setAttribute("width",w),u.setAttribute("height",a),u.setAttribute("class","color-rect"),u.setAttribute("style","fill: rgb("+this.colorScale[s][0]+", "+this.colorScale[s][1]+", "+this.colorScale[s][2]+")")}var l=document.createElement("g");e.appendChild(l),l.setAttribute("transform","translate("+this.axis.pAxis.position.x+","+this.axis.pAxis.position.y+")");var f=null,h=this.valueScale.copy().range([this.colorbarHeight,0]);return"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?f=this.axis.exportAxisRightSVG(h,this.colorbarHeight):"topRight"!==this.options.colorbarPosition&&"bottomRight"!==this.options.colorbarPosition||(f=this.axis.exportAxisLeftSVG(h,this.colorbarHeight)),l.appendChild(f),e}return e}()},{key:"initTile",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initTile",this).call(this,e),null!=this.scale.minValue&&null!=this.scale.maxValue&&this.renderTile(e)}return e}()},{key:"renderTile",value:function(){function e(e){var t=this;this.valueScale=(0,p.getValueScale)(this.options.heatmapValueScaling,this.scale.minValue,this.scale.maxValue,"log"),this.limitedValueScale=this.valueScale.copy(),this.options&&void 0!==this.options.scaleStartPercent&&void 0!==this.options.scaleEndPercent&&this.limitedValueScale.domain([this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleStartPercent,this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleEndPercent]),g.tileProxy.tileDataToPixData(e,this.limitedValueScale,this.valueScale.domain()[0],this.colorScale,function(n){var r=e.graphics,i=t.tileDataToCanvas(n),o=null;o=new d.Sprite(d.Texture.fromCanvas(i,d.SCALE_MODES.NEAREST)),e.sprite=o,e.canvas=i,t.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored),r.removeChildren(),r.addChild(e.sprite)})}return e}()},{key:"remove",value:function(){function e(){this.gMain.remove(),this.gMain=null,u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}return e}()},{key:"refScalesChanged",value:function(){function e(e,n){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refScalesChanged",this).call(this,e,n);for(var r in this.fetchedTiles){var i=this.fetchedTiles[r];i.sprite&&this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos,i.mirrored)}}return e}()},{key:"superSVG",value:function(){function e(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this)}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this)){var r=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this),i=a(r,2);n=i[0],e=i[1]}else n=document.createElement("g"),e=n;var o=document.createElement("g");e.appendChild(o),o.setAttribute("transform","translate("+this.pMain.position.x+","+this.pMain.position.y+") scale("+this.pMain.scale.x+","+this.pMain.scale.y+")");var s=!0,l=!1,c=void 0;try{for(var f,h=this.visibleAndFetchedTiles()[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var d=f.value,p=180*d.sprite.rotation/Math.PI,v=document.createElement("g");v.setAttribute("transform","translate("+d.sprite.x+","+d.sprite.y+") rotate("+p+") scale("+d.sprite.scale.x+","+d.sprite.scale.y+")");var g=document.createElement("image");g.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.canvas.toDataURL()),g.setAttribute("width",256),g.setAttribute("height",256),v.appendChild(g),o.appendChild(v)}}catch(e){l=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}var m=this.exportColorBarSVG();return e.appendChild(m),[n,n]}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,o){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n),this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=r,this.pMain.scale.y=r,this.drawColorbar()}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map(function(e){return+e}).sort(function(e,t){return t-e});this.xTiles=g.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=g.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=g.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=g.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var n=this.xTiles,r=this.yTiles,i=this.zoomLevel,o=[],a=0;a<n.length;a++)for(var s=0;s<r.length;s++)if(e){if(n[a]>=r[s]){var u=[i,r[s],n[a]];u.mirrored=!0,u.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",o.push(u)}else{var l=[i,n[a],r[s]];l.mirrored=!1,l.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",o.push(l)}if(n[a]==r[s]){var c=[i,n[a],r[s]];c.mirrored=!1,c.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",o.push(c)}}else{var f=[i,n[a],r[s]];f.mirrored=!1,f.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",o.push(f)}this.setVisibleTiles(o)}}return e}()},{key:"getTilePosAndDimensions",value:function(){function e(e,t){if(this.tilesetInfo.resolutions){var n=this.tilesetInfo.resolutions.map(function(e){return+e}).sort(function(e,t){return t-e}),r=n[e],i=r*E,o=i;return{tileX:r*E*t[0],tileY:r*E*t[1],tileWidth:i,tileHeight:o}}var a=t[0],s=t[1],u=this.tilesetInfo.max_width,l=this.tilesetInfo.max_width,c=u/Math.pow(2,e),f=l/Math.pow(2,e);return{tileX:0+a*c,tileY:0+s*f,tileWidth:c,tileHeight:f}}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=this.tilesetInfo.min_pos[0],t=this.tilesetInfo.max_pos[0],n=this.tilesetInfo.min_pos[1],r=this.tilesetInfo.max_pos[1];if(this.tilesetInfo.resolutions){var i=g.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,e,t),o=g.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._yScale,n,r);return Math.min(i,o)}var a=g.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),s=g.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),u=Math.max(a,s);return u=Math.min(u,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?u=Math.min(this.options.maxZoom,u):console.error("Invalid maxZoom on track:",this)),u}return e}()},{key:"tileToLocalId",value:function(){function e(e){return e.dataTransform&&"default"!=e.dataTransform?e.join(".")+"."+e.mirrored+"."+e.dataTransform:e.join(".")+"."+e.mirrored}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return e.dataTransform&&"default"!=e.dataTransform?e.join(".")+"."+e.dataTransform:""+e.join(".")}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()}]),t}(p.TiledPixiTrack);t.default=P},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PopupMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),c=n(11),f=r(c),h=t.PopupMenu=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.zIndex=99,this.popup.style.position="absolute",this.popup.className="hg-popup",this.boundHandleDocumentClick=this.handleDocumentClick.bind(this),this.boundHandleDocumentResize=this.handleDocumentResize.bind(this),document.addEventListener("click",this.boundHandleDocumentClick,!0),window.addEventListener("resize",this.boundHandleDocumentResize,!0),this._renderLayer()}return e}()},{key:"componentDidUpdate",value:function(){function e(){this._renderLayer()}return e}()},{key:"componentWillUnmount",value:function(){function e(){document.removeEventListener("click",this.boundHandleDocumentClick,!0),window.removeEventListener("resize",this.boundHandleDocumentResize,!0),f.default.unmountComponentAtNode(this.popup),document.body.removeChild(this.popup)}return e}()},{key:"_renderLayer",value:function(){function e(){f.default.render(this.props.children,this.popup)}return e}()},{key:"handleDocumentResize",value:function(){function e(){this.props.onMenuClosed&&this.props.onMenuClosed(null)}return e}()},{key:"handleDocumentClick",value:function(){function e(e){this.popup.contains(e.target)||this.props.onMenuClosed&&this.props.onMenuClosed(e)}return e}()},{key:"render",value:function(){function e(){var e=this;return l.default.createElement("div",{ref:function(){function t(t){return e.area=t}return t}()})}return e}()}]),t}(l.default.Component);t.default=h},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(13),a=t.Track=function(){function e(){r(this,e),this._xScale=(0,o.scaleLinear)(),this._yScale=(0,o.scaleLinear)(),this._refXScale=(0,o.scaleLinear)(),this._refYScale=(0,o.scaleLinear)(),this.position=[0,0],this.dimensions=[1,1],this.options={}}return i(e,[{key:"setDimensions",value:function(){function e(e){this.dimensions=e,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]])}return e}()},{key:"refXScale",value:function(){function e(e){return arguments.length?(this._refXScale=e,this):this._refXScale}return e}()},{key:"refYScale",value:function(){function e(e){return arguments.length?(this._refYScale=e,this):this._refYScale}return e}()},{key:"xScale",value:function(){function e(e){return arguments.length?(this._xScale=e,this):this._xScale}return e}()},{key:"yScale",value:function(){function e(e){return arguments.length?(this._yScale=e,this):this._yScale}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t)}return e}()},{key:"refScalesChanged",value:function(){function e(e,t){this._refXScale=e,this._refYScale=t}return e}()},{key:"draw",value:function(){function e(){}return e}()},{key:"setPosition",value:function(){function e(e){this.position=e}return e}()},{key:"remove",value:function(){function e(){}return e}()},{key:"rerender",value:function(){function e(){}return e}()}]),e}();t.default=a},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TrackControl=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(28),l=r(u),c=n(2),f=r(c),h=n(0),d=r(h),p=n(11),v=r(p),g=n(49);n(510);var m={"../styles/TrackControl.module.scss":{"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb",
"track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},y=t.TrackControl=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){function e(){var e=this,t=this.props.isVisible?"track-control-active":"track-control";t+=this.props.isAlignLeft?" track-control-left":"",t+=this.props.isVertical?" track-control-vertical":"",t+=this.props.paddingRight?" track-control-padding-right":"";var n="track-control-button";n+=this.props.isVertical?" track-control-button-vertical":"";var r=(0,g.SortableHandle)(function(){return d.default.createElement("svg",{style:e.props.imgStyleMove,className:"no-zoom "+(0,l.default)(n,m)},d.default.createElement("use",{xlinkHref:"#move"}))});return d.default.createElement("div",{className:(0,l.default)(t,m)},this.props.isMoveable&&d.default.createElement(r,null),d.default.createElement("svg",{onClick:function(){function t(){var t=v.default.findDOMNode(e.imgConfig),n=t.getBoundingClientRect();e.props.onConfigTrackMenuOpened(e.props.uid,n)}return t}(),ref:function(){function t(t){e.imgConfig=t}return t}(),style:this.props.imgStyleSettings,className:"no-zoom "+(0,l.default)(n,m)},d.default.createElement("use",{xlinkHref:"#cog"})),d.default.createElement("svg",{onClick:function(){function t(){return e.props.onAddSeries(e.props.uid)}return t}(),ref:function(){function t(t){e.imgAdd=t}return t}(),style:this.props.imgStyleAdd,className:"no-zoom "+(0,l.default)(n,m)},d.default.createElement("use",{xlinkHref:"#plus"})),d.default.createElement("svg",{onClick:function(){function t(){var t=v.default.findDOMNode(e.imgClose),n=t.getBoundingClientRect();e.props.onCloseTrackMenuOpened(e.props.uid,n)}return t}(),ref:function(){function t(t){e.imgClose=t}return t}(),style:this.props.imgStyleClose,className:"no-zoom "+(0,l.default)(n,m)},d.default.createElement("use",{xlinkHref:"#cross"})))}return e}()}]),t}(d.default.Component);y.propTypes={imgStyleAdd:f.default.object,imgStyleClose:f.default.object,imgStyleMove:f.default.object,imgStyleSettings:f.default.object,isAlignLeft:f.default.bool,isMoveable:f.default.bool,isVertical:f.default.bool,isVisible:f.default.bool,onConfigTrackMenuOpened:f.default.func,onCloseTrackMenuOpened:f.default.func,onAddSeries:f.default.func,paddingRight:f.default.bool,uid:f.default.string},t.default=y},function(e,t,n){"use strict";"use restrict";function r(e){var t=32;return e&=-e,e&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1||!e)},t.log2=function(e){var t,n;return t=(e>65535)<<4,e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,(t|=n)|e>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return e-=e>>>1&1431655765,16843009*((e=(858993459&e)+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(i),t.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1},t.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=858993459&(e|e>>>1),e=252645135&(e|e>>>2),e=16711935&(e|e>>>4),(e=65535&(e|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e|=t<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),e|n<<2},t.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=3272356035&(e|e>>>2),e=251719695&(e|e>>>4),e=4278190335&(e|e>>>8),(e=1023&(e|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},function(e,t,n){"use strict";var r=n(54);t.a=function(e,t,n){if(null==n&&(n=r.a),i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,o=(i-1)*t,a=Math.floor(o),s=+n(e[a],a,e);return s+(+n(e[a+1],a+1,e)-s)*(o-a)}}},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(30)},function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e){n.add(e)});else if(e){var i=-1,o=e.length;if(null==t)for(;++i<o;)n.add(e[i]);else for(;++i<o;)n.add(t(e[i],i,e))}return n}var o=n(30),a=o.a.prototype;r.prototype=i.prototype={constructor:r,has:a.has,add:function(e){return e+="",this[o.b+e]=e,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(){}function i(e){var t;return e=(e+"").trim().toLowerCase(),(t=x.exec(e))?(t=parseInt(t[1],16),new l(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=_.exec(e))?o(parseInt(t[1],16)):(t=k.exec(e))?new l(t[1],t[2],t[3],1):(t=S.exec(e))?new l(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=O.exec(e))?a(t[1],t[2],t[3],t[4]):(t=T.exec(e))?a(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=C.exec(e))?c(t[1],t[2]/100,t[3]/100,1):(t=E.exec(e))?c(t[1],t[2]/100,t[3]/100,t[4]):P.hasOwnProperty(e)?o(P[e]):"transparent"===e?new l(NaN,NaN,NaN,0):null}function o(e){return new l(e>>16&255,e>>8&255,255&e,1)}function a(e,t,n,r){return r<=0&&(e=t=n=NaN),new l(e,t,n,r)}function s(e){return e instanceof r||(e=i(e)),e?(e=e.rgb(),new l(e.r,e.g,e.b,e.opacity)):new l}function u(e,t,n,r){return 1===arguments.length?s(e):new l(e,t,n,null==r?1:r)}function l(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function c(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new d(e,t,n,r)}function f(e){if(e instanceof d)return new d(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=i(e)),!e)return new d;if(e instanceof d)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,a=Math.min(t,n,o),s=Math.max(t,n,o),u=NaN,l=s-a,c=(s+a)/2;return l?(u=t===s?(n-o)/l+6*(n<o):n===s?(o-t)/l+2:(t-n)/l+4,l/=c<.5?s+a:2-s-a,u*=60):l=c>0&&c<1?0:u,new d(u,l,c,e.opacity)}function h(e,t,n,r){return 1===arguments.length?f(e):new d(e,t,n,null==r?1:r)}function d(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function p(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}t.f=r,n.d(t,"h",function(){return g}),n.d(t,"g",function(){return m}),t.a=i,t.e=s,t.b=u,t.d=l,t.c=h;var v=n(95),g=.7,m=1/g,y="\\s*([+-]?\\d+)\\s*",b="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",w="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x=/^#([0-9a-f]{3})$/,_=/^#([0-9a-f]{6})$/,k=new RegExp("^rgb\\("+[y,y,y]+"\\)$"),S=new RegExp("^rgb\\("+[w,w,w]+"\\)$"),O=new RegExp("^rgba\\("+[y,y,y,b]+"\\)$"),T=new RegExp("^rgba\\("+[w,w,w,b]+"\\)$"),C=new RegExp("^hsl\\("+[b,w,w]+"\\)$"),E=new RegExp("^hsla\\("+[b,w,w,b]+"\\)$"),P={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};n.i(v.a)(r,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),n.i(v.a)(l,u,n.i(v.b)(r,{brighter:function(e){return e=null==e?m:Math.pow(m,e),new l(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?g:Math.pow(g,e),new l(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),n.i(v.a)(d,h,n.i(v.b)(r,{brighter:function(e){return e=null==e?m:Math.pow(m,e),new d(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?g:Math.pow(g,e),new d(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new l(p(e>=240?e-240:e+120,i,r),p(e,i,r),p(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}t.b=r,t.a=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},function(e,t,n){"use strict";function r(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new i(r)}function i(e){this._=e}function o(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function a(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function s(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=u,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}var u={value:function(){}};i.prototype=r.prototype={constructor:i,on:function(e,t){var n,r=this._,i=o(e+"",r),u=-1,l=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++u<l;)if(n=(e=i[u]).type)r[n]=s(r[n],e.name,t);else if(null==t)for(n in r)r[n]=s(r[n],e.name,null);return this}for(;++u<l;)if((n=(e=i[u]).type)&&(n=a(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new i(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,n=r.length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}},t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(371);n.d(t,"drag",function(){return r.a});var i=n(171);n.d(t,"dragDisable",function(){return i.a}),n.d(t,"dragEnable",function(){return i.b})},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return u});var r=n(33),i=n.i(r.a)(","),o=i.parse,a=i.parseRows,s=i.format,u=i.formatRows},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return u});var r=n(33),i=n.i(r.a)("\t"),o=i.parse,a=i.parseRows,s=i.format,u=i.formatRows},function(e,t,n){"use strict";t.a=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}},function(e,t,n){"use strict";function r(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}t.b=r,t.a=function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[i],a=e[i+1],s=i>0?e[i-1]:2*o-a,u=i<t-1?e[i+2]:2*a-o;return r((n-i/t)*t,s,o,a,u)}}},function(e,t,n){"use strict";var r=n(14),i=n(182),o=n(177),a=n(180),s=n(69),u=n(181),l=n(183),c=n(179);t.a=function(e,t){var f,h=typeof t;return null==t||"boolean"===h?n.i(c.a)(t):("number"===h?s.a:"string"===h?(f=n.i(r.color)(t))?(t=f,i.a):l.a:t instanceof r.color?i.a:t instanceof Date?a.a:Array.isArray(t)?o.a:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?u.a:s.a)(e,t)}},function(e,t,n){"use strict";var r=n(32),i=n(56);t.a=n.i(i.a)("text/csv",r.csvParse)},function(e,t,n){"use strict";var r=n(21);t.a=n.i(r.a)("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)})},function(e,t,n){"use strict";var r=n(21);t.a=n.i(r.a)("application/json",function(e){return JSON.parse(e.responseText)})},function(e,t,n){"use strict";var r=n(21);t.a=n.i(r.a)("text/plain",function(e){return e.responseText})},function(e,t,n){"use strict";var r=n(32),i=n(56);t.a=n.i(i.a)("text/tab-separated-values",r.tsvParse)},function(e,t,n){"use strict";var r=n(21);t.a=n.i(r.a)("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t})},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===a.b&&t.documentElement.namespaceURI===a.b?t.createElement(e):t.createElementNS(n,e)}}function i(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var o=n(111),a=n(112);t.a=function(e){var t=n.i(o.a)(e);return(t.local?i:r)(t)}},function(e,t,n){"use strict";var r=n(112);t.a=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.a.hasOwnProperty(t)?{space:r.a[t],local:e}:e}},function(e,t,n){"use strict";n.d(t,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";t.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(e,t,n){"use strict";function r(e,t,n){return e=i(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function i(e,t,n){return function(r){var i=c;c=r;try{e.call(this,this.__data__,t,n)}finally{c=i}}}function o(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function a(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function s(e,t,n){var o=l.hasOwnProperty(e.type)?r:i;return function(r,i,a){var s,u=this.__on,l=o(t,i,a);if(u)for(var c=0,f=u.length;c<f;++c)if((s=u[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=t);this.addEventListener(e.type,l,n),s={type:e.type,name:e.name,value:t,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function u(e,t,n,r){var i=c;e.sourceEvent=c,c=e;try{return t.apply(n,r)}finally{c=i}}n.d(t,"a",function(){return c}),t.b=u;var l={},c=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(l={mouseenter:"mouseover",mouseleave:"mouseout"})),t.c=function(e,t,n){var r,i,u=o(e+""),l=u.length;if(!(arguments.length<2)){for(c=t?s:a,null==n&&(n=!1),r=0;r<l;++r)this.each(c(u[r],t,n));return this}var c=this.node().__on;if(c)for(var f,h=0,d=c.length;h<d;++h)for(r=0,f=c[h];r<l;++r)if((i=u[r]).type===f.type&&i.name===f.name)return f.value}},function(e,t,n){"use strict";function r(){}t.a=function(e){return null==e?r:function(){return this.querySelector(e)}}},function(e,t,n){"use strict";var r=n(113);t.a=function(){for(var e,t=r.a;e=t.sourceEvent;)t=e;return t}},function(e,t,n){"use strict";t.a=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r,i,o,a,s,u=n(195);!function(e){r=n.i(u.a)(e),i=r.format,o=r.parse,a=r.utcFormat,s=r.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(e,t,n){"use strict";var r=(n(12),n(459));n.d(t,"v",function(){return r.a}),n.d(t,"h",function(){return r.a});var i=n(462);n.d(t,"u",function(){return i.a}),n.d(t,"g",function(){return i.a});var o=n(460);n.d(t,"t",function(){return o.a});var a=n(458);n.d(t,"s",function(){return a.a});var s=n(457);n.d(t,"k",function(){return s.a});var u=n(469);n.d(t,"r",function(){return u.a}),n.d(t,"m",function(){return u.a}),n.d(t,"j",function(){return u.b}),n.d(t,"n",function(){return u.c});var l=n(461);n.d(t,"q",function(){return l.a});var c=n(470);n.d(t,"l",function(){return c.a});var f=n(465);n.d(t,"f",function(){return f.a});var h=n(464);n.d(t,"e",function(){return h.a});var d=n(463);n.d(t,"d",function(){return d.a});var p=n(467);n.d(t,"c",function(){return p.a}),n.d(t,"o",function(){return p.a}),n.d(t,"i",function(){return p.b}),n.d(t,"p",function(){return p.c});var v=n(466);n.d(t,"b",function(){return v.a});var g=n(468);n.d(t,"a",function(){return g.a})},function(e,t,n){"use strict";function r(){return b||(_(i),b=x.now()+w)}function i(){b=0}function o(){this._call=this._time=this._next=null}function a(e,t,n){var r=new o;return r.restart(e,t,n),r}function s(){r(),++p;for(var e,t=h;t;)(e=b-t._time)>=0&&t._call.call(null,e),t=t._next;--p}function u(){b=(y=x.now())+w,p=v=0;try{s()}finally{p=0,c(),b=0}}function l(){var e=x.now(),t=e-y;t>m&&(w-=t,y=e)}function c(){for(var e,t,n=h,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:h=t);d=e,f(r)}function f(e){p||(v&&(v=clearTimeout(v)),e-b>24?(e<1/0&&(v=setTimeout(u,e-x.now()-w)),g&&(g=clearInterval(g))):(g||(y=x.now(),g=setInterval(l,m)),p=1,_(u)))}t.c=r,t.b=o,t.a=a;var h,d,p=0,v=0,g=0,m=1e3,y=0,b=0,w=0,x="object"==typeof performance&&performance.now?performance:Date,_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};o.prototype=a.prototype={constructor:o,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?r():+n)+(null==t?0:+t),this._next||d===this||(d?d._next=this:h=this,d=this),this._call=e,this._time=n,f()},stop:function(){this._call&&(this._call=null,this._time=1/0,f())}}},function(e,t){e.exports={"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"}},function(e,t){e.exports={"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4"}},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t,n){(function(e,n){function r(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function i(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function o(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function a(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function s(e,t){return e.has(t)}function u(e,t){return null==e?void 0:e[t]}function l(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function h(){this.__data__=St?St(null):{},this.size=0}function d(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function p(e){var t=this.__data__;if(St){var n=t[e];return n===ye?void 0:n}return at.call(t,e)?t[e]:void 0}function v(e){var t=this.__data__;return St?void 0!==t[e]:at.call(t,e)}function g(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=St&&void 0===t?ye:t,this}function m(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function y(){this.__data__=[],this.size=0}function b(e){var t=this.__data__,n=F(t,e);return!(n<0||(n==t.length-1?t.pop():pt.call(t,n,1),--this.size,0))}function w(e){var t=this.__data__,n=F(t,e);return n<0?void 0:t[n][1]}function x(e){return F(this.__data__,e)>-1}function _(e,t){var n=this.__data__,r=F(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function k(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(){this.size=0,this.__data__={hash:new f,map:new(wt||m),string:new f}}function O(e){var t=Q(this,e).delete(e);return this.size-=t?1:0,t}function T(e){return Q(this,e).get(e)}function C(e){return Q(this,e).has(e)}function E(e,t){var n=Q(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function P(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new k;++t<n;)this.add(e[t])}function M(e){return this.__data__.set(e,ye),this}function A(e){return this.__data__.has(e)}function j(e){var t=this.__data__=new m(e);this.size=t.size}function R(){this.__data__=new m,this.size=0}function I(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function L(e){return this.__data__.get(e)}function D(e){return this.__data__.has(e)}function N(e,t){var n=this.__data__;if(n instanceof m){var r=n.__data__;if(!wt||r.length<me-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new k(r)}return n.set(e,t),this.size=n.size,this}function B(e,t){var n=Lt(e),r=!n&&It(e),i=!n&&!r&&Dt(e),o=!n&&!r&&!i&&Nt(e),s=n||r||i||o,u=s?a(e.length,String):[],l=u.length;for(var c in e)!t&&!at.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||te(c,l))||u.push(c);return u}function F(e,t){for(var n=e.length;n--;)if(se(e[n][0],t))return n;return-1}function V(e,t,n){var r=t(e);return Lt(e)?r:i(r,n(e))}function z(e){return null==e?void 0===e?Fe:je:vt&&vt in Object(e)?ee(e):oe(e)}function H(e){return de(e)&&z(e)==_e}function U(e,t,n,r,i){return e===t||(null==e||null==t||!de(e)&&!de(t)?e!==e&&t!==t:q(e,t,n,r,U,i))}function q(e,t,n,r,i,o){var a=Lt(e),s=Lt(t),u=a?ke:Rt(e),l=s?ke:Rt(t);u=u==_e?Re:u,l=l==_e?Re:l;var c=u==Re,f=l==Re,h=u==l;if(h&&Dt(e)){if(!Dt(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new j),a||Nt(e)?X(e,t,n,r,i,o):Z(e,t,u,n,r,i,o);if(!(n&be)){var d=c&&at.call(e,"__wrapped__"),p=f&&at.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,g=p?t.value():t;return o||(o=new j),i(v,g,n,r,o)}}return!!h&&(o||(o=new j),K(e,t,n,r,i,o))}function W(e){return!(!he(e)||re(e))&&(ce(e)?lt:Ue).test(ae(e))}function G(e){return de(e)&&fe(e.length)&&!!We[z(e)]}function Y(e){if(!ie(e))return yt(e);var t=[];for(var n in Object(e))at.call(e,n)&&"constructor"!=n&&t.push(n);return t}function X(e,t,n,r,i,a){var u=n&be,l=e.length,c=t.length;if(l!=c&&!(u&&c>l))return!1;var f=a.get(e);if(f&&a.get(t))return f==t;var h=-1,d=!0,p=n&we?new P:void 0;for(a.set(e,t),a.set(t,e);++h<l;){var v=e[h],g=t[h];if(r)var m=u?r(g,v,h,t,e,a):r(v,g,h,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!o(t,function(e,t){if(!s(p,t)&&(v===e||i(v,e,n,r,a)))return p.push(t)})){d=!1;break}}else if(v!==g&&!i(v,g,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function Z(e,t,n,r,i,o,a){switch(n){case ze:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ve:return!(e.byteLength!=t.byteLength||!o(new ht(e),new ht(t)));case Oe:case Te:case Ae:return se(+e,+t);case Ce:return e.name==t.name&&e.message==t.message;case Le:case Ne:return e==t+"";case Me:var s=l;case De:var u=r&be;if(s||(s=c),e.size!=t.size&&!u)return!1;var f=a.get(e);if(f)return f==t;r|=we,a.set(e,t);var h=X(s(e),s(t),r,i,o,a);return a.delete(e),h;case Be:if(At)return At.call(e)==At.call(t)}return!1}function K(e,t,n,r,i,o){var a=n&be,s=$(e),u=s.length;if(u!=$(t).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in t:at.call(t,c)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);for(var d=a;++l<u;){c=s[l];var p=e[c],v=t[c];if(r)var g=a?r(v,p,c,t,e,o):r(p,v,c,e,t,o);if(!(void 0===g?p===v||i(p,v,n,r,o):g)){h=!1;break}d||(d="constructor"==c)}if(h&&!d){var m=e.constructor,y=t.constructor;m!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(e),o.delete(t),h}function $(e){return V(e,pe,jt)}function Q(e,t){var n=e.__data__;return ne(t)?n["string"==typeof t?"string":"hash"]:n.map}function J(e,t){var n=u(e,t);return W(n)?n:void 0}function ee(e){var t=at.call(e,vt),n=e[vt];try{e[vt]=void 0;var r=!0}catch(e){}var i=ut.call(e);return r&&(t?e[vt]=n:delete e[vt]),i}function te(e,t){return!!(t=null==t?xe:t)&&("number"==typeof e||qe.test(e))&&e>-1&&e%1==0&&e<t}function ne(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function re(e){return!!st&&st in e}function ie(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||rt)}function oe(e){return ut.call(e)}function ae(e){if(null!=e){try{return ot.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function se(e,t){return e===t||e!==e&&t!==t}function ue(e){return null!=e&&fe(e.length)&&!ce(e)}function le(e,t){return U(e,t)}function ce(e){if(!he(e))return!1;var t=z(e);return t==Ee||t==Pe||t==Se||t==Ie}function fe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=xe}function he(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function de(e){return null!=e&&"object"==typeof e}function pe(e){return ue(e)?B(e):Y(e)}function ve(){return[]}function ge(){return!1}var me=200,ye="__lodash_hash_undefined__",be=1,we=2,xe=9007199254740991,_e="[object Arguments]",ke="[object Array]",Se="[object AsyncFunction]",Oe="[object Boolean]",Te="[object Date]",Ce="[object Error]",Ee="[object Function]",Pe="[object GeneratorFunction]",Me="[object Map]",Ae="[object Number]",je="[object Null]",Re="[object Object]",Ie="[object Proxy]",Le="[object RegExp]",De="[object Set]",Ne="[object String]",Be="[object Symbol]",Fe="[object Undefined]",Ve="[object ArrayBuffer]",ze="[object DataView]",He=/[\\^$.*+?()[\]{}|]/g,Ue=/^\[object .+?Constructor\]$/,qe=/^(?:0|[1-9]\d*)$/,We={};We["[object Float32Array]"]=We["[object Float64Array]"]=We["[object Int8Array]"]=We["[object Int16Array]"]=We["[object Int32Array]"]=We["[object Uint8Array]"]=We["[object Uint8ClampedArray]"]=We["[object Uint16Array]"]=We["[object Uint32Array]"]=!0,We[_e]=We[ke]=We[Ve]=We[Oe]=We[ze]=We[Te]=We[Ce]=We[Ee]=We[Me]=We[Ae]=We[Re]=We[Le]=We[De]=We[Ne]=We["[object WeakMap]"]=!1;var Ge="object"==typeof e&&e&&e.Object===Object&&e,Ye="object"==typeof self&&self&&self.Object===Object&&self,Xe=Ge||Ye||Function("return this")(),Ze="object"==typeof t&&t&&!t.nodeType&&t,Ke=Ze&&"object"==typeof n&&n&&!n.nodeType&&n,$e=Ke&&Ke.exports===Ze,Qe=$e&&Ge.process,Je=function(){try{return Qe&&Qe.binding&&Qe.binding("util")}catch(e){}}(),et=Je&&Je.isTypedArray,tt=Array.prototype,nt=Function.prototype,rt=Object.prototype,it=Xe["__core-js_shared__"],ot=nt.toString,at=rt.hasOwnProperty,st=function(){var e=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ut=rt.toString,lt=RegExp("^"+ot.call(at).replace(He,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ct=$e?Xe.Buffer:void 0,ft=Xe.Symbol,ht=Xe.Uint8Array,dt=rt.propertyIsEnumerable,pt=tt.splice,vt=ft?ft.toStringTag:void 0,gt=Object.getOwnPropertySymbols,mt=ct?ct.isBuffer:void 0,yt=function(e,t){return function(n){return e(t(n))}
}(Object.keys,Object),bt=J(Xe,"DataView"),wt=J(Xe,"Map"),xt=J(Xe,"Promise"),_t=J(Xe,"Set"),kt=J(Xe,"WeakMap"),St=J(Object,"create"),Ot=ae(bt),Tt=ae(wt),Ct=ae(xt),Et=ae(_t),Pt=ae(kt),Mt=ft?ft.prototype:void 0,At=Mt?Mt.valueOf:void 0;f.prototype.clear=h,f.prototype.delete=d,f.prototype.get=p,f.prototype.has=v,f.prototype.set=g,m.prototype.clear=y,m.prototype.delete=b,m.prototype.get=w,m.prototype.has=x,m.prototype.set=_,k.prototype.clear=S,k.prototype.delete=O,k.prototype.get=T,k.prototype.has=C,k.prototype.set=E,P.prototype.add=P.prototype.push=M,P.prototype.has=A,j.prototype.clear=R,j.prototype.delete=I,j.prototype.get=L,j.prototype.has=D,j.prototype.set=N;var jt=gt?function(e){return null==e?[]:(e=Object(e),r(gt(e),function(t){return dt.call(e,t)}))}:ve,Rt=z;(bt&&Rt(new bt(new ArrayBuffer(1)))!=ze||wt&&Rt(new wt)!=Me||xt&&"[object Promise]"!=Rt(xt.resolve())||_t&&Rt(new _t)!=De||kt&&"[object WeakMap]"!=Rt(new kt))&&(Rt=function(e){var t=z(e),n=t==Re?e.constructor:void 0,r=n?ae(n):"";if(r)switch(r){case Ot:return ze;case Tt:return Me;case Ct:return"[object Promise]";case Et:return De;case Pt:return"[object WeakMap]"}return t});var It=H(function(){return arguments}())?H:function(e){return de(e)&&at.call(e,"callee")&&!dt.call(e,"callee")},Lt=Array.isArray,Dt=mt||ge,Nt=et?function(e){return function(t){return e(t)}}(et):G;n.exports=le}).call(t,n(41),n(81)(e))},function(e,t,n){var r=n(39),i=n(18),o=r(i,"Map");e.exports=o},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(594),o=n(595),a=n(596),s=n(597),u=n(598);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(e){var t=this.__data__=new i(e);this.size=t.size}var i=n(73),o=n(609),a=n(610),s=n(611),u=n(612),l=n(613);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=u,r.prototype.set=l,e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}var i=n(204);e.exports=r},function(e,t,n){var r=n(228),i=r(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){var r=n(526),i=n(235),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(e){return null==e?[]:(e=Object(e),r(s(e),function(t){return a.call(e,t)}))}:i;e.exports=u},function(e,t){function n(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||i.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){function r(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||s.test(e)||!a.test(e)||null!=t&&e in Object(t)}var i=n(15),o=n(60),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}var r=Object.prototype;e.exports=n},function(e,t,n){function r(e,t){return e&&i(e,o(t))}var i=n(211),o=n(217);e.exports=r},function(e,t,n){var r=n(536),i=n(40),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){(function(e){var r=n(18),i=n(629),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,u=s?r.Buffer:void 0,l=u?u.isBuffer:void 0,c=l||i;e.exports=c}).call(t,n(81)(e))},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t,n){"use strict";(function(e,r){function i(e){if(e){var t=e.length||e.byteLength,n=y.log2(t);_[n].push(e)}}function o(e){i(e.buffer)}function a(e){var e=y.nextPow2(e),t=y.log2(e),n=_[t];return n.length>0?n.pop():new ArrayBuffer(e)}function s(e){return new Uint8Array(a(e),0,e)}function u(e){return new Uint16Array(a(2*e),0,e)}function l(e){return new Uint32Array(a(4*e),0,e)}function c(e){return new Int8Array(a(e),0,e)}function f(e){return new Int16Array(a(2*e),0,e)}function h(e){return new Int32Array(a(4*e),0,e)}function d(e){return new Float32Array(a(4*e),0,e)}function p(e){return new Float64Array(a(8*e),0,e)}function v(e){return w?new Uint8ClampedArray(a(e),0,e):s(e)}function g(e){return new DataView(a(e),0,e)}function m(e){e=y.nextPow2(e);var t=y.log2(e),n=k[t];return n.length>0?n.pop():new r(e)}var y=n(87),b=n(501);e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:b([32,0]),UINT16:b([32,0]),UINT32:b([32,0]),INT8:b([32,0]),INT16:b([32,0]),INT32:b([32,0]),FLOAT:b([32,0]),DOUBLE:b([32,0]),DATA:b([32,0]),UINT8C:b([32,0]),BUFFER:b([32,0])});var w="undefined"!=typeof Uint8ClampedArray,x=e.__TYPEDARRAY_POOL;x.UINT8C||(x.UINT8C=b([32,0])),x.BUFFER||(x.BUFFER=b([32,0]));var _=x.DATA,k=x.BUFFER;t.free=function(e){if(r.isBuffer(e))k[y.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,n=0|y.log2(t);_[n].push(e)}},t.freeUint8=t.freeUint16=t.freeUint32=t.freeInt8=t.freeInt16=t.freeInt32=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=o,t.freeArrayBuffer=i,t.freeBuffer=function(e){k[y.log2(e.length)].push(e)},t.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return a(e);switch(t){case"uint8":return s(e);case"uint16":return u(e);case"uint32":return l(e);case"int8":return c(e);case"int16":return f(e);case"int32":return h(e);case"float":case"float32":return d(e);case"double":case"float64":return p(e);case"uint8_clamped":return v(e);case"buffer":return m(e);case"data":case"dataview":return g(e);default:return null}return null},t.mallocArrayBuffer=a,t.mallocUint8=s,t.mallocUint16=u,t.mallocUint32=l,t.mallocInt8=c,t.mallocInt16=f,t.mallocInt32=h,t.mallocFloat32=t.mallocFloat=d,t.mallocFloat64=t.mallocDouble=p,t.mallocUint8Clamped=v,t.mallocDataView=g,t.mallocBuffer=m,t.clearCache=function(){for(var e=0;e<32;++e)x.UINT8[e].length=0,x.UINT16[e].length=0,x.UINT32[e].length=0,x.INT8[e].length=0,x.INT16[e].length=0,x.INT32[e].length=0,x.FLOAT[e].length=0,x.DOUBLE[e].length=0,x.UINT8C[e].length=0,_[e].length=0,k[e].length=0}}).call(t,n(41),n(153).Buffer)},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BarTrack=void 0;var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),l=n(13),c=n(64),f=n(3),h=t.BarTrack=function(e){function t(e,n,o,a,s,u){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,u))}return o(t,e),s(t,[{key:"initTile",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initTile",this).call(this,e),e.barXValues=new Array(e.tileData.dense.length),e.barYValues=new Array(e.tileData.dense.length),e.barWidths=new Array(e.tileData.dense.length),e.barHeights=new Array(e.tileData.dense.length),e.barColors=new Array(e.tileData.dense.length),this.renderTile(e)}return e}()},{key:"drawTile",value:function(){function e(e){}return e}()},{key:"renderTile",value:function(){function e(e){if(e.graphics){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),r=n.tileX,i=n.tileWidth,o=e.tileData.dense;if(0!=o.length){var a=0;if(this.valueScale=null,"log"==this.options.valueScaling){var s=this.medianVisibleValue;this.medianVisibleValue||(s=this.minVisibleValue()),this.valueScale=(0,l.scaleLog)().domain([s,this.maxValue()+s]).range([this.dimensions[1],0]),a=s}else this.valueScale=(0,l.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(t.clear(),this.drawAxis(this.valueScale),"log"==this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var u=(0,f.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),c=(0,l.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([r,r+i]);t.lineStyle(0,u,1);var h=this.options.barFillColor?this.options.barFillColor:"grey",d=(0,f.colorToHex)(h),p="barOpacity"in this.options?this.options.barOpacity:1;t.beginFill(d,p),e.drawnAtScale=this._xScale.copy();for(var v=0;v<o.length;v++){var g=this._xScale(c(v)),m=this.valueScale(o[v]+a),y=this._xScale(c(v+1))-g,b=this.dimensions[1]-m;if(e.barColors[v]=h,e.barXValues[v]=g,e.barYValues[v]=m,e.barWidths[v]=y,e.barHeights[v]=b,c(v)>this.tilesetInfo.max_pos[0])break;t.drawRect(g,m,y,b)}}}}return e}()},{key:"draw",value:function(){function e(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this);var e=!0,n=!1,r=void 0;try{for(var i,o=(0,f.dictValues)(this.fetchedTiles)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,s=(a.drawnAtScale.domain()[1]-a.drawnAtScale.domain()[0])/(this._xScale.domain()[1]-this._xScale.domain()[0]),l=this._xScale.domain().map(a.drawnAtScale),c=l[0];a.graphics.scale.x=s,a.graphics.position.x=-c*s}}catch(e){n=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,o){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n)}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null,r=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"superSVG",this).call(this),i=a(r,2);n=i[0],e=i[1],n.setAttribute("class","exported-line-track");var o=document.createElement("g");e.appendChild(o),o.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")");var s=(this.options.lineStrokeColor&&this.options.lineStrokeColor,!0),l=!1,c=void 0;try{for(var f,h=this.visibleAndFetchedTiles()[Symbol.iterator]();!(s=(f=h.next()).done);s=!0)for(var d=f.value,p=0;p<d.barXValues.length;p++){var v=document.createElement("rect");this.options.barFillColor&&this.options.barFillColor,v.setAttribute("fill",d.barColors[p]),v.setAttribute("stroke",d.barColors[p]),v.setAttribute("x",d.barXValues[p]),v.setAttribute("y",d.barYValues[p]),v.setAttribute("height",d.barHeights[p]),v.setAttribute("width",d.barWidths[p]),o.appendChild(v)}}catch(e){l=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}var g=document.createElement("g");if(g.setAttribute("id","axis"),n.appendChild(g),g.setAttribute("transform","translate("+this.axis.pAxis.position.x+", "+this.axis.pAxis.position.y+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var m=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);g.appendChild(m)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var y=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);g.appendChild(y)}return[n,e]}return e}()}]),t}(c.HorizontalLine1DPixiTrack);t.default=h},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=r(c),h=n(2),d=r(h),p=n(4),v=n(13),g=n(34),m=n(9),y=r(m),b=n(11),w=r(b),x=n(686),_=r(x),k=n(155),S=n(10),O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(S),T=n(706),C=r(T),E=n(703),P=r(E),M=n(285),A=n(265),j=r(A),R=n(264),I=n(313),L=n(148),D=n(296),N=r(D),B=n(42),F=n(300),V=r(F),z=n(7),H=n(3),U=n(6),q=n(508),W=(r(q),n(203)),G=r(W),Y=n(504),X=(r(Y),(0,x.WidthProvider)(_.default),12),Z=12,K=20,$=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));console.log("heeeeyaa"),n.minHorizontalHeight=20,n.minVerticalWidth=20,n.resizeSensor=null,n.uid=y.default.nice(),n.rowHeight=40,n.tiledPlots={},n.genomePositionSearchBoxes={},n.xScales={},n.yScales={},n.topDiv=null,n.viewTrackUidsToCombinedUid={},n.combinedUidToViewTrack={},n.scalesChangedListeners={},n.draggingChangedListeners={},n.valueScalesChangedListeners={},n.zoomLocks={},n.locationLocks={},n.valueScaleLocks={},n.setCenters={},n.plusImg={},n.configImg={},n.horizontalMargin=5,n.verticalMargin=5,n.genomePositionSearchBox=null,n.viewHeaders={},n.boundRefreshView=function(){n.refreshView(U.LONG_DRAG_TIMEOUT)},n.viewConfig=n.props.viewConfig,n.pixiStage=new O.Container,n.pixiStage.interactive=!0,n.element=null;var r=n.processViewConfig(JSON.parse(JSON.stringify(n.props.viewConfig))),i=U.MOUSE_TOOL_MOVE;if(n.props.options)switch(n.props.options.mouseTool){case U.MOUSE_TOOL_SELECT:i=U.MOUSE_TOOL_SELECT}return n.mounted=!1,n.state={bounded:!!n.props.options&&n.props.options.bounded,currentBreakpoint:"lg",width:0,height:0,rowHeight:30,svgElement:null,canvasElement:null,views:r,addTrackPositionMenuPosition:null,mouseOverOverlayUid:null,exportLinkModalOpen:!1,exportLinkLocation:null,mouseTool:i},(0,H.dictValues)(r).map(function(e){return n.adjustLayoutToTrackSizes(e)}),n.attachedToDOM=!1,n.api=(0,V.default)(n),n.rangeSelectionListener=[],n.viewChangeListener=[],n.triggerViewChangeDb=(0,H.debounce)(n.triggerViewChange.bind(n),250),n.pubSubs=[],n.rangeSelection=[null,null],n}return s(t,e),l(t,[{key:"componentWillMount",value:function(){function e(){z.domEvent.register("keydown",document),z.domEvent.register("keyup",document),z.domEvent.register("scroll",document),z.domEvent.register("resize",window),z.domEvent.register("orientationchange",window),this.pubSubs=[],this.pubSubs.push(z.pubSub.subscribe("keydown",this.keyDownHandler.bind(this))),this.pubSubs.push(z.pubSub.subscribe("keyup",this.keyUpHandler.bind(this))),this.pubSubs.push(z.pubSub.subscribe("resize",this.resizeHandler.bind(this))),this.pubSubs.push(z.pubSub.subscribe("orientationchange",this.resizeHandler.bind(this))),this.props.getApi&&this.props.getApi(this.api)}return e}()},{key:"waitForDOMAttachment",value:function(){function e(e){var t=this;if(this.mounted){var n=w.default.findDOMNode(this);document.body.contains(n)?e():requestAnimationFrame(function(){return t.waitForDOMAttachment(e)})}}return e}()},{key:"componentDidMount",value:function(){function e(){var e=this;this.mounted=!0,this.element=w.default.findDOMNode(this),window.addEventListener("focus",this.boundRefreshView),(0,H.dictValues)(this.state.views).forEach(function(t){t.layout?t.layout.i=t.uid:t.layout=e.generateViewLayout(t)}),this.pixiRenderer=O.autoDetectRenderer(this.state.width,this.state.height,{view:this.canvasElement,antialias:!0,transparent:!0,resolution:2,autoResize:!0}),this.fitPixiToParentContainer(),this.setState({svgElement:this.svgElement,canvasElement:this.canvasElement}),this.waitForDOMAttachment(function(){k.ElementQueries.listen(),e.resizeSensor=new k.ResizeSensor(e.element.parentNode,e.updateAfterResize.bind(e)),e.updateAfterResize()}),this.handleDragStart(),this.handleDragStop(),this.animate();var t=(0,p.select)(this.element).append("svg").style("display","none");L.all.forEach(function(e){return(0,I.createSymbolIcon)(t,e.id,e.paths,e.viewBox)})}return e}()},{key:"componentWillReceiveProps",value:function(){function e(e){var t=this.processViewConfig(e.viewConfig);this.setState({views:t})}return e}()},{key:"componentWillUpdate",value:function(){function e(e,t){this.pixiRenderer.render(this.pixiStage)}return e}()},{key:"componentDidUpdate",value:function(){function e(){this.animate(),this.triggerViewChangeDb()}return e}()},{key:"componentWillUnmount",value:function(){function e(){this.mounted=!1,this.pixiStage.destroy(!1),this.pixiStage=null,this.pixiRenderer.destroy(!0),this.pixiRenderer=null,window.removeEventListener("focus",this.boundRefreshView),this.resizeSensor&&this.resizeSensor.detach(),z.domEvent.unregister("keydown",document),z.domEvent.unregister("keyup",document),z.domEvent.unregister("scroll",document),this.pubSubs.forEach(function(e){return z.pubSub.unsubscribe(e)}),this.pubSubs=[]}return e}()},{key:"fitPixiToParentContainer",value:function(){function e(){if(!this.element.parentNode)return void console.warn("No parentNode:",this.element);var e=this.element.parentNode.clientWidth,t=this.element.parentNode.clientHeight;this.pixiRenderer.resize(e,t),this.pixiRenderer.view.style.width=e+"px",this.pixiRenderer.view.style.height=t+"px",this.pixiRenderer.render(this.pixiStage)}return e}()},{key:"addDefaultOptions",value:function(){function e(e){if(!U.TRACKS_INFO_BY_TYPE.hasOwnProperty(e.type))return void console.error("ERROR: track type not found:",e.type," (check app/scripts/config/ for a list of defined track types)");var t=e.options?e.options:{};if(U.TRACKS_INFO_BY_TYPE[e.type].defaultOptions)if(e.options)for(var n in U.TRACKS_INFO_BY_TYPE[e.type].defaultOptions)e.options[n]=e.options[n]?e.options[n]:JSON.parse(JSON.stringify(U.TRACKS_INFO_BY_TYPE[e.type].defaultOptions[n]));else e.options=JSON.parse(JSON.stringify(U.TRACKS_INFO_BY_TYPE[e.type].defaultOptions));else e.options=t}return e}()},{key:"keyDownHandler",value:function(){function e(e){this.props.options.rangeSelectionOnAlt&&"Alt"===e.key&&this.setState({mouseTool:U.MOUSE_TOOL_SELECT})}return e}()},{key:"keyUpHandler",value:function(){function e(e){this.props.options.rangeSelectionOnAlt&&"Alt"===e.key&&this.setState({mouseTool:U.MOUSE_TOOL_MOVE})}return e}()},{key:"animate",value:function(){function e(){var e=this;requestAnimationFrame(function(){e.pixiRenderer&&e.pixiRenderer.render(e.pixiStage)})}return e}()},{key:"measureSize",value:function(){function e(){var e=this.element.clientHeight-0,t=this.element.clientWidth;t>0&&e>0&&this.setState({sizeMeasured:!0,width:t,height:e})}return e}()},{key:"updateAfterResize",value:function(){function e(){this.measureSize(),this.updateRowHeight(),this.fitPixiToParentContainer(),this.refreshView(U.LONG_DRAG_TIMEOUT)}return e}()},{key:"onBreakpointChange",value:function(){function e(e){this.setState({currentBreakpoint:e})}return e}()},{key:"handleOverlayMouseEnter",value:function(){function e(e){this.setState({mouseOverOverlayUid:e})}return e}()},{key:"handleOverlayMouseLeave",value:function(){function e(e){this.setState({mouseOverOverlayUid:null})}return e}()},{key:"handleLockLocation",value:function(){function e(e){var t=this;this.setState({chooseViewHandler:function(){function n(n){return t.handleLocationLockChosen(e,n)}return n}(),mouseOverOverlayUid:e})}return e}()},{key:"updateLockedValueScales",value:function(){function e(e,t){this.valueScaleLocks[this.combineViewAndTrackUid(e,t)]}return e}()},{key:"iterateOverViews",value:function(){function e(){var e=[];for(var t in this.state.views)e.push(t);return e}return e}()},{key:"iterateOverTracksInView",value:function(){function e(e){var t=[],n=this.state.views[e].tracks;for(var r in n){var i=!0,o=!1,a=void 0;try{for(var s,u=n[r][Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;if("combined"===l.type&&l.contents){var c=!0,f=!1,h=void 0;try{for(var d,p=l.contents[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var v=d.value;t.push({viewId:e,trackId:v.uid,track:v})}}catch(e){f=!0,h=e}finally{try{!c&&p.return&&p.return()}finally{if(f)throw h}}}else t.push({viewId:e,trackId:l.uid,track:l})}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}return t}return e}()},{key:"iterateOverTracks",value:function(){function e(){var e=[];for(var t in this.state.views){var n=this.state.views[t].tracks;for(var r in n){var i=!0,o=!1,a=void 0;try{for(var s,u=n[r][Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;if("combined"===l.type&&l.contents){var c=!0,f=!1,h=void 0;try{for(var d,p=l.contents[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var v=d.value;e.push({viewId:t,trackId:v.uid,track:v})}}catch(e){f=!0,h=e}finally{try{!c&&p.return&&p.return()}finally{if(f)throw h}}}else e.push({viewId:t,trackId:l.uid,track:l})}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}}return e}return e}()},{key:"setMouseTool",value:function(){function e(e){this.setState({mouseTool:e})}return e}()},{key:"syncValueScales",value:function(){function e(e,t){var n=this,r=this.combineViewAndTrackUid(e,t),o=(0,H.getTrackByUid)(this.state.views[e].tracks,t);if(this.valueScaleLocks[r]){var a=(0,H.dictValues)(this.valueScaleLocks[r]),s=a.filter(function(e){return n.tiledPlots[e.view]}).map(function(e){return n.tiledPlots[e.view].trackRenderer.getTrackObject(e.track)}),u=s.filter(function(e){return e.minRawValue&&e.maxRawValue}).map(function(e){return e.minRawValue()}).filter(function(e){return e}),l=s.filter(function(e){return e.minRawValue&&e.maxRawValue}).map(function(e){return e.maxRawValue()}).filter(function(e){return e}),c=Math.min.apply(Math,i(u)),f=Math.max.apply(Math,i(l)),h=!0,d=!1,p=void 0;try{for(var v,g=s[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var m=v.value;m.minValue&&m.minValue(c),m.maxValue&&m.maxValue(f),m.valueScale&&(m.valueScale.domain([c,f]),o.options&&void 0!==o.options.scaleStartPercent&&void 0!==o.options.scaleEndPercent&&(m.options.scaleStartPercent=o.options.scaleStartPercent,m.options.scaleEndPercent=o.options.scaleEndPercent),m.rerender(m.options,!0))}}catch(e){d=!0,p=e}finally{try{!h&&g.return&&g.return()}finally{if(d)throw p}}}}return e}()},{key:"handleNewTilesLoaded",value:function(){function e(e,t){this.animate()}return e}()},{key:"notifyDragChangedListeners",value:function(){function e(e){(0,H.dictValues)(this.draggingChangedListeners).forEach(function(t){(0,H.dictValues)(t).forEach(function(t){return t(e)})})}return e}()},{key:"addDraggingChangedListener",value:function(){function e(e,t,n){this.draggingChangedListeners.hasOwnProperty(e)||(this.draggingChangedListeners[e]={}),this.draggingChangedListeners[e][t]=n,n(!0),n(!1)}return e}()},{key:"removeDraggingChangedListener",value:function(){function e(e,t){if(this.draggingChangedListeners.hasOwnProperty(e)){var n=this.draggingChangedListeners[e];n.hasOwnProperty(t)&&(n[t](!1),delete n[t])}}return e}()},{key:"addScalesChangedListener",value:function(){function e(e,t,n){this.scalesChangedListeners.hasOwnProperty(e)||(this.scalesChangedListeners[e]={}),this.scalesChangedListeners[e][t]=n,this.xScales[e]&&this.yScales[e]&&n(this.xScales[e],this.yScales[e])}return e}()},{key:"removeScalesChangedListener",value:function(){function e(e,t){if(this.scalesChangedListeners.hasOwnProperty(e)){var n=this.scalesChangedListeners[e];n.hasOwnProperty(t)&&delete n[t]}}return e}()},{key:"createSVG",value:function(){function e(){var e=document.createElement("svg");e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("xmlns","http://www.w3.org/2000/svg");var t=!0,n=!1,r=void 0;try{for(var i,o=(0,H.dictValues)(this.tiledPlots)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(a){var s=!0,u=!1,l=void 0;try{for(var c,f=(0,H.dictValues)(a.trackRenderer.trackDefObjects)[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;if(h.trackObject.exportSVG){var d=h.trackObject.exportSVG()[0];e.appendChild(d)}}}catch(e){u=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(u)throw l}}}}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return e}return e}()},{key:"handleExportSVG",value:function(){function e(){var e=this.createSVG(),t=(new XMLSerializer).serializeToString(e);return C.default.xml(t),(0,H.download)("export.svg",C.default.xml(t)),e}return e}()},{key:"handleScalesChanged",value:function(){function e(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(this.xScales[e]=t,this.yScales[e]=n,i&&this.scalesChangedListeners.hasOwnProperty(e)&&(0,H.dictValues)(this.scalesChangedListeners[e]).forEach(function(e){e(t,n)}),this.zoomLocks[e])for(var o=this.zoomLocks[e],a=(0,H.dictItems)(o),s=(0,H.scalesCenterAndK)(this.xScales[e],this.yScales[e]),l=u(s,3),c=(l[0],l[1],l[2]),f=function(){function t(t){var n=a[t][0],i=a[t][1];if(!r.xScales[n]||!r.yScales[n])return"continue";if(n==e)return"continue";var s=(0,H.scalesCenterAndK)(r.xScales[n],r.yScales[n]),l=u(s,3),f=l[0],h=l[1],d=(l[2],i[0],o[e][0],i[1],o[e][1],i[2]/o[e][2]),p=c*d;if(!r.setCenters[n])return"continue";var v=r.setCenters[n](f,h,p,!1),g=u(v,2),m=g[0],y=g[1];r.xScales[n]=m,r.yScales[n]=y,r.scalesChangedListeners.hasOwnProperty(n)&&(0,H.dictValues)(r.scalesChangedListeners[n]).forEach(function(e){e(m,y)})}return t}(),h=0;h<a.length;h++)f(h);if(this.locationLocks[e])for(var d=this.locationLocks[e],p=(0,H.dictItems)(d),v=(0,H.scalesCenterAndK)(this.xScales[e],this.yScales[e]),g=u(v,3),m=g[0],y=g[1],b=(g[2],function(){function t(t){var n=p[t][0],i=p[t][1];if(!r.xScales[n]||!r.yScales[n])return"continue";var o=(0,H.scalesCenterAndK)(r.xScales[n],r.yScales[n]),a=u(o,3),s=(a[0],a[1],a[2]);if(n==e)return"continue";var l=i[0]-d[e][0],c=i[1]-d[e][1],f=m+l,h=y+c;if(!r.setCenters[n])return"continue";var v=r.setCenters[n](f,h,s,!1),g=u(v,2),b=g[0],w=g[1];r.xScales[n]=b,r.yScales[n]=w,r.scalesChangedListeners.hasOwnProperty(n)&&(0,H.dictValues)(r.scalesChangedListeners[n]).forEach(function(e){e(b,w)})}return t}()),h=0;h<p.length;h++)b(h);this.animate(),this.triggerViewChangeDb()}return e}()},{key:"handleProjectViewport",value:function(){function e(e){var t=this;this.setState({chooseTrackHandler:function(){function n(n,r){return t.handleViewportProjected(e,n,r)}return n}()})}return e}()},{key:"handleZoomToData",value:function(){function e(e){if(!this.tiledPlots[e])throw"View uid "+e+" does not exist in the current viewConfig";this.tiledPlots[e].handleZoomToData()}return e}()},{key:"handleYankFunction",value:function(){function e(e,t){this.setState({chooseViewHandler:function(){function n(n){return t(e,n)}return n}(),mouseOverOverlayUid:e})}return e}()},{key:"handleUnlock",value:function(){function e(e,t){var n=t[e],r=(0,H.dictKeys)(n);if(2==r.length)return delete t[r[0]],void delete t[r[1]];t[e]&&t[e][e]&&delete t[e][e],t[e]&&delete t[e]}return e}()},{key:"viewScalesLockData",value:function(){function e(e){return this.xScales[e]&&this.yScales[e]?(0,H.scalesCenterAndK)(this.xScales[e],this.yScales[e]):void console.warn("View scale lock doesn't correspond to existing uid: ",e)}return e}()},{key:"addLock",value:function(){function e(e,t,n,r){var i=[],o=[];i=n[e]?(0,H.dictItems)(n[e]).filter(function(e){return r(e[0])}).map(function(e){return[e[0],r(e[0])]}):[[e,r.bind(this)(e)]],o=n[t]?(0,H.dictItems)(n[t]).filter(function(e){return r(e[0])}).map(function(e){return[e[0],r(e[0])]}):[[t,r.bind(this)(t)]];var a=i.concat(o),s=(0,H.dictFromTuples)(a);a.forEach(function(e){n[e[0]]=s})}return e}()},{key:"handleLocationLockChosen",value:function(){function e(e,t){if(e==t)return void this.setState({chooseViewHandler:null});this.addLock(e,t,this.locationLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})}return e}()},{key:"handleZoomLockChosen",value:function(){function e(e,t){if(e==t)return void this.setState({chooseViewHandler:null});this.addLock(e,t,this.zoomLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})}return e}()},{key:"handleViewportProjected",value:function(){function e(e,t,n){var r=null;if(e==t)alert("A view can not show its own viewport.");else{var i=(0,H.getTrackByUid)(this.state.views[t].tracks,n),o=(0,H.getTrackPositionByUid)(this.state.views[t].tracks,n);r=y.default.nice();var a={top:"horizontal",bottom:"horizontal",center:"center",left:"vertical",right:"vertical"},s={uid:r,type:"viewport-projection-"+a[o],fromViewUid:e};this.addCallbacks(t,s),this.handleTrackAdded(t,s,o,i)}return this.setState({chooseTrackHandler:null}),r}return e}()},{key:"handleLocationYanked",value:function(){function e(e,t){var n=this.xScales[t],r=this.yScales[t],i=this.xScales[e],o=this.yScales[e],a=(0,H.scalesCenterAndK)(i,o),s=u(a,3),l=(s[0],s[1],s[2]),c=(0,H.scalesCenterAndK)(n,r),f=u(c,3),h=f[0],d=f[1];f[2],this.setCenters[e](h,d,l,!0),this.setState({chooseViewHandler:null})}return e}()},{key:"handleZoomYanked",value:function(){function e(e,t){var n=this.xScales[t],r=this.yScales[t],i=this.xScales[e],o=this.yScales[e],a=(0,H.scalesCenterAndK)(i,o),s=u(a,3),l=s[0],c=s[1],f=(s[2],(0,H.scalesCenterAndK)(n,r)),h=u(f,3),d=(h[0],h[1],h[2]);this.setCenters[e](l,c,d,!0),this.setState({chooseViewHandler:null})}return e}()},{key:"handleTrackPositionChosen",value:function(){function e(e,t){this.setState({addTrackPosition:t,addTrackPositionView:e})}return e}()},{key:"updateRowHeight",value:function(){function e(){if(this.props.options&&this.props.options.bounded){var e=this.element.parentNode.clientHeight,t=0,n=!0,r=!1,i=void 0;try{for(var o,a=(0,H.dictValues)(this.state.views)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t=Math.max(t,s.layout.y+s.layout.h)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.handleDragStart(),this.handleDragStop();var u=this.props.viewConfig.editable?10:0,l=u*t-1,c=e-l,f=c/t,h=Math.floor(f);this.setState({rowHeight:h})}}return e}()},{key:"handleLayoutChange",value:function(){function e(e,t){if(this.element){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=this.state.views[s.i]
;u&&(u.layout=s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.updateRowHeight(),this.refreshView(U.LONG_DRAG_TIMEOUT)}}return e}()},{key:"clearDragTimeout",value:function(){function e(){this.dragTimeout&&(clearTimeout(this.dragTimeout),this.dragTimeout=null)}return e}()},{key:"forceRefreshView",value:function(){function e(){this.setState(this.state)}return e}()},{key:"refreshView",value:function(){function e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U.SHORT_DRAG_TIMEOUT;this.clearDragTimeout(),this.notifyDragChangedListeners(!0),this.clearDragTimeout(),this.dragTimeout=setTimeout(function(){e.notifyDragChangedListeners(!1)},t)}return e}()},{key:"handleDragStart",value:function(){function e(e,t,n,r,i,o){this.clearDragTimeout(),this.notifyDragChangedListeners(!0)}return e}()},{key:"handleDragStop",value:function(){function e(){var e=this;this.clearDragTimeout(),this.dragTimeout=setTimeout(function(){e.notifyDragChangedListeners(!1)},U.LONG_DRAG_TIMEOUT)}return e}()},{key:"resizeHandler",value:function(){function e(){(0,H.objVals)(this.viewHeaders).filter(function(e){return e}).forEach(function(e){return e.checkWidth()})}return e}()},{key:"fillInMinWidths",value:function(){function e(e){var t=["top","bottom"];"center"in e||(e.center=[]),"left"in e||(e.left=[]),"right"in e||(e.right=[]),"top"in e||(e.top=[]),"bottom"in e||(e.bottom=[]);for(var n=0;n<t.length;n++){var r=e[t[n]];if(r)for(var i=0;i<r.length;i++){var o=U.TRACKS_INFO_BY_TYPE[r[i].type];"height"in r[i]&&!(o&&r[i].height<o.minHeight)||(o&&o.minHeight?r[i].height=o.minHeight:r[i].height=this.minHorizontalHeight)}}for(var a=["left","right"],s=0;s<a.length;s++){var u=e[a[s]];if(u)for(var l=0;l<u.length;l++){var c=U.TRACKS_INFO_BY_TYPE[u[l].type];"width"in u[l]&&!(c&&u[l].width<c.minWidth)||(c&&c.minWidth?u[l].width=c.minWidth:u[l].width=this.minVerticalWidth)}}return e}return e}()},{key:"calculateViewDimensions",value:function(){function e(e){var t=2*this.horizontalMargin,n=2*this.verticalMargin,r=0;if(r+=10,e.tracks.top)for(var i=0;i<e.tracks.top.length;i++){var o=e.tracks.top[i];t+=o.height?o.height:20,r+=o.height?o.height:20}if(e.tracks.bottom)for(var a=0;a<e.tracks.bottom.length;a++){var s=e.tracks.bottom[a];t+=s.height?s.height:20,r+=s.height?s.height:20}(e.tracks.left&&e.tracks.left.length>0||e.tracks.right&&e.tracks.right.length>0||e.tracks.center&&e.tracks.center.length>0)&&(r+=20);var u=0;if(e.tracks.left)for(var l=0;l<e.tracks.left.length;l++){var c=e.tracks.left[l],f=c.height?c.height:100;n+=c.width?c.width:0,u=Math.max(u,f)}var h=0;if(e.tracks.right)for(var d=0;d<e.tracks.right.length;d++){var p=e.tracks.right[d],v=p.height?p.height:100;n+=p.width?p.width:0,h=Math.max(h,v)}var g=Math.max(u,h),m=0,y=0;if(e.tracks.center&&(0,H.dictValues)(e.tracks.center).length>0){if(!e.tracks.center[0].contents||e.tracks.center[0].contents.length>0){var b=null,w=null;if(e.tracks.center[0].contents){var x=!0,_=!1,k=void 0;try{for(var S,O=e.tracks.center[0].contents[Symbol.iterator]();!(x=(S=O.next()).done);x=!0){var T=S.value;b=Math.max(b,T.height?T.height:100),w=Math.max(w,T.width?T.width:100)}}catch(e){_=!0,k=e}finally{try{!x&&O.return&&O.return()}finally{if(_)throw k}}}else b=e.tracks.center[0].height?e.tracks.center[0].height:100,w=e.tracks.center[0].width?e.tracks.center[0].width:100;t+=b,n+=w}}else(e.tracks.top&&(0,H.dictValues)(e.tracks.top).length>1||e.tracks.bottom&&(0,H.dictValues)(e.tracks.bottom).length>1)&&(e.tracks.left&&(0,H.dictValues)(e.tracks.left).length||e.tracks.right&&(0,H.dictValues)(e.tracks.right).length)&&(y=100,m=100);t+=g>m?g:m;var C=0,E=0,P=0,M=0;return"top"in e.tracks&&(C=e.tracks.top.map(function(e){return e.height?e.height:20}).reduce(function(e,t){return e+t},0)),"bottom"in e.tracks&&(E=e.tracks.bottom.map(function(e){return e.height?e.height:20}).reduce(function(e,t){return e+t},0)),"left"in e.tracks&&(P=e.tracks.left.map(function(e){return e.width?e.width:0}).reduce(function(e,t){return e+t},0)),"right"in e.tracks&&(M=e.tracks.right.map(function(e){return e.width?e.width:0}).reduce(function(e,t){return e+t},0)),{totalWidth:n,totalHeight:t,topHeight:C,bottomHeight:E,leftWidth:P,rightWidth:M,centerWidth:y,centerHeight:m,minNecessaryHeight:r}}return e}()},{key:"generateViewLayout",value:function(){function e(e){var t=null;if("layout"in e)t=e.layout;else{var n=(this.element.clientWidth,this.calculateViewDimensions(e)),r=(n.totalWidth,n.totalHeight);n.topHeight,n.bottomHeight,n.leftWidth,n.rightWidth,n.centerWidth,n.centerHeight,e.searchBox&&(r+=30),Math.ceil(r/this.rowHeight),t={x:0,y:0,w:X,h:Z}}return t}return e}()},{key:"handleClearView",value:function(){function e(e){var t=this.state.views;t[e].tracks.top=[],t[e].tracks.bottom=[],t[e].tracks.center=[],t[e].tracks.left=[],t[e].tracks.right=[],this.setState({views:t})}return e}()},{key:"handleCloseView",value:function(){function e(e){if(1!=(0,H.dictValues)(this.state.views).length){this.handleUnlock(e,this.zoomLocks),delete this.state.views[e];var t=this.removeInvalidTracks(this.state.views);this.setState({views:t})}}return e}()},{key:"handleSeriesAdded",value:function(){function e(e,t,n,r){var i=this.state.views[e].tracks;if("combined"==r.type)r.contents.push(t);else for(var o={type:"combined",uid:y.default.nice(),height:r.height,width:r.width,contents:[r,t]},a=i[n],s=0;s<a.length;s++)a[s].uid==r.uid&&(a[s]=o);this.setState({views:this.state.views})}return e}()},{key:"handleNoTrackAdded",value:function(){function e(){this.state.addTrackPosition&&this.setState({addTrackPosition:null})}return e}()},{key:"handleTracksAdded",value:function(){function e(e,t,n,r){this.storeTrackSizes(e);var i=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;this.handleTrackAdded(e,l,n,r)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}return e}()},{key:"handleChangeTrackType",value:function(){function e(e,t,n){var r=this.state.views[e],i=(0,H.getTrackByUid)(r.tracks,t);i.uid=y.default.nice(),i.type=n,this.setState({views:this.state.views})}return e}()},{key:"handleTrackAdded",value:function(){function e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.addDefaultOptions(t),t.contents){var i=!0,o=!1,a=void 0;try{for(var s,u=t.contents[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;this.addDefaultOptions(l)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}if(this.addNameToTrack(t),this.state.addTrackPosition&&this.setState({addTrackPosition:null}),r)return void this.handleSeriesAdded(e,t,n,r);t.width=U.TRACKS_INFO_BY_TYPE[t.type].minWidth?U.TRACKS_INFO_BY_TYPE[t.type].minWidth:this.minVerticalWidth,t.height=U.TRACKS_INFO_BY_TYPE[t.type].minHeight?U.TRACKS_INFO_BY_TYPE[t.type].minHeight:this.minHorizontalHeight;var c=this.state.views[e].tracks;if("left"==n||"top"==n)c[n].unshift(t);else if("center"==n)if(0==c.center.length){var f={uid:y.default.nice(),type:"combined",contents:[t]};c.center=[f]}else if("combined"==c.center[0].type)c.center[0].contents.push(t);else{var h={uid:y.default.nice(),type:"combined",contents:[c.center[0],t]};c.center=[h]}else c[n].push(t);return this.adjustLayoutToTrackSizes(this.state.views[e]),t}return e}()},{key:"storeTrackSizes",value:function(){function e(e){var t=(0,H.positionedTracksToAllTracks)(this.state.views[e].tracks),n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=this.tiledPlots[e].trackRenderer.getTrackObject(s.uid);s.width=u.dimensions[0],s.height=u.dimensions[1]}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}return e}()},{key:"adjustLayoutToTrackSizes",value:function(){function e(e){if(e.layout){var t=0;this.props.viewConfig.editable&&(t+=K),t+=this.calculateViewDimensions(e).totalHeight;var n=this.props.viewConfig.editable?10:0;this.props.options.bounded||(e.layout.h=Math.ceil((t+n)/(this.state.rowHeight+n)))}}return e}()},{key:"handleCloseTrack",value:function(){function e(e,t){var n=this.state.views[e].tracks;this.handleUnlockValueScale(e,t);for(var r in n){var i=n[r],o=i.filter(function(e){return e.uid!=t});o.length==i.length?o.filter(function(e){return"combined"==e.type}).forEach(function(e){e.contents=e.contents.filter(function(e){return e.uid!=t})}):n[r]=o}return this.storeTrackSizes(e),this.adjustLayoutToTrackSizes(this.state.views[e]),this.setState({views:this.state.views}),this.state.views}return e}()},{key:"handleLockValueScale",value:function(){function e(e,t){var n=this;this.setState({chooseTrackHandler:function(){function r(r,i){return n.handleValueScaleLocked(e,t,r,i)}return r}()})}return e}()},{key:"combineViewAndTrackUid",value:function(){function e(e,t){var n=e+"."+t;if(this.combinedUidToViewTrack[n]={view:e,track:t},this.viewTrackUidsToCombinedUid[e]){if(this.viewTrackUidsToCombinedUid[t])return this.viewTrackUidsToCombinedUid[e][t];this.viewTrackUidsToCombinedUid[e][t]=n}else this.viewTrackUidsToCombinedUid[e]={},this.viewTrackUidsToCombinedUid[e][t]=n;return n}return e}()},{key:"handleUnlockValueScale",value:function(){function e(e,t){if(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks){var n=(0,H.dictKeys)(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;this.handleUnlock(this.combineViewAndTrackUid(e,u),this.valueScaleLocks)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}else this.handleUnlock(this.combineViewAndTrackUid(e,t),this.valueScaleLocks)}return e}()},{key:"handleValueScaleLocked",value:function(){function e(e,t,n,r){var i=this;if(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks){var o=(0,H.dictKeys)(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks),a=!0,s=!1,u=void 0;try{for(var l,c=o[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value;this.handleValueScaleLocked(e,f,n,r)}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}else if(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks){var h=(0,H.dictKeys)(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks),d=!0,p=!1,v=void 0;try{for(var g,m=h[Symbol.iterator]();!(d=(g=m.next()).done);d=!0){var y=g.value;this.handleValueScaleLocked(e,t,n,y)}}catch(e){p=!0,v=e}finally{try{!d&&m.return&&m.return()}finally{if(p)throw v}}}else{var b=this.combineViewAndTrackUid(e,t),w=this.combineViewAndTrackUid(n,r);this.addLock(b,w,this.valueScaleLocks,function(e){return i.combinedUidToViewTrack[e]}),this.syncValueScales(e,t),this.setState({chooseTrackHandler:null})}}return e}()},{key:"addCallbacks",value:function(){function e(e,t){var n=this;if("viewport-projection-center"==t.type||"viewport-projection-horizontal"==t.type||"viewport-projection-vertical"==t.type){var r=t.fromViewUid;t.registerViewportChanged=function(e,t){return n.addScalesChangedListener(r,e,t)},t.removeViewportChanged=function(e){return n.removeScalesChangedListener(r,e)},t.setDomainsCallback=function(t,i){var o=(0,v.scaleLinear)().domain(t).range(n.xScales[r].range()),a=(0,v.scaleLinear)().domain(i).range(n.yScales[r].range()),s=(0,H.scalesCenterAndK)(o,a),l=u(s,3),c=l[0],f=l[1],h=l[2];n.setCenters[r](c,f,h,!1);var d=!1,p=!1;e in n.zoomLocks&&(d=r in n.zoomLocks[e]),d&&n.handleUnlock(e,n.zoomLocks),e in n.locationLocks&&(p=r in n.locationLocks[e]),p&&n.handleUnlock(e,n.locationLocks),n.handleScalesChanged(r,o,a,!0),d&&n.addLock(e,r,n.zoomLocks,n.viewScalesLockData),p&&n.addLock(e,r,n.locationLocks,n.viewScalesLockData)}}}return e}()},{key:"deserializeLocationLocks",value:function(){function e(e){if(this.locationLocks={},e.locationLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,H.dictKeys)(e.locationLocks.locksByViewUid)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.locationLocks[a]=e.locationLocks.locksDict[e.locationLocks.locksByViewUid[a]]}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}return e}()},{key:"deserializeZoomLocks",value:function(){function e(e){if(this.zoomLocks={},e.zoomLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,H.dictKeys)(e.zoomLocks.locksByViewUid)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.zoomLocks[a]=e.zoomLocks.locksDict[e.zoomLocks.locksByViewUid[a]]}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}return e}()},{key:"deserializeValueScaleLocks",value:function(){function e(e){if(e.valueScaleLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,H.dictKeys)(e.valueScaleLocks.locksByViewUid)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.valueScaleLocks[a]=e.valueScaleLocks.locksDict[e.valueScaleLocks.locksByViewUid[a]]}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}return e}()},{key:"serializeLocks",value:function(){function e(e){var t={},n={},r=!0,i=!1,o=void 0;try{for(var a,s=(0,H.dictKeys)(e)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=e[u]&&e[u].uid;l||(l=y.default.nice()),e[u].uid=l,t[l]=e[u],n[u]=e[u].uid}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return{locksByViewUid:n,locksDict:t}}return e}()},{key:"getViewsAsString",value:function(){function e(){var e=this,t=JSON.parse(JSON.stringify(this.props.viewConfig));return t.views=(0,H.dictItems)(this.state.views).map(function(t){var n=JSON.parse(JSON.stringify(t[1])),r=t[0],i=!0,o=!1,a=void 0;try{for(var s,u=(0,H.positionedTracksToAllTracks)(n.tracks)[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;if(l.server){var c=(0,P.default)(l.server,{});if(!c.hostname.length){var f=window.location.host,h=window.location.protocol,d=h+"//"+f+c.pathname;l.server=d}}"serverUidKey"in l&&delete l.serverUidKey,"uuid"in l&&delete l.uuid,"private"in l&&delete l.private,"maxZoom"in l&&delete l.maxZoom,"coordSystem"in l&&delete l.coordSystem,"coordSystem2"in l&&delete l.coordSystem2,"datatype"in l&&delete l.datatype,"maxWidth"in l&&delete l.maxWidth,"datafile"in l&&delete l.datafile,"filetype"in l&&delete l.filetype,"binsPerDimension"in l&&delete l.binsPerDimension}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return n.uid=r,n.initialXDomain=e.xScales[r].domain(),n.initialYDomain=e.yScales[r].domain(),n}),t.zoomLocks=this.serializeLocks(this.zoomLocks),t.locationLocks=this.serializeLocks(this.locationLocks),t.valueScaleLocks=this.serializeLocks(this.valueScaleLocks),JSON.stringify(t,null,2)}return e}()},{key:"handleExportViewAsJSON",value:function(){function e(){var e=this.getViewsAsString();new Blob([e],{type:"text/json"}),(0,H.download)("viewconf.json",e)}return e}()},{key:"handleExportViewsAsLink",value:function(){function e(){var e=this,t='{"viewconf":'+this.getViewsAsString()+"}";this.width=this.element.clientWidth,this.height=this.element.clientHeight,this.setState({exportLinkModalOpen:!0,exportLinkLocation:null}),(0,g.request)(this.props.viewConfig.exportViewUrl).header("X-Requested-With","XMLHttpRequest").header("Content-Type","application/json").post(t,function(t,n){if(n){var r=JSON.parse(n.response),i=""===window.location.port?"":":"+window.location.port;e.setState({exportLinkLocation:"http://"+window.location.hostname+i+"/app/?config="+r.uid})}else console.error("error:",t)})}return e}()},{key:"handleDataDomainChanged",value:function(){function e(e,t,n){var r=this.state.views;r[e].initialXDomain=t,r[e].initialYDomain=n,this.setState({views:r})}return e}()},{key:"viewPositionAvailable",value:function(){function e(e,t,n,r){var i=e+n,o=t+r;if(e+n>X)return!1;for(var a=(0,H.dictValues)(this.state.views),s=0;s<a.length;s++){var u=a[s].layout.x,l=a[s].layout.y,c=u+a[s].layout.w,f=l+a[s].layout.h;if(e<c&&i>u&&t<f&&o>l)return!1}return!0}return e}()},{key:"handleAddView",value:function(){function e(e){for(var t=this,n=(0,H.dictValues)(this.state.views),r=e,i=[],o=0;o<n.length;o++){var a=n[o].layout.x+n[o].layout.w,s=n[o].layout.y;this.viewPositionAvailable(a,s,e.layout.w,e.layout.h)&&i.push([a,s]),a=n[o].layout.x,s=n[o].layout.y+n[o].layout.h,this.viewPositionAvailable(a,s,e.layout.w,e.layout.h)&&i.push([a,s])}i.sort(function(e,t){var n=e[1]-t[1];return 0==n?e[0]-t[0]:n});var u=JSON.stringify(r),l=JSON.parse(u);l.layout.x=i[0][0],l.layout.y=i[0][1],l.uid=y.default.nice(),l.layout.i=l.uid,(0,H.positionedTracksToAllTracks)(l.tracks).forEach(function(e){return t.addCallbacks(l.uid,e)}),this.state.views[l.uid]=l,this.setState({views:this.state.views})}return e}()},{key:"addNameToTrack",value:function(){function e(e){var t={};return U.TRACKS_INFO.forEach(function(e){e.name&&(t[e.type]=e.name)}),e.type in t&&(e.name=t[e.type]),e}return e}()},{key:"addUidsToTracks",value:function(){function e(e){return e.forEach(function(e){e.uid||(e.uid=y.default.nice())}),e}return e}()},{key:"addNamesToTracks",value:function(){function e(e){var t=this;return e.forEach(function(e){e.name||t.addNameToTrack(e)}),e}return e}()},{key:"handleSelectedAssemblyChanged",value:function(){function e(e,t,n,r){var i=this.state.views;i[e].genomePositionSearchBox.chromInfoId=t,i[e].genomePositionSearchBox.autocompleteId=n,i[e].genomePositionSearchBox.autocompleteServer=r}return e}()},{key:"createGenomePostionSearchBoxEntry",value:function(){function e(e,t){var n=e,r={autocompleteServer:U.DEFAULT_SERVER,chromInfoServer:U.DEFAULT_SERVER,visible:!1};return n||(n=JSON.parse(JSON.stringify(r))),n.autocompleteServer||(n.autocompleteServer=r.autocompleteServer),n.chromInfoId||(n.chromInfoId=t),n.chromInfoServer||(n.chromInfoServer=r.chromInfoServer),n.visible||(n.visible=!1),n}return e}()},{key:"handleTogglePositionSearchBox",value:function(){function e(e){var t=this.state.views[e];t.genomePositionSearchBoxVisible=!t.genomePositionSearchBoxVisible;var n=(0,H.positionedTracksToAllTracks)(t.tracks),r={},i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;l.coordSystem&&(r[l.coordSystem]||(r[l.coordSystem]=0),r[l.coordSystem]+=1)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}var c=(0,H.dictItems)(r).sort(function(e,t){return t[1]-e[1]}),f="hg19";c.length&&(f=c[0][0]),t.genomePositionSearchBox=this.createGenomePostionSearchBoxEntry(t.genomePositionSearchBox,f),t.genomePositionSearchBox.visible=!t.genomePositionSearchBox.visible,this.refreshView(),this.setState({views:this.state.views,configMenuUid:null})}return e}()},{key:"handleTrackOptionsChanged",value:function(){function e(e,t,n){var r=this.state.views[e],i=(0,H.getTrackByUid)(r.tracks,t);i&&(i.options=Object.assign(i.options,n),this.mounted&&this.setState({views:this.state.views}))}return e}()},{key:"isTrackValid",value:function(){function e(e,t){return!("viewport-projection-center"==e.type&&!t.has(e.fromViewUid))}return e}()},{key:"removeInvalidTracks",value:function(){function e(e){var t=this,n=new Set((0,H.dictKeys)(e)),r=!0,i=!1,o=void 0;try{for(var a,s=(0,H.dictValues)(e)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)for(var u=a.value,l=["left","top","center","right","bottom"],c=0;c<l.length;c++){var f=l[c];u.tracks.hasOwnProperty(f)&&(u.tracks[f]=u.tracks[f].filter(function(e){return t.isTrackValid(e,n)}),u.tracks[f].forEach(function(e){"combined"==e.type&&(e.contents=e.contents.filter(function(e){return t.isTrackValid(e,n)}))}))}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return e}return e}()},{key:"processViewConfig",value:function(){function e(e){var t=this,n=e.views,r={};if(!e.views||0==e.views.length)throw"No views provided in viewConfig";return n.forEach(function(n){if(t.fillInMinWidths(n.tracks),n.uid||(n.uid=y.default.nice()),r[n.uid]=n,!n.initialXDomain)throw"No initialXDomain in provided viewconf";n.initialXDomain[0]=+n.initialXDomain[0],n.initialXDomain[1]=+n.initialXDomain[1],n.initialYDomain?(n.initialXDomain[0]=+n.initialXDomain[0],n.initialXDomain[1]=+n.initialXDomain[1]):n.initialYDomain=[n.initialXDomain[0],n.initialXDomain[1]],t.xScales[n.uid]||(t.xScales[n.uid]=(0,v.scaleLinear)().domain(n.initialXDomain)),t.yScales[n.uid]||(t.yScales[n.uid]=(0,v.scaleLinear)().domain(n.initialYDomain));var i=(0,H.positionedTracksToAllTracks)(n.tracks);t.deserializeZoomLocks(e),t.deserializeLocationLocks(e),t.deserializeValueScaleLocks(e),i=t.addUidsToTracks(i),i=t.addNamesToTracks(i),i.forEach(function(e){return t.addCallbacks(n.uid,e)}),n.layout&&(n.layout.i=n.uid),i.forEach(function(e){if(t.addDefaultOptions(e),e.contents){var n=!0,r=!1,i=void 0;try{for(var o,a=e.contents[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.addDefaultOptions(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}})}),r=this.removeInvalidTracks(r)}return e}()},{key:"handleWindowFocused",value:function(){function e(){}return e}()},{key:"offRangeSelection",value:function(){function e(e){this.rangeSelectionListener.splice(e,1)}return e}()},{key:"onRangeSelection",value:function(){function e(e){return this.rangeSelectionListener.push(e)-1}return e}()},{key:"rangeSelectionHandler",value:function(){function e(e){this.rangeSelection=e,this.rangeSelectionListener.forEach(function(t){return t(e)})}return e}()},{key:"offViewChange",value:function(){function e(e){this.viewChangeListener.splice(e,1)}return e}()},{key:"onViewChange",value:function(){function e(e){return this.viewChangeListener.push(e)-1}return e}()},{key:"triggerViewChange",value:function(){function e(){var e=this;this.viewChangeListener.forEach(function(t){return t(e.getViewsAsString())})}return e}()},{key:"getGenomeLocation",value:function(){function e(e){var t=this;return z.chromInfo.get(this.state.views[e].chromInfoPath).then(function(n){return(0,H.scalesToGenomeLoci)(t.xScales[e],t.yScales[e],n)})}return e}()},{key:"offLocationChange",value:function(){function e(e,t){this.removeScalesChangedListener(e,t)}return e}()},{key:"onLocationChange",value:function(){function e(e,t,n){var r=this;if(void 0===e||-1===Object.keys(this.state.views).indexOf(e))return void console.error(" listen to me: you forgot to give me a propper view ID. I can't do nothing without that. ");var i=this.state.views[e];if(!this.chromInfo)return void this.setChromInfo(i.chromInfoPath,function(){r.onLocationChange(e,t,n)});var o=function(){function e(e,n){t((0,H.scalesToGenomeLoci)(e,n,r.chromInfo))}return e}(),a=Object.keys(this.scalesChangedListeners[i.uid]).filter(function(e){return 0===e.indexOf(U.LOCATION_LISTENER_PREFIX)}).map(function(e){return parseInt(e.slice(U.LOCATION_LISTENER_PREFIX.length+1),10)}).reduce(function(e,t){return Math.max(e,t)},0)+1;this.addScalesChangedListener(i.uid,U.LOCATION_LISTENER_PREFIX+"."+a,o),n&&n(U.LOCATION_LISTENER_PREFIX+"."+a)}return e}()},{key:"setChromInfo",value:function(){function e(e,t){var n=this;(0,B.ChromosomeInfo)(e,function(e){n.chromInfo=e,t()})}return e}()},{key:"render",value:function(){function e(){var e=this,t=f.default.createElement("div",{ref:function(){function t(t){e.tiledAreaDiv=t}return t}(),className:"HiGlass-module_tiled-area-22H1L"});this.mounted&&(t=(0,H.dictValues)(this.state.views).map(function(t){var n=void 0!==t.zoomFixed?t.zoomFixed:e.props.zoomFixed,r=t.uid===e.state.addTrackPositionMenuUid?e.state.addTrackPositionMenuPosition:null,i=null;if(e.state.chooseViewHandler){var o="transparent";e.state.mouseOverOverlayUid===t.uid&&(o="green"),i=f.default.createElement("div",{className:"tiled-plot-overlay",onClick:function(){function n(){return e.state.chooseViewHandler(t.uid)}return n}(),onMouseEnter:function(){function n(){return e.handleOverlayMouseEnter(t.uid)}return n}(),onMouseLeave:function(){function n(){return e.handleOverlayMouseLeave(t.uid)}return n}(),onMouseMove:function(){function n(){return e.handleOverlayMouseEnter(t.uid)}return n}(),style:{position:"absolute",width:"100%",height:"100%",background:o,opacity:.3}})}var a=f.default.createElement(M.TiledPlot,{key:"tp"+t.uid,ref:function(){function n(n){e.tiledPlots[t.uid]=n}return n}(),addTrackPosition:e.state.addTrackPositionView===t.uid?e.state.addTrackPosition:null,addTrackPositionMenuPosition:r,canvasElement:e.state.canvasElement,chooseTrackHandler:e.state.chooseTrackHandler?function(n){return e.state.chooseTrackHandler(t.uid,n)}:null,chromInfoPath:t.chromInfoPath,editable:e.props.viewConfig.editable,horizontalMargin:e.horizontalMargin,initialXDomain:t.initialXDomain,initialYDomain:t.initialYDomain,mouseTool:e.state.mouseTool,onChangeTrackType:function(){function n(n,r){return e.handleChangeTrackType(t.uid,n,r)}return n}(),onCloseTrack:function(){function n(n){return e.handleCloseTrack(t.uid,n)}return n}(),onDataDomainChanged:function(){function n(n,r){return e.handleDataDomainChanged(t.uid,n,r)}return n}(),onLockValueScale:function(){function n(n){return e.handleLockValueScale(t.uid,n)}return n}(),onNewTilesLoaded:function(){function n(n){return e.handleNewTilesLoaded(t.uid,n)}return n}(),onNoTrackAdded:e.handleNoTrackAdded.bind(e),onRangeSelection:e.rangeSelectionHandler.bind(e),onScalesChanged:function(){function n(n,r){return e.handleScalesChanged(t.uid,n,r)}return n}(),onTrackOptionsChanged:function(){function n(n,r){return e.handleTrackOptionsChanged(t.uid,n,r)}return n}(),onTrackPositionChosen:e.handleTrackPositionChosen.bind(e),onTracksAdded:function(){function n(n,r,i){return e.handleTracksAdded(t.uid,n,r,i)}return n}(),onUnlockValueScale:function(){function n(n){return e.handleUnlockValueScale(t.uid,n)}return n}(),onValueScaleChanged:function(){function n(n){return e.syncValueScales(t.uid,n)}return n}(),pixiStage:e.pixiStage,registerDraggingChangedListener:function(){function n(n){e.addDraggingChangedListener(t.uid,t.uid,n)}return n}(),removeDraggingChangedListener:function(){function n(n){return e.removeDraggingChangedListener(t.uid,t.uid,n)}return n}(),setCentersFunction:function(){function n(n){e.setCenters[t.uid]=n}return n}(),svgElement:e.state.svgElement,trackSourceServers:e.props.viewConfig.trackSourceServers,tracks:t.tracks,uid:t.uid,verticalMargin:e.verticalMargin,zoomable:!n}),s=function(){function n(n,r){return t.genomePositionSearchBox?f.default.createElement(j.default,{key:"gpsb"+t.uid,ref:function(){function n(n){e.genomePositionSearchBoxes[t.uid]=n}return n}(),autocompleteId:t.genomePositionSearchBox.autocompleteId,autocompleteServer:t.genomePositionSearchBox.autocompleteServer,chromInfoId:t.genomePositionSearchBox.chromInfoId,chromInfoServer:t.genomePositionSearchBox.chromInfoServer,isFocused:n,onFocus:r,onSelectedAssemblyChanged:function(){function n(n,r,i){return e.handleSelectedAssemblyChanged(t.uid,n,r,i)}return n}(),registerViewportChangedListener:function(){function n(n){return e.addScalesChangedListener(t.uid,t.uid,n)}return n}(),removeViewportChangedListener:function(){function n(){return e.removeScalesChangedListener(t.uid,t.uid)}return n}(),setCenters:function(){function n(n,r,i,o,a){return e.setCenters[t.uid](n,r,i,!1,o,a)}return n}(),trackSourceServers:e.props.viewConfig.trackSourceServers,twoD:!0}):null}return n}(),u=e.props.viewConfig.editable&&!e.props.viewConfig.hideHeader?f.default.createElement(N.default,{ref:function(){function n(n){e.viewHeaders[t.uid]=n}return n}(),getGenomePositionSearchBox:s,isGenomePositionSearchBoxVisible:t.genomePositionSearchBox&&t.genomePositionSearchBox.visible,onAddView:function(){function n(){return e.handleAddView(t)}return n}(),onClearView:function(){function n(){return e.handleClearView(t.uid)}return n}(),onCloseView:function(){function n(){return e.handleCloseView(t.uid)}return n}(),onExportSVG:e.handleExportSVG.bind(e),onExportViewsAsJSON:e.handleExportViewAsJSON.bind(e),onExportViewsAsLink:e.handleExportViewsAsLink.bind(e),onLockLocation:function(){function t(t){return e.handleYankFunction(t,e.handleLocationLockChosen.bind(e))}return t}(),onLockZoom:function(){function t(t){return e.handleYankFunction(t,e.handleZoomLockChosen.bind(e))}return t}(),onLockZoomAndLocation:function(){function t(t){return e.handleYankFunction(t,function(t,n){e.handleZoomLockChosen(t,n),e.handleLocationLockChosen(t,n)})}return t}(),onProjectViewport:e.handleProjectViewport.bind(e),onTakeAndLockZoomAndLocation:function(){function t(t){e.handleYankFunction(t,function(t,n){e.handleZoomYanked(t,n),e.handleLocationYanked(t,n),e.handleZoomLockChosen(t,n),e.handleLocationLockChosen(t,n)})}return t}(),onTogglePositionSearchBox:e.handleTogglePositionSearchBox.bind(e),onTrackPositionChosen:function(){function n(n){return e.handleTrackPositionChosen(t.uid,n)}return n}(),onUnlockLocation:function(){function t(t){return e.handleUnlock(t,e.locationLocks)}return t}(),onUnlockZoom:function(){function t(t){return e.handleUnlock(t,e.zoomLocks)}return t}(),onUnlockZoomAndLocation:function(){function t(t){e.handleUnlock(t,e.zoomLocks),e.handleUnlock(t,e.locationLocks)}return t}(),onYankLocation:function(){function t(t){return e.handleYankFunction(t,e.handleLocationYanked.bind(e))}return t}(),onYankZoom:function(){function t(t){return e.handleYankFunction(t,e.handleZoomYanked.bind(e))}return t}(),onYankZoomAndLocation:function(){function t(t){return e.handleYankFunction(t,function(t,n){e.handleZoomYanked(t,n),e.handleLocationYanked(t,n)})}return t}(),onZoomToData:function(){function t(t){return e.handleZoomToData(t)}return t}(),viewUid:t.uid}):null;return f.default.createElement("div",{key:t.uid,ref:function(){function t(t){e.tiledAreaDiv=t}return t}(),className:"HiGlass-module_tiled-area-22H1L"},u,a,i)}));var n=this.state.exportLinkModalOpen?f.default.createElement(R.ExportLinkModal,{height:this.height,linkLocation:this.state.exportLinkLocation,onDone:function(){function t(){return e.setState({exportLinkModalOpen:!1})}return t}(),width:this.width}):null,r=this.mounted?(0,H.dictValues)(this.state.views).filter(function(e){return e.layout}).map(function(e){return e.layout}):[];r=JSON.parse(JSON.stringify(r));var i=f.default.createElement(_.default,{ref:function(){function t(t){e.gridLayout=t}return t}(),cols:12,width:this.state.width,draggableHandle:"."+G.default["multitrack-header-grabber"],isDraggable:this.props.viewConfig.editable,isResizable:this.props.viewConfig.editable,layout:r,margin:this.props.viewConfig.editable?[10,10]:[0,0],measureBeforeMount:!1,onBreakpointChange:this.onBreakpointChange.bind(this),onDragStart:this.handleDragStart.bind(this),onDragStop:this.handleDragStop.bind(this),onLayoutChange:this.handleLayoutChange.bind(this),onResize:this.resizeHandler.bind(this),rowHeight:this.state.rowHeight,useCSSTransforms:this.mounted},t);return f.default.createElement("div",{key:this.uid,ref:function(){function t(t){e.topDiv=t}return t}(),className:"higlass HiGlass-module_higlass-1NHR2"},f.default.createElement("canvas",{key:this.uid,ref:function(){function t(t){e.canvasElement=t}return t}(),className:"HiGlass-module_higlass-canvas-_mP9r"}),f.default.createElement("div",{ref:function(){function t(t){e.divDrawingSurface=t}return t}(),className:"HiGlass-module_higlass-drawing-surface-3aQQo"}),i,f.default.createElement("svg",{ref:function(){function t(t){e.svgElement=t}return t}(),className:"HiGlass-module_higlass-svg-JJZbf"}),n)}return e}()}]),t}(f.default.Component);$.defaultProps={getApi:null,options:{},zoomFixed:!1},$.propTypes={getApi:d.default.func,options:d.default.object,viewConfig:d.default.object.isRequired,zoomFixed:d.default.bool},t.default=$},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,
writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ListWrapper=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),c=r(l),f=n(0),h=r(f),d=n(49),p=t.ListWrapper=function(e){function t(e){var n=e.items;i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.state={items:n,isSorting:!1},r}return a(t,e),u(t,[{key:"componentWillReceiveProps",value:function(){function e(e){this.setState({items:e.items})}return e}()},{key:"onSortStart",value:function(){function e(e,t){var n=(e.node,e.index);e.collection,t.stopImmediatePropagation();var r=this.props.onSortStart;this.setState({isSorting:!0}),r&&r(this.ref),this.sortingIndex=n,this.sortStartTop=t.offsetTop,this.sortStartLeft=t.offsetLeft}return e}()},{key:"onSortMove",value:function(){function e(){}return e}()},{key:"onSortEnd",value:function(){function e(e){var t=e.oldIndex,n=e.newIndex,r=this.props.onSortEnd,i=this.state.items;this.setState({items:(0,d.arrayMove)(i,t,n),isSorting:!1}),r&&r(this.state.items),this.sortingIndex=null}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.props.component,n=this.state,r=n.items,i=n.isSorting,o={isSorting:i,items:r,onSortEnd:this.onSortEnd.bind(this),onSortStart:this.onSortStart.bind(this),onSortMove:this.onSortMove.bind(this)};return h.default.createElement(t,s({},this.props,o,{ref:function(){function t(t){return e.ref=t}return t}()}))}return e}()}]),t}(h.default.Component);p.propTypes={axis:c.default.string,className:c.default.string,component:c.default.func,editable:c.default.bool,handleConfigTrack:c.default.func,handleResizeTrack:c.default.func,height:c.default.number,helperClass:c.default.string,itemClass:c.default.string,itemControlAlignLeft:c.default.bool,itemReactClass:c.default.func,items:c.default.array,onAddSeries:c.default.func,onCloseTrack:c.default.func,onCloseTrackMenuOpened:c.default.func,onConfigTrackMenuOpened:c.default.func,onSortEnd:c.default.func,onSortStart:c.default.func,referenceAncestor:c.default.string,resizeHandles:c.default.object,useDragHandle:c.default.bool,width:c.default.number},p.defaultProps={className:"list stylizedList",itemClass:"item stylizedItem",width:400,height:600},t.default=p},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MoveableTrack=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),l=r(u),c=n(0),f=r(c),h=n(263),d=r(h),p=n(288),v=r(p),g=t.MoveableTrack=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.moveable=!0,n}return a(t,e),s(t,[{key:"render",value:function(){function e(){var e=this;return f.default.createElement("div",{className:this.props.className,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),style:{height:this.props.height,width:this.props.width}},f.default.createElement(d.default,{height:this.props.height,key:this.props.uid,resizeHandles:this.props.editable?this.props.resizeHandles:new Set,sizeChanged:function(){function t(t){return e.props.handleResizeTrack(e.props.uid,t.width,t.height)}return t}(),style:{background:"transparent"},uid:this.props.uid,width:this.props.width}),this.props.editable&&f.default.createElement("div",null,this.getControls(this.state.controlsVisible||this.props.item.configMenuVisible)))}return e}()}]),t}(v.default);g.propTypes={className:l.default.string,uid:l.default.string,item:l.default.object,height:l.default.number,width:l.default.number},t.default=g},function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.OSMTilesTrack=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),l=n(9),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=n(10),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),d=n(26),p=n(7),v=n(3),g=n(6),m=t.OSMTilesTrack=function(e){function t(e,n,r){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));a.visibleTiles=new Set,a.visibleTileIds=new Set,a.fetching=new Set,a.fetchedTiles={},a.tileGraphics={};var s=0,u=312e7;return a.options&&a.options.minPos&&(s=+a.options.minPos),a.options&&a.options.maxPos&&(u=+a.options.maxPos),a.minPos=[s,s],a.maxPos=[u,u],a.maxZoom=19,a.maxWidth=u,a.animate=r,a.uuid=c.default.nice(),a.refreshTilesDebounced=(0,v.debounce)(a.refreshTiles.bind(a),g.ZOOM_DEBOUNCE),a}return a(t,e),s(t,[{key:"rerender",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rerender",this).call(this,e),this.tilesetInfo}return e}()},{key:"visibleAndFetchedIds",value:function(){function e(){var e=this;return Object.keys(this.fetchedTiles).filter(function(t){return e.visibleTileIds.has(t)})}return e}()},{key:"visibleAndFetchedTiles",value:function(){function e(){var e=this;return this.visibleAndFetchedIds().map(function(t){return e.fetchedTiles[t]})}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map(function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e),mirrored:e.mirrored}}),this.visibleTileIds=new Set(this.visibleTiles.map(function(e){return e.tileId}))}return e}()},{key:"removeAllTiles",value:function(){function e(){var e=new Set(Object.keys(this.fetchedTiles));this.removeTiles([].concat(r(e)))}return e}()},{key:"refreshTiles",value:function(){function e(){var e=this;this.calculateVisibleTiles();for(var t=new Set(Object.keys(this.fetchedTiles)),n=[].concat(r(this.visibleTiles)).filter(function(n){return!e.fetching.has(n.remoteId)&&!t.has(n.tileId)}),i=0;i<n.length;i++)this.fetching.add(n[i].remoteId);var o=[].concat(r(t)).filter(function(t){return!e.visibleTileIds.has(t)});this.removeTiles(o),this.fetchNewTiles(n)}return e}()},{key:"removeTiles",value:function(){function e(e){var t=this;e.length&&this.areAllVisibleTilesLoaded()&&(e.forEach(function(e){var n=e;t.destroyTile(t.fetchedTiles[n]),n in t.tileGraphics&&(t.pMain.removeChild(t.tileGraphics[n]),delete t.tileGraphics[n]),delete t.fetchedTiles[n]}),this.synchronizeTilesAndGraphics(),this.draw())}return e}()},{key:"tileToLocalId",value:function(){function e(e){return e.join(".")}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return e.join(".")}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=p.tileProxy.calculateZoomLevel(this._xScale,this.minPos[0],this.maxPos[0]),t=p.tileProxy.calculateZoomLevel(this._xScale,this.minPos[1],this.maxPos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0],this.zoomLevel=this.calculateZoomLevel(),this.xTiles=p.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.minPos[0],this.maxPos[0],this.maxZoom,this.maxWidth),this.yTiles=p.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.minPos[1],this.maxPos[1],this.maxZoom,this.maxWidth);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,o){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n),this.xScale(e),this.yScale(n),this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=r,this.pMain.scale.y=r,this.refreshTilesDebounced()}return e}()},{key:"setPosition",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e)}return e}()},{key:"setDimensions",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDimensions",this).call(this,e)}return e}()},{key:"areAllVisibleTilesLoaded",value:function(){function e(){for(var e=new Set(Object.keys(this.fetchedTiles)),t=[].concat(r(this.visibleTileIds)),n=0;n<t.length;n++)if(!e.has(t[n]))return!1;return!0}return e}()},{key:"allTilesLoaded",value:function(){function e(){}return e}()},{key:"minValue",value:function(){function e(e){if(!e)return this.scale.minValue;this.scale.minValue=e}return e}()},{key:"maxValue",value:function(){function e(e){if(!e)return this.scale.maxValue;this.scale.maxValue=e}return e}()},{key:"minRawValue",value:function(){function e(){return this.scale.minRawValue}return e}()},{key:"maxRawValue",value:function(){function e(){return this.scale.maxRawValue}return e}()},{key:"getTilePosAndDimensions",value:function(){function e(e,t){var n=t[0],r=t[1],i=this.maxPos[0]-this.minPos[0],o=this.maxPos[0]-this.minPos[0],a=i/Math.pow(2,e),s=o/Math.pow(2,e);return{tileX:0+n*a,tileY:0+r*s,tileWidth:a,tileHeight:s}}return e}()},{key:"setSpriteProperties",value:function(){function e(e,t,n){var r=this.getTilePosAndDimensions(t,n),i=r.tileX,o=r.tileY,a=r.tileWidth,s=r.tileHeight;e.x=this._refXScale(i),e.y=this._refYScale(o);var u=i+a,l=o+s;this._refXScale(u),this._refXScale(i),this._refYScale(l),this._refYScale(o),e.width=this._refXScale(u)-this._refXScale(i),e.height=this._refYScale(l)-this._refYScale(o)}return e}()},{key:"initTile",value:function(){function e(e){var t=new h.Texture(new h.BaseTexture(e.tileData.img)),n=new h.Sprite(t),r=e.graphics;e.tileId.split(".").map(function(e){return+e}),e.sprite=n,this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos),r.removeChildren(),r.addChild(e.sprite)}return e}()},{key:"updateTile",value:function(){function e(e){}return e}()},{key:"destroyTile",value:function(){function e(e){}return e}()},{key:"addMissingGraphics",value:function(){function e(){for(var e=Object.keys(this.fetchedTiles),t=0;t<e.length;t++)if(!(e[t]in this.tileGraphics)){var n=new h.Graphics;this.pMain.addChild(n),this.fetchedTiles[e[t]].graphics=n,this.initTile(this.fetchedTiles[e[t]]),this.tileGraphics[e[t]]=n}}return e}()},{key:"updateExistingGraphics",value:function(){function e(){for(var e=Object.keys(this.fetchedTiles),t=0;t<e.length;t++)this.updateTile(this.fetchedTiles[e[t]])}return e}()},{key:"synchronizeTilesAndGraphics",value:function(){function e(){this.addMissingGraphics(),this.updateExistingGraphics()}return e}()},{key:"loadTileData",value:function(){function e(e,t){var n=this.lruCache.get(e.tileId);return n||(n=t(e.data,e.type),this.lruCache.put(e.tileId,n)),n}return e}()},{key:"getTileUrl",value:function(){function e(e){var t=["a","b","c"];return"http://"+t[Math.floor(Math.random()*t.length)]+".tile.openstreetmap.org/"+e[0]+"/"+e[1]+"/"+e[2]+".png"}return e}()},{key:"fetchNewTiles",value:function(){function e(e){var t=this;if(e.length>0){var n=[].concat(r(new Set(e.map(function(e){return e.remoteId})))),i=!0,o=!1,a=void 0;try{for(var s,u=function(){function e(){var e=s.value,n=e.split("."),r=t.getTileUrl(n),i=new Image;i.crossOrigin="Anonymous",i.src=r,i.onload=function(){var o={};o[e]={tileId:e,img:i,zoomLevel:+n[0],tilePos:[+n[1],+n[2]],tileSrc:r},t.receivedTiles(o)}}return e}(),l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)u()}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}}return e}()},{key:"receivedTiles",value:function(){function e(e){for(var t=0;t<this.visibleTiles.length;t++){var n=this.visibleTiles[t].tileId;e[this.visibleTiles[t].remoteId]&&this.visibleTiles[t].remoteId in e&&(n in this.fetchedTiles||(this.fetchedTiles[n]=this.visibleTiles[t]),this.fetchedTiles[n].tileData=e[this.visibleTiles[t].remoteId])}for(var r in e)e[r]&&this.fetching.has(r)&&this.fetching.delete(r);this.synchronizeTilesAndGraphics(),this.refreshTiles(),this.draw(),this.animate()}return e}()},{key:"draw",value:function(){function e(){if(!this.delayDrawing){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this);for(var e in this.fetchedTiles)this.drawTile(this.fetchedTiles[e])}}return e}()},{key:"drawTile",value:function(){function e(e,t){}return e}()},{key:"refScalesChanged",value:function(){function e(e,n){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refScalesChanged",this).call(this,e,n);for(var r in this.fetchedTiles){var i=this.fetchedTiles[r];i.sprite&&this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos)}}return e}()}]),t}(d.PixiTrack);t.default=m},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(14),l=n(0),c=r(l),f=n(1),h=r(f),d=n(240),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=(0,u.rgb)(e.color);return n.state={displayColorPicker:!1,color:{r:r.r,g:r.g,b:r.b,a:r.opacity}},n}return a(t,e),s(t,[{key:"handleClick",value:function(){function e(){this.setState({displayColorPicker:!this.state.displayColorPicker})}return e}()},{key:"handleClose",value:function(){function e(){this.setState({displayColorPicker:!1})}return e}()},{key:"handleChange",value:function(){function e(e){var t=e.rgb,n="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";this.props.onChange(n),this.setState({color:e.rgb})}return e}()},{key:"render",value:function(){function e(){var e=(0,h.default)({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"rgba("+this.state.color.r+", "+this.state.color.g+", "+this.state.color.b+", "+this.state.color.a+")"},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return c.default.createElement("div",null,c.default.createElement("div",{style:e.swatch,onClick:this.handleClick.bind(this)},c.default.createElement("div",{style:e.color})),this.state.displayColorPicker?c.default.createElement("div",{style:e.popover},c.default.createElement("div",{style:e.cover,onClick:this.handleClose.bind(this)}),c.default.createElement(d.SketchPicker,{color:this.state.color,onChange:this.handleChange.bind(this)})):null)}return e}()}]),t}(c.default.Component);t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SortableList=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(49),s=t.SortableList=(0,a.SortableContainer)(function(e){var t=e.className,n=e.items,i=e.itemClass,a=e.itemControlAlignLeft,s=e.sortingIndex,u=e.useDragHandle,l=e.sortableHandlers,c=e.height,f=e.width,h=e.onCloseTrack,d=e.onCloseTrackMenuOpened,p=e.onConfigTrackMenuOpened,v=e.onAddSeries,g=e.handleConfigTrack,m=e.editable,y=e.itemReactClass,b=e.handleResizeTrack,w=e.resizeHandles,x=n.map(function(e,t){return o.default.createElement(y,{key:"sci-"+e.uid,className:i,controlAlignLeft:a,sortingIndex:s,index:t,uid:e.uid,height:e.height,width:e.width,item:e,useDragHandle:u,onCloseTrack:h,onCloseTrackMenuOpened:d,onConfigTrackMenuOpened:p,onAddSeries:v,handleConfigTrack:g,editable:m,handleResizeTrack:b,resizeHandles:w})});return o.default.createElement("div",r({className:t,style:{height:c,width:f,background:"transparent"}},l),x)});t.default=s},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Tiled1DPixiTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),u=n(43),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(7),f=t.Tiled1DPixiTrack=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"initTile",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initTile",this).call(this,e)}return e}()},{key:"tileToLocalId",value:function(){function e(e){return""+e.join(".")}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return""+e.join(".")}return e}()},{key:"relevantScale",value:function(){function e(){return null}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map(function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}}),this.visibleTileIds=new Set(this.visibleTiles.map(function(e){return e.tileId}))}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){var e=this;if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var t=c.tileProxy.calculateTiles(this.zoomLevel,this.relevantScale(),this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),n=t.map(function(t){return[e.zoomLevel,t]});this.setVisibleTiles(n)}}return e}()},{key:"getTilePosAndDimensions",value:function(){function e(e,t){var n=t[0],r=t[0],i=this.tilesetInfo.max_width,o=this.tilesetInfo.max_width,a=this.tilesetInfo.min_pos[0],s=this.tilesetInfo.min_pos[1],u=i/Math.pow(2,e),l=o/Math.pow(2,e);return{tileX:a+n*u,tileY:s+r*l,tileWidth:u,tileHeight:l}}return e}()},{key:"updateTile",value:function(){function e(e){}return e}()}]),t}(l.default);t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.svgArrowheadDomainsIcon=t.svgVertical1DTilesIcon=t.svg1DTilesIcon=t.svgVerticalGeneAnnotationsIcon=t.svgGeneAnnotationsIcon=t.svgVertical1DAxisIcon=t.svg1DAxisIcon=t.svg2DHeatmapIcon=t.svg2DTilesIcon=t.svgVerticalLineIcon=t.svgHorizontalLineIcon=t.all=t.TRACK_LINE=t.CONTENT_COPY=t.PLUS=t.PLAY=t.MOVE=t.MINUS=t.ENLARGE=t.CROSS=t.COG=void 0;var r=n(4),i=t.COG={id:"cog",paths:["M466.895 305.125c-26.863-46.527-10.708-106.152 36.076-133.244l-50.313-87.146c-14.375 8.427-31.088 13.259-48.923 13.259-53.768 0-97.354-43.873-97.354-97.995h-100.629c0.133 16.705-4.037 33.641-12.979 49.126-26.862 46.528-86.578 62.351-133.431 35.379l-50.312 87.146c14.485 8.236 27.025 20.294 35.943 35.739 26.819 46.454 10.756 105.96-35.854 133.112l50.313 87.146c14.325-8.348 30.958-13.127 48.7-13.127 53.598 0 97.072 43.596 97.35 97.479h100.627c-0.043-16.537 4.136-33.285 12.983-48.609 26.818-46.453 86.388-62.297 133.207-35.506l50.313-87.145c-14.39-8.233-26.846-20.249-35.717-35.614zM256 359.666c-57.254 0-103.668-46.412-103.668-103.667 0-57.254 46.413-103.667 103.668-103.667s103.666 46.413 103.666 103.667c-0.001 57.255-46.412 103.667-103.666 103.667z"],viewBox:"0 0 512 512"},o=t.CROSS={id:"cross",paths:["M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"],viewBox:"0 0 512 512"},a=t.ENLARGE={id:"enlarge",paths:["M512 0h-208l80 80-96 96 48 48 96-96 80 80z","M512 512v-208l-80 80-96-96-48 48 96 96-80 80z","M0 512h208l-80-80 96-96-48-48-96 96-80-80z","M0 0v208l80-80 96 96 48-48-96-96 80-80z"],viewBox:"0 0 512 512"},s=t.MINUS={id:"minus",paths:["M0 208v96c0 8.836 7.164 16 16 16h480c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16h-480c-8.836 0-16 7.164-16 16z"],viewBox:"0 0 512 512"},u=t.MOVE={id:"move",paths:["M512,260.096L405.5,161.79v49.155H301.061v-104.45h49.149L251.904,0L160.77,106.495h49.15v104.45H106.495V161.79L0,260.096l106.495,91.135v-49.149h104.45v104.45H161.79L251.904,512l98.306-106.5h-49.149V301.061H405.5v49.149L512,260.096z"],viewBox:"0 0 512 512"},l=t.PLAY={id:"play",paths:["M96 64l320 192-320 192z"],viewBox:"0 0 512 512"},c=t.PLUS={id:"plus",paths:["M496 192h-176v-176c0-8.836-7.164-16-16-16h-96c-8.836 0-16 7.164-16 16v176h-176c-8.836 0-16 7.164-16 16v96c0 8.836 7.164 16 16 16h176v176c0 8.836 7.164 16 16 16h96c8.836 0 16-7.164 16-16v-176h176c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16z"],viewBox:"0 0 512 512"},f=t.CONTENT_COPY={id:"copy",paths:["M607.5 672v-448.5h-351v448.5h351zM607.5 160.5c34.5 0 64.5 28.5 64.5 63v448.5c0 34.5-30 64.5-64.5 64.5h-351c-34.5 0-64.5-30-64.5-64.5v-448.5c0-34.5 30-63 64.5-63h351zM511.5 31.5v64.5h-384v448.5h-63v-448.5c0-34.5 28.5-64.5 63-64.5h384z"],viewBox:"0 0 712 712"},h=(t.TRACK_LINE={id:"trackLine",paths:["M60 20 L50 52 L40 26 L34 46 L24 30 L14 50 L4 12"],viewBox:"0 0 60 60"},t.all=[i,o,a,s,u,l,c,f],new DOMParser),d='\n<svg width="20px" height="20px" viewBox="0 0 135 85" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>line</title>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#4990E2" stroke-width="8" points="2 45.5625 20.7460938 6.3359375 36.828125 86.6484375 59.8945312 17.5742188 79.0390625 70.703125 99.9335938 27 112.769531 81.1601562 132.078125 3"></polyline>\n    </g>\n</svg>\n',p=(t.svgHorizontalLineIcon=h.parseFromString(d,"text/xml").documentElement,t.svgVerticalLineIcon=(0,r.select)(h.parseFromString(d,"text/xml").documentElement).style("transform","rotate(90deg)").node(),t.svg2DTilesIcon=h.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles2DIconStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-3" x="0" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-3"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-5" x="30" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-5"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-7" x="30" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-8" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-7"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-2)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-4)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-6)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-5"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-8)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-7"></use>\n    </g>\n</svg>\n',"text/xml").documentElement,t.svg2DHeatmapIcon=h.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 90 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-heatmap</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="heatmap2DStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-2" x="30" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-3" x="60" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-4" x="0" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-5" x="30" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-6" x="60" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-7" x="0" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-8" x="30" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-9" x="60" y="60" width="30" height="30"></rect>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" fill="#858372" xlink:href="#heatmap2DStr-path-1"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-2"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-3"></use>\n        <use id="Rectangle" fill="#BCBD9E" xlink:href="#heatmap2DStr-path-4"></use>\n        <use id="Rectangle" fill="#817C7C" xlink:href="#heatmap2DStr-path-5"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-6"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-7"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-8"></use>\n        <use id="Rectangle" fill="#7B7777" xlink:href="#heatmap2DStr-path-9"></use>\n    </g>\n</svg>\n',"text/xml").documentElement,'\n<svg width="20px" height="20px" viewBox="0 0 77 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>axis-1d</title>\n    <desc>Created with Sketch.</desc>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#979797" stroke-width="8" transform="translate(38.258485, 27.557860) scale(1, -1) translate(-38.258485, -27.557860) " points="4 27.05786 36.7512307 27.05786 72.5169695 27.05786"></polyline>\n        <path d="M38,24.484375 L38,3" id="Path-2" stroke="#979797" stroke-width="4"></path>\n    </g>\n</svg>\n'),v=(t.svg1DAxisIcon=h.parseFromString(p,"text/xml").documentElement,t.svgVertical1DAxisIcon=(0,r.select)(h.parseFromString(p,"text/xml").documentElement).style("transform","rotate(90deg)").node(),
'\n<svg width="20px" height="20px" viewBox="0 0 171 116" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>gene-annotations</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="geneAnnotations-path-1" x="34" y="0" width="24" height="116"></rect>\n        <mask id="geneAnnotations-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-1"></use>\n        </mask>\n        <rect id="geneAnnotations-path-3" x="80" y="0" width="56" height="116"></rect>\n        <mask id="geneAnnotations-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="56" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-3"></use>\n        </mask>\n        <rect id="geneAnnotations-path-5" x="147" y="40" width="24" height="35"></rect>\n        <mask id="geneAnnotations-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="35" fill="white">\n            <use xlink:href="#geneAnnotations-path-5"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M12.71875,58 L147.10172,58" id="Path" stroke="#979797" stroke-width="8"></path>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-2)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-4)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-6)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-5"></use>\n        <polygon id="Triangle" stroke="#979797" fill="#D8D8D8" points="25 57.5 1 75 1 40"></polygon>\n    </g>\n</svg>\n'),g=(t.svgGeneAnnotationsIcon=h.parseFromString(v,"text/xml").documentElement,t.svgVerticalGeneAnnotationsIcon=(0,r.select)(h.parseFromString(v,"text/xml").documentElement).style("transform","rotate(90deg)").node(),'\n<svg width="20px" height="20px" viewBox="0 0 180 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>1d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles1DIconStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles1DIconStr-path-3" x="90" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-2)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-4)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-3"></use>\n    </g>\n</svg>\n');t.svg1DTilesIcon=h.parseFromString(g,"text/xml").documentElement,t.svgVertical1DTilesIcon=(0,r.select)(h.parseFromString(g,"text/xml").documentElement).style("transform","rotate(90deg)").node(),t.svgArrowheadDomainsIcon=h.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 111 111" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>arrowhead-domains</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="arrowHeadDomainsStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="arrowHeadDomainsStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        </mask>\n        <rect id="arrowHeadDomainsStr-path-3" x="52" y="52" width="59" height="59"></rect>\n        <mask id="arrowHeadDomainsStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="59" height="59" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0">\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-2)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-4)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-3"></use>\n    </g>\n</svg>\n',"text/xml").documentElement},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e,t,n){var i=(0,r.absToChr)(e,n),o=(0,r.absToChr)(t,n);return[i[0],Math.round(i[1]),o[0],Math.round(o[1])]}return e}();t.default=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e,r=[],i=function(){function e(e){n[e].forEach(function(n){"combined"==n.type&&t&&n.contents.forEach(function(t){r.push(Object.assign(t,{position:e}))}),r.push(Object.assign(n,{position:e}))})}return e}();for(var o in n)i(o);return r}return e}();t.default=n},function(e,t,n){"use strict";function r(e,t){var n="abcdef".split("").concat(t),r=[];return e.indexOf("lo")>=0&&r.push("lo=e[k+n]"),e.indexOf("hi")>=0&&r.push("hi=e[k+o]"),n.push(i.replace("_",r.join()).replace("$",e)),Function.apply(void 0,n)}e.exports=r;var i="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},function(e,t,n){"use strict";function r(e){var t=f.nextPow2(e);p.length<t&&(c.free(p),p=c.mallocInt32(t)),v.length<t&&(c.free(v),v=c.mallocInt32(t)),g.length<t&&(c.free(g),g=c.mallocInt32(t)),m.length<t&&(c.free(m),m=c.mallocInt32(t)),y.length<t&&(c.free(y),y=c.mallocInt32(t)),b.length<t&&(c.free(b),b=c.mallocInt32(t));var n=8*t;w.length<n&&(c.free(w),w=c.mallocDouble(n))}function i(e,t,n,r){var i=t[r],o=e[n-1];e[i]=o,t[o]=i}function o(e,t,n,r){e[n]=r,t[r]=n}function a(e,t,n,r,a,s,u,l,c,f){for(var y=0,b=2*e,x=e-1,_=b-1,k=n;k<r;++k){var S=s[k],O=b*k;w[y++]=a[O+x],w[y++]=-(S+1),w[y++]=a[O+_],w[y++]=S}for(var k=u;k<l;++k){var S=f[k]+d,T=b*k;w[y++]=c[T+x],w[y++]=-S,w[y++]=c[T+_],w[y++]=S}var C=y>>>1;h(w,C);for(var E=0,P=0,k=0;k<C;++k){var M=0|w[2*k+1];if(M>=d)M=M-d|0,i(g,m,P--,M);else if(M>=0)i(p,v,E--,M);else if(M<=-d){M=-M-d|0;for(var A=0;A<E;++A){var j=t(p[A],M);if(void 0!==j)return j}o(g,m,P++,M)}else{M=-M-1|0;for(var A=0;A<P;++A){var j=t(M,g[A]);if(void 0!==j)return j}o(p,v,E++,M)}}}function s(e,t,n,r,a,s,u,l,c,f){for(var d=0,x=2*e,_=e-1,k=x-1,S=n;S<r;++S){var O=s[S]+1<<1,T=x*S;w[d++]=a[T+_],w[d++]=-O,w[d++]=a[T+k],w[d++]=O}for(var S=u;S<l;++S){var O=f[S]+1<<1,C=x*S;w[d++]=c[C+_],w[d++]=1|-O,w[d++]=c[C+k],w[d++]=1|O}var E=d>>>1;h(w,E);for(var P=0,M=0,A=0,S=0;S<E;++S){var j=0|w[2*S+1],R=1&j;if(S<E-1&&j>>1==w[2*S+3]>>1&&(R=2,S+=1),j<0){for(var I=-(j>>1)-1,L=0;L<A;++L){var D=t(y[L],I);if(void 0!==D)return D}if(0!==R)for(var L=0;L<P;++L){var D=t(p[L],I);if(void 0!==D)return D}if(1!==R)for(var L=0;L<M;++L){var D=t(g[L],I);if(void 0!==D)return D}0===R?o(p,v,P++,I):1===R?o(g,m,M++,I):2===R&&o(y,b,A++,I)}else{var I=(j>>1)-1;0===R?i(p,v,P--,I):1===R?i(g,m,M--,I):2===R&&i(y,b,A--,I)}}}function u(e,t,n,r,a,s,u,l,c,f,g,m){var y=0,b=2*e,x=t,_=t+e,k=1,S=1;r?S=d:k=d;for(var O=a;O<s;++O){var T=O+k,C=b*O;w[y++]=u[C+x],w[y++]=-T,w[y++]=u[C+_],w[y++]=T}for(var O=c;O<f;++O){var T=O+S,E=b*O;w[y++]=g[E+x],w[y++]=-T}var P=y>>>1;h(w,P);for(var M=0,O=0;O<P;++O){var A=0|w[2*O+1];if(A<0){var T=-A,j=!1;if(T>=d?(j=!r,T-=d):(j=!!r,T-=1),j)o(p,v,M++,T);else{var R=m[T],I=b*T,L=g[I+t+1],D=g[I+t+1+e];e:for(var N=0;N<M;++N){var B=p[N],F=b*B;if(!(D<u[F+t+1]||u[F+t+1+e]<L)){for(var V=t+2;V<e;++V)if(g[I+V+e]<u[F+V]||u[F+V+e]<g[I+V])continue e;var z,H=l[B];if(void 0!==(z=r?n(R,H):n(H,R)))return z}}}}else i(p,v,M--,A-k)}}function l(e,t,n,r,i,o,a,s,u,l,c){for(var f=0,v=2*e,g=t,m=t+e,y=r;y<i;++y){var b=y+d,x=v*y;w[f++]=o[x+g],w[f++]=-b,w[f++]=o[x+m],w[f++]=b}for(var y=s;y<u;++y){var b=y+1,_=v*y;w[f++]=l[_+g],w[f++]=-b}var k=f>>>1;h(w,k);for(var S=0,y=0;y<k;++y){var O=0|w[2*y+1];if(O<0){var b=-O;if(b>=d)p[S++]=b-d;else{b-=1;var T=c[b],C=v*b,E=l[C+t+1],P=l[C+t+1+e];e:for(var M=0;M<S;++M){var A=p[M],j=a[A];if(j===T)break;var R=v*A;if(!(P<o[R+t+1]||o[R+t+1+e]<E)){for(var I=t+2;I<e;++I)if(l[C+I+e]<o[R+I]||o[R+I+e]<l[C+I])continue e;var L=n(j,T);if(void 0!==L)return L}}}}else{for(var b=O-d,M=S-1;M>=0;--M)if(p[M]===b){for(var I=M+1;I<S;++I)p[I-1]=p[I];break}--S}}}e.exports={init:r,sweepBipartite:a,sweepComplete:s,scanBipartite:u,scanComplete:l};var c=n(139),f=n(87),h=n(343),d=1<<28,p=c.mallocInt32(1024),v=c.mallocInt32(1024),g=c.mallocInt32(1024),m=c.mallocInt32(1024),y=c.mallocInt32(1024),b=c.mallocInt32(1024),w=c.mallocDouble(8192)},function(e,t,n){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,n,r):"string"==typeof t?c(e,t,n):d(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,r){return s(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function l(e,t){if(s(t),e=i(e,t<0?0:0|p(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(t,n);e=i(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=f(e,t),e}function d(e,t){if(o.isBuffer(t)){var n=0|p(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Z(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&Q(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),o.alloc(+e)}function g(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}var l;if(i){var c=-1;for(l=n;l<s;l++)if(o(e,l)===o(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*a}else-1!==c&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var f=!0,h=0;h<u;h++)if(o(e,l+h)!==o(t,h)){f=!1;break}if(f)return l}return-1}function x(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return X(q(t,e.length-n),e,n,r)}function k(e,t,n,r){return X(W(t),e,n,r)}function S(e,t,n,r){return k(e,t,n,r)}function O(e,t,n,r){return X(Y(t),e,n,r)}function T(e,t,n,r){return X(G(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?K.fromByteArray(e):K.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,l,c,f;switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(u=e[i+1]))&&(f=(31&o)<<6|63&u)>127&&(a=f);break;case 3:u=e[i+1],l=e[i+2],128==(192&u)&&128==(192&l)&&(f=(15&o)<<12|(63&u)<<6|63&l)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(f=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return P(r)}function P(e){var t=e.length;if(t<=J)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=J));return n}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=U(e[o]);return i}function R(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function B(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return i||B(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(e,t,n,r,23,4),n+4}function V(e,t,n,r,i){return i||B(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(e,t,n,r,52,8),n+8}function z(e){if(e=H(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function H(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function Y(e){return K.toByteArray(z(e))}function X(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Z(e){return e!==e}var K=n(339),$=n(515),Q=n(516);t.Buffer=o,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return u(null,e,t,n)},o.allocUnsafe=function(e){return l(null,e)},o.allocUnsafeSlow=function(e){return l(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):m.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,s=n-t,u=Math.min(a,s),l=this.slice(r,i),c=e.slice(t,n),f=0;f<u;++f)if(l[f]!==c[f]){a=l[f],s=c[f];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),$.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),$.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),$.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),$.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return V(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return V(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:q(new o(e,r).toString()),u=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(41))},function(e,t,n){var r,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(i=function(){return n}.apply(t,r))&&(e.exports=i))}()},function(e,t,n){e.exports={ResizeSensor:n(156),ElementQueries:n(344)}},function(e,t,n){"use strict";var r,i;!function(o,a){r=a,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i)}("undefined"!=typeof window&&window,function(){function e(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,i=0,o=e.length;if(r)for(;i<o;i++)t(e[i]);else t(e)}function t(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}if("undefined"==typeof window)return null;var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},r=function(i,o){function a(){var e=[];this.add=function(t){e.push(t)};var t,n;this.call=function(){for(t=0,n=e.length;t<n;t++)e[t].call()},this.remove=function(r){var i=[];for(t=0,n=e.length;t<n;t++)e[t]!==r&&i.push(e[t]);e=i},this.length=function(){return e.length}}function s(e,r){if(e){if(e.resizedAttached)return void e.resizedAttached.add(r);e.resizedAttached=new a,e.resizedAttached.add(r),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var i="position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",o="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=i,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+i+'"><div style="'+o+'"></div></div><div class="resize-sensor-shrink" style="'+i+'"><div style="'+o+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor)
;var s=window.getComputedStyle(e).getPropertyValue("position");"absolute"!==s&&"relative"!==s&&"fixed"!==s&&(e.style.position="relative");var u,l,c=e.resizeSensor.childNodes[0],f=c.childNodes[0],h=e.resizeSensor.childNodes[1],d=t(e),p=d.width,v=d.height,g=function(){var t=0===e.offsetWidth&&0===e.offsetHeight;if(t){var n=e.style.display;e.style.display="block"}f.style.width="100000px",f.style.height="100000px",c.scrollLeft=1e5,c.scrollTop=1e5,h.scrollLeft=1e5,h.scrollTop=1e5,t&&(e.style.display=n)};e.resizeSensor.resetSensor=g;var m=function(){l=0,u&&(p=void 0,v=void 0,e.resizedAttached&&e.resizedAttached.call())},y=function(){var r=t(e),i=r.width,o=r.height;u=i!=p||o!=v,u&&!l&&(l=n(m)),g()},b=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};b(c,"scroll",y),b(h,"scroll",y),n(g)}}e(i,function(e){s(e,o)}),this.detach=function(e){r.detach(i,e)},this.reset=function(){i.resizeSensor.resetSensor()}};return r.reset=function(t,n){e(t,function(e){e.resizeSensor.resetSensor()})},r.detach=function(t,n){e(t,function(e){e&&(e.resizedAttached&&"function"==typeof n&&(e.resizedAttached.remove(n),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))})},r})},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=Array.prototype,i=r.slice,o=r.map},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s});var r=n(44),i=n(159),o=n.i(i.a)(r.a),a=o.right,s=o.left;t.a=a},function(e,t,n){"use strict";function r(e){return function(t,r){return n.i(i.a)(e(t),r)}}var i=n(44);t.a=function(e){return 1===e.length&&(e=r(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}},function(e,t,n){"use strict";var r=n(168);t.a=function(e,t){var i=n.i(r.a)(e,t);return i?Math.sqrt(i):i}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r}},function(e,t,n){"use strict";function r(e,t){return[e,t]}t.b=r,t.a=function(e,t){null==t&&(t=r);for(var n=0,i=e.length-1,o=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(o,o=e[++n]);return a}},function(e,t,n){"use strict";t.a=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}},function(e,t,n){"use strict";t.a=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}},function(e,t,n){"use strict";function r(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),u=r/Math.pow(10,i);return i>=0?(u>=o?10:u>=a?5:u>=s?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(u>=o?10:u>=a?5:u>=s?2:1)}function i(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),u=r/i;return u>=o?i*=10:u>=a?i*=5:u>=s&&(i*=2),t<e?-i:i}t.b=r,t.c=i;var o=Math.sqrt(50),a=Math.sqrt(10),s=Math.sqrt(2);t.a=function(e,t,n){var i,o,a,s,u=-1;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((i=t<e)&&(o=e,e=t,t=o),0===(s=r(e,t,n))||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),a=new Array(o=Math.ceil(t-e+1));++u<o;)a[u]=(e+u)*s;else for(e=Math.floor(e*s),t=Math.ceil(t*s),a=new Array(o=Math.ceil(e-t+1));++u<o;)a[u]=(e-u)/s;return i&&a.reverse(),a}},function(e,t,n){"use strict";function r(e){return e.length}var i=n(162);t.a=function(e){if(!(s=e.length))return[];for(var t=-1,o=n.i(i.a)(e,r),a=new Array(o);++t<o;)for(var s,u=-1,l=a[t]=new Array(s);++u<s;)l[u]=e[u][t];return a}},function(e,t,n){"use strict";var r=n(54);t.a=function(e,t){var i,o,a=e.length,s=0,u=-1,l=0,c=0;if(null==t)for(;++u<a;)isNaN(i=n.i(r.a)(e[u]))||(o=i-l,l+=o/++s,c+=o*(i-l));else for(;++u<a;)isNaN(i=n.i(r.a)(t(e[u],u,e)))||(o=i-l,l+=o/++s,c+=o*(i-l));if(s>1)return c/(s-1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(362);n.d(t,"axisTop",function(){return r.a}),n.d(t,"axisRight",function(){return r.b}),n.d(t,"axisBottom",function(){return r.c}),n.d(t,"axisLeft",function(){return r.d})},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(e,t,n){"use strict";function r(e,t){var r=e.document.documentElement,a=n.i(i.select)(e).on("dragstart.drag",null);t&&(a.on("click.drag",o.a,!0),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}t.b=r;var i=n(4),o=n(172);t.a=function(e){var t=e.document.documentElement,r=n.i(i.select)(e).on("dragstart.drag",o.a,!0);"onselectstart"in t?r.on("selectstart.drag",o.a,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}},function(e,t,n){"use strict";function r(){i.event.stopImmediatePropagation()}t.b=r;var i=n(4);t.a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},function(e,t,n){"use strict";n.d(t,"b",function(){return r});var r,i=n(100);t.a=function(e,t){var o=n.i(i.a)(e,t);if(!o)return e+"";var a=o[0],s=o[1],u=s-(r=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,l=a.length;return u===l?a:u>l?a+new Array(u-l+1).join("0"):u>0?a.slice(0,u)+"."+a.slice(u):"0."+new Array(1-u).join("0")+n.i(i.a)(e,Math.max(0,t+u-1))[0]}},function(e,t,n){"use strict";function r(e){return new i(e)}function i(e){if(!(t=a.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",s=t[4]||"",u=!!t[5],l=t[6]&&+t[6],c=!!t[7],f=t[8]&&+t[8].slice(1),h=t[9]||"";"n"===h?(c=!0,h="g"):o.a[h]||(h=""),(u||"0"===n&&"="===r)&&(u=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=s,this.zero=u,this.width=l,this.comma=c,this.precision=f,this.type=h}t.a=r;var o=n(175),a=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;r.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type}},function(e,t,n){"use strict";var r=n(385),i=n(173),o=n(388);t.a={"":r.a,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return n.i(o.a)(100*e,t)},r:o.a,s:i.a,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}},function(e,t,n){"use strict";var r=n(68),i=n(386),o=n(387),a=n(174),s=n(175),u=n(173),l=n(389),c=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];t.a=function(e){function t(e){function t(e){var t,n,a,s=x,l=_;if("c"===w)l=k(e)+l,e="";else{e=+e;var d=e<0;if(e=k(Math.abs(e),b),d&&0==+e&&(d=!1),s=(d?"("===o?o:"-":"-"===o||"("===o?"":o)+s,l=("s"===w?c[8+u.b/3]:"")+l+(d&&"("===o?")":""),S)for(t=-1,n=e.length;++t<n;)if(48>(a=e.charCodeAt(t))||a>57){l=(46===a?p+e.slice(t+1):e.slice(t))+l,e=e.slice(0,t);break}}y&&!f&&(e=h(e,1/0));var g=s.length+e.length+l.length,O=g<m?new Array(m-g+1).join(r):"";switch(y&&f&&(e=h(O+e,O.length?m-l.length:1/0),O=""),i){case"<":e=s+e+l+O;break;case"=":e=s+O+e+l;break;case"^":e=O.slice(0,g=O.length>>1)+s+e+l+O.slice(g);break;default:e=O+s+e+l}return v(e)}e=n.i(a.a)(e);var r=e.fill,i=e.align,o=e.sign,l=e.symbol,f=e.zero,m=e.width,y=e.comma,b=e.precision,w=e.type,x="$"===l?d[0]:"#"===l&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",_="$"===l?d[1]:/[%p]/.test(w)?g:"",k=s.a[w],S=!w||/[defgprs%]/.test(w);return b=null==b?w?6:12:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),t.toString=function(){return e+""},t}function f(e,i){var o=t((e=n.i(a.a)(e),e.type="f",e)),s=3*Math.max(-8,Math.min(8,Math.floor(n.i(r.a)(i)/3))),u=Math.pow(10,-s),l=c[8+s/3];return function(e){return o(u*e)+l}}var h=e.grouping&&e.thousands?n.i(i.a)(e.grouping,e.thousands):l.a,d=e.currency,p=e.decimal,v=e.numerals?n.i(o.a)(e.numerals):l.a,g=e.percent||"%";return{format:t,formatPrefix:f}}},function(e,t,n){"use strict";var r=n(102);t.a=function(e,t){var i,o=t?t.length:0,a=e?Math.min(o,e.length):0,s=new Array(a),u=new Array(o);for(i=0;i<a;++i)s[i]=n.i(r.a)(e[i],t[i]);for(;i<o;++i)u[i]=t[i];return function(e){for(i=0;i<a;++i)u[i]=s[i](e);return u}}},function(e,t,n){"use strict";var r=n(101);t.a=function(e){var t=e.length;return function(i){var o=Math.floor(((i%=1)<0?++i:i)*t),a=e[(o+t-1)%t],s=e[o%t],u=e[(o+1)%t],l=e[(o+2)%t];return n.i(r.b)((i-o/t)*t,a,s,u,l)}}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";t.a=function(e,t){var n=new Date;return e=+e,t-=e,function(r){return n.setTime(e+t*r),n}}},function(e,t,n){"use strict";var r=n(102);t.a=function(e,t){var i,o={},a={};null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={});for(i in t)i in e?o[i]=n.i(r.a)(e[i],t[i]):a[i]=t[i];return function(e){for(i in o)a[i]=o[i](e);return a}}},function(e,t,n){"use strict";function r(e){return function(t){var r,o,a=t.length,s=new Array(a),u=new Array(a),l=new Array(a);for(r=0;r<a;++r)o=n.i(i.rgb)(t[r]),s[r]=o.r||0,u[r]=o.g||0,l[r]=o.b||0;return s=e(s),u=e(u),l=e(l),o.opacity=1,function(e){return o.r=s(e),o.g=u(e),o.b=l(e),o+""}}}var i=n(14),o=n(101),a=n(178),s=n(55);t.a=function e(t){function r(e,t){var r=o((e=n.i(i.rgb)(e)).r,(t=n.i(i.rgb)(t)).r),a=o(e.g,t.g),u=o(e.b,t.b),l=n.i(s.a)(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=u(t),e.opacity=l(t),e+""}}var o=n.i(s.c)(t);return r.gamma=e,r}(1),r(o.a),r(a.a)},function(e,t,n){"use strict";function r(e){return function(){return e}}function i(e){return function(t){return e(t)+""}}var o=n(69),a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s=new RegExp(a.source,"g");t.a=function(e,t){var u,l,c,f=a.lastIndex=s.lastIndex=0,h=-1,d=[],p=[];for(e+="",t+="";(u=a.exec(e))&&(l=s.exec(t));)(c=l.index)>f&&(c=t.slice(f,c),d[h]?d[h]+=c:d[++h]=c),(u=u[0])===(l=l[0])?d[h]?d[h]+=l:d[++h]=l:(d[++h]=null,p.push({i:h,x:n.i(o.a)(u,l)})),f=s.lastIndex;return f<t.length&&(c=t.slice(f),d[h]?d[h]+=c:d[++h]=c),d.length<2?p[0]?i(p[0].x):r(t):(t=p.length,function(e){for(var n,r=0;r<t;++r)d[(n=p[r]).i]=n.x(e);return d.join("")})}},function(e,t,n){"use strict";t.a=function(e,t){e=e.slice();var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}},function(e,t,n){"use strict";t.a=function(e){return+e}},function(e,t,n){"use strict";function r(e){function t(t){var n=t+"",r=s.get(n);if(!r){if(l!==a)return l;s.set(n,r=u.push(t))}return e[(r-1)%e.length]}var s=n.i(i.a)(),u=[],l=a;return e=null==e?[]:o.b.call(e),t.domain=function(e){if(!arguments.length)return u.slice();u=[],s=n.i(i.a)();for(var r,o,a=-1,l=e.length;++a<l;)s.has(o=(r=e[a])+"")||s.set(o,u.push(r));return t},t.range=function(n){return arguments.length?(e=o.b.call(n),t):e.slice()},t.unknown=function(e){return arguments.length?(l=e,t):l},t.copy=function(){return r().domain(u).range(e).unknown(l)},t}n.d(t,"b",function(){return a}),t.a=r;var i=n(67),o=n(36),a={name:"implicit"}},function(e,t,n){"use strict";function r(e){return new Date(e)}function i(e){return e instanceof Date?+e:+new Date(+e)}function o(e,t,u,l,w,x,_,k,S){function O(n){return(_(n)<n?M:x(n)<n?A:w(n)<n?j:l(n)<n?R:t(n)<n?u(n)<n?I:L:e(n)<n?D:N)(n)}function T(t,r,i,o){if(null==t&&(t=10),"number"==typeof t){var s=Math.abs(i-r)/t,u=n.i(a.bisector)(function(e){return e[2]}).right(B,s);u===B.length?(o=n.i(a.tickStep)(r/b,i/b,t),t=e):u?(u=B[s/B[u-1][2]<B[u][2]/s?u-1:u],o=u[1],t=u[0]):(o=Math.max(n.i(a.tickStep)(r,i,t),1),t=k)}return null==o?t:t.every(o)}var C=n.i(f.a)(f.b,s.c),E=C.invert,P=C.domain,M=S(".%L"),A=S(":%S"),j=S("%I:%M"),R=S("%I %p"),I=S("%a %d"),L=S("%b %d"),D=S("%B"),N=S("%Y"),B=[[_,1,d],[_,5,5*d],[_,15,15*d],[_,30,30*d],[x,1,p],[x,5,5*p],[x,15,15*p],[x,30,30*p],[w,1,v],[w,3,3*v],[w,6,6*v],[w,12,12*v],[l,1,g],[l,2,2*g],[u,1,m],[t,1,y],[t,3,3*y],[e,1,b]];return C.invert=function(e){return new Date(E(e))},C.domain=function(e){return arguments.length?P(c.a.call(e,i)):P().map(r)},C.ticks=function(e,t){var n,r=P(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=T(e,i,o,t),n=n?n.range(i,o+1):[],a?n.reverse():n},C.tickFormat=function(e,t){return null==t?O:S(t)},C.nice=function(e,t){var r=P();return(e=T(e,r[0],r[r.length-1],t))?P(n.i(h.a)(r,e)):C},C.copy=function(){return n.i(f.c)(C,o(e,t,u,l,w,x,_,k,S))},C}t.b=o;var a=n(8),s=n(19),u=n(118),l=n(193),c=n(36),f=n(70),h=n(184),d=1e3,p=60*d,v=60*p,g=24*v,m=7*g,y=30*g,b=365*g;t.a=function(){return o(u.l,u.q,u.r,u.k,u.s,u.t,u.u,u.v,l.b).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}},function(e,t,n){"use strict";var r=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var i=document.documentElement;if(!i.matches){var o=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;r=function(e){return function(){return o.call(this,e)}}}}t.a=r},function(e,t,n){"use strict";function r(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}t.b=r;var i=n(190),o=n(16);t.a=function(){return new o.b(this._enter||this._groups.map(i.a),this._parents)},r.prototype={constructor:r,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},function(e,t,n){"use strict";t.a=function(e){return new Array(e.length)}},function(e,t,n){"use strict";function r(e){return function(){this.style.removeProperty(e)}}function i(e,t,n){return function(){this.style.setProperty(e,t,n)}}function o(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function a(e,t){return e.style.getPropertyValue(t)||n.i(s.a)(e).getComputedStyle(e,null).getPropertyValue(t)}t.a=a;var s=n(116);t.b=function(e,t,n){return arguments.length>1?this.each((null==t?r:"function"==typeof t?o:i)(e,t,null==n?"":n)):a(this.node(),e)}},function(e,t,n){"use strict";function r(){return[]}t.a=function(e){return null==e?r:function(){return this.querySelectorAll(e)}}},function(e,t,n){"use strict";var r=n(117);n.d(t,"b",function(){return r.c}),n.d(t,"a",function(){return r.a}),n(195),n(194),n(456)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(117),i="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||n.i(r.a)(i)},function(e,t,n){"use strict";function r(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function o(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function a(e){function t(e,t){return function(n){var r,i,o,a=[],s=-1,u=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=pe[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}function a(e,t){return function(r){var a,u,l=o(1900);if(s(l,e,r+="",0)!=r.length)return null;if("Q"in l)return new Date(l.Q);if("p"in l&&(l.H=l.H%12+12*l.p),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(a=i(o(l.y)),u=a.getUTCDay(),a=u>4||0===u?de.i.ceil(a):n.i(de.i)(a),a=de.d.offset(a,7*(l.V-1)),l.y=a.getUTCFullYear(),l.m=a.getUTCMonth(),l.d=a.getUTCDate()+(l.w+6)%7):(a=t(o(l.y)),u=a.getDay(),a=u>4||0===u?de.j.ceil(a):n.i(de.j)(a),a=de.k.offset(a,7*(l.V-1)),l.y=a.getFullYear(),l.m=a.getMonth(),l.d=a.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),u="Z"in l?i(o(l.y)).getUTCDay():t(o(l.y)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+7*l.W-(u+5)%7:l.w+7*l.U-(u+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,i(l)):t(l)}}function s(e,t,n,r){for(var i,o,a=0,s=t.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=Qe[i in pe?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function u(e,t,n){var r=Ve.exec(t.slice(n));return r?(e.p=ze[r[0].toLowerCase()],n+r[0].length):-1}function ve(e,t,n){var r=qe.exec(t.slice(n));return r?(e.w=We[r[0].toLowerCase()],n+r[0].length):-1}function ge(e,t,n){var r=He.exec(t.slice(n));return r?(e.w=Ue[r[0].toLowerCase()],n+r[0].length):-1}function me(e,t,n){var r=Xe.exec(t.slice(n));return r?(e.m=Ze[r[0].toLowerCase()],n+r[0].length):-1}function ye(e,t,n){var r=Ge.exec(t.slice(n));return r?(e.m=Ye[r[0].toLowerCase()],n+r[0].length):-1}function be(e,t,n){return s(e,je,t,n)}function we(e,t,n){return s(e,Re,t,n)}function xe(e,t,n){return s(e,Ie,t,n)}function _e(e){return Ne[e.getDay()]}function ke(e){return De[e.getDay()]}function Se(e){return Fe[e.getMonth()]}function Oe(e){return Be[e.getMonth()]}function Te(e){return Le[+(e.getHours()>=12)]}function Ce(e){return Ne[e.getUTCDay()]}function Ee(e){return De[e.getUTCDay()]}function Pe(e){return Fe[e.getUTCMonth()]}function Me(e){return Be[e.getUTCMonth()]}function Ae(e){return Le[+(e.getUTCHours()>=12)]}var je=e.dateTime,Re=e.date,Ie=e.time,Le=e.periods,De=e.days,Ne=e.shortDays,Be=e.months,Fe=e.shortMonths,Ve=l(Le),ze=c(Le),He=l(De),Ue=c(De),qe=l(Ne),We=c(Ne),Ge=l(Be),Ye=c(Be),Xe=l(Fe),Ze=c(Fe),Ke={a:_e,A:ke,b:Se,B:Oe,c:null,d:M,e:M,f:L,H:A,I:j,j:R,L:I,m:D,M:N,p:Te,Q:fe,s:he,S:B,u:F,U:V,V:z,w:H,W:U,x:null,X:null,y:q,Y:W,Z:G,"%":ce},$e={a:Ce,A:Ee,b:Pe,B:Me,c:null,d:Y,e:Y,f:Q,H:X,I:Z,j:K,L:$,m:J,M:ee,p:Ae,Q:fe,s:he,S:te,u:ne,U:re,V:ie,w:oe,W:ae,x:null,X:null,y:se,Y:ue,Z:le,"%":ce},Qe={a:ve,A:ge,b:me,B:ye,c:be,d:w,e:w,f:T,H:_,I:_,j:x,L:O,m:b,M:k,p:u,Q:E,s:P,S:S,u:h,U:d,V:p,w:f,W:v,x:we,X:xe,y:m,Y:g,Z:y,"%":C};return Ke.x=t(Re,Ke),Ke.X=t(Ie,Ke),Ke.c=t(je,Ke),$e.x=t(Re,$e),$e.X=t(Ie,$e),$e.c=t(je,$e),{format:function(e){var n=t(e+="",Ke);return n.toString=function(){return e},n},parse:function(e){var t=a(e+="",r);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",$e);return n.toString=function(){return e},n},utcParse:function(e){var t=a(e,i);return t.toString=function(){return e},t}}}function s(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function u(e){return e.replace(me,"\\$&")}function l(e){return new RegExp("^(?:"+e.map(u).join("|")+")","i")}function c(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function f(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function h(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function d(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function p(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function v(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function g(e,t,n){var r=ve.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function m(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function y(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function b(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function w(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function x(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function _(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function k(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function S(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function O(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function T(e,t,n){var r=ve.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function C(e,t,n){var r=ge.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function E(e,t,n){var r=ve.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function P(e,t,n){var r=ve.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function M(e,t){return s(e.getDate(),t,2)}function A(e,t){return s(e.getHours(),t,2)}function j(e,t){return s(e.getHours()%12||12,t,2)}function R(e,t){return s(1+de.k.count(n.i(de.l)(e),e),t,3)}function I(e,t){return s(e.getMilliseconds(),t,3)}function L(e,t){return I(e,t)+"000"}function D(e,t){return s(e.getMonth()+1,t,2)}function N(e,t){return s(e.getMinutes(),t,2)}function B(e,t){return s(e.getSeconds(),t,2)}function F(e){var t=e.getDay();return 0===t?7:t}function V(e,t){return s(de.m.count(n.i(de.l)(e),e),t,2)}function z(e,t){var r=e.getDay();return e=r>=4||0===r?n.i(de.n)(e):de.n.ceil(e),s(de.n.count(n.i(de.l)(e),e)+(4===n.i(de.l)(e).getDay()),t,2)}function H(e){return e.getDay()}function U(e,t){return s(de.j.count(n.i(de.l)(e),e),t,2)}function q(e,t){return s(e.getFullYear()%100,t,2)}function W(e,t){return s(e.getFullYear()%1e4,t,4)}function G(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+s(t/60|0,"0",2)+s(t%60,"0",2)}function Y(e,t){return s(e.getUTCDate(),t,2)}function X(e,t){return s(e.getUTCHours(),t,2)}function Z(e,t){return s(e.getUTCHours()%12||12,t,2)}function K(e,t){return s(1+de.d.count(n.i(de.a)(e),e),t,3)}function $(e,t){return s(e.getUTCMilliseconds(),t,3)}function Q(e,t){return $(e,t)+"000"}function J(e,t){return s(e.getUTCMonth()+1,t,2)}function ee(e,t){return s(e.getUTCMinutes(),t,2)}function te(e,t){return s(e.getUTCSeconds(),t,2)}function ne(e){var t=e.getUTCDay();return 0===t?7:t}function re(e,t){return s(de.o.count(n.i(de.a)(e),e),t,2)}function ie(e,t){var r=e.getUTCDay();return e=r>=4||0===r?n.i(de.p)(e):de.p.ceil(e),s(de.p.count(n.i(de.a)(e),e)+(4===n.i(de.a)(e).getUTCDay()),t,2)}function oe(e){return e.getUTCDay()}function ae(e,t){return s(de.i.count(n.i(de.a)(e),e),t,2)}function se(e,t){return s(e.getUTCFullYear()%100,t,2)}function ue(e,t){return s(e.getUTCFullYear()%1e4,t,4)}function le(){return"+0000"}function ce(){return"%"}function fe(e){return+e}function he(e){return Math.floor(+e/1e3)}t.a=a;var de=n(118),pe={"-":"",_:" ",0:"0"},ve=/^\s*\d+/,ge=/^%/,me=/[\\^$*+?|[\]().{}]/g},function(e,t,n){"use strict";var r=n(119);n.d(t,"c",function(){return r.c}),n.d(t,"a",function(){return r.a});var i=n(472);n.d(t,"b",function(){return i.a}),n(471)},function(e,t,n){"use strict";var r=(n(474),n(24),n(473),n(198));n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r=n(17);t.a=function(e,t){var n,i,o,a=e.__transition,s=!0;if(a){t=null==t?null:t+"";for(o in a)(n=a[o]).name===t?(i=n.state>r.a&&n.state<r.b,n.state=r.c,n.timer.stop(),i&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete a[o]):s=!1;s&&delete e.__transition}}},function(e,t,n){"use strict";var r=n(14),i=n(19);t.a=function(e,t){var o;return("number"==typeof t?i.c:t instanceof r.color?i.d:(o=n.i(r.color)(t))?(t=o,i.d):i.e)(e,t)}},function(e,t,n){"use strict";function r(e,t,n){this.k=e,this.x=t,this.y=n}function i(e){return e.__zoom||o}t.c=r,n.d(t,"b",function(){return o}),t.a=i,r.prototype={constructor:r,scale:function(e){return 1===e?this:new r(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new r(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var o=new r(1,0,0);i.prototype=r.prototype},function(e,t){},function(e,t){e.exports={"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"}},function(e,t){e.exports={"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF"}},function(e,t,n){var r=n(18),i=r.Uint8Array;e.exports=i},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t,n){function r(e,t){var n=a(e),r=!n&&o(e),c=!n&&!r&&s(e),h=!n&&!r&&!c&&l(e),d=n||r||c||h,p=d?i(e.length,String):[],v=p.length;for(var g in e)!t&&!f.call(e,g)||d&&("length"==g||c&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,v))||p.push(g);return p}var i=n(551),o=n(136),a=n(15),s=n(137),u=n(132),l=n(233),c=Object.prototype,f=c.hasOwnProperty;e.exports=r},function(e,t){function n(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}e.exports=n},function(e,t,n){function r(e,t,n){var r=e[t];s.call(e,t)&&o(r,n)&&(void 0!==n||t in e)||i(e,t,n)}var i=n(209),o=n(80),a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var i=n(219);e.exports=r},function(e,t,n){var r=n(211),i=n(567),o=i(r);e.exports=o},function(e,t,n){function r(e,t){return e&&i(e,t,o)}var i=n(534),o=n(48);e.exports=r},function(e,t,n){function r(e,t){t=i(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}var i=n(218),o=n(79);e.exports=r},function(e,t,n){function r(e,t,n){var r=t(e);return o(e)?r:i(r,n(e))}var i=n(128),o=n(15);e.exports=r},function(e,t,n){function r(e,t,n,a,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:i(e,t,n,a,r,s))}var i=n(537),o=n(40);e.exports=r},function(e,t,n){function r(e,t){var n=-1,r=o(e)?Array(e.length):[];return i(e,function(e,i,o){r[++n]=t(e,i,o)}),r}var i=n(210),o=n(47);e.exports=r},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){function r(e){return"function"==typeof e?e:i}var i=n(59);e.exports=r},function(e,t,n){function r(e,t){return i(e)?e:o(e,t)?[e]:a(s(e))}var i=n(15),o=n(133),a=n(614),s=n(633);e.exports=r},function(e,t,n){var r=n(39),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){function r(e,t,n,r,l,c){var f=n&s,h=e.length,d=t.length;if(h!=d&&!(f&&d>h))return!1;var p=c.get(e);if(p&&c.get(t))return p==t;var v=-1,g=!0,m=n&u?new i:void 0;for(c.set(e,t),c.set(t,e);++v<h;){var y=e[v],b=t[v];if(r)var w=f?r(b,y,v,t,e,c):r(y,b,v,e,t,c);if(void 0!==w){if(w)continue;g=!1;break}if(m){if(!o(t,function(e,t){if(!a(m,t)&&(y===e||l(y,e,n,r,c)))return m.push(t)})){g=!1;break}}else if(y!==b&&!l(y,b,n,r,c)){g=!1;break}}return c.delete(e),c.delete(t),g}var i=n(521),o=n(527),a=n(553),s=1,u=2;e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(41))},function(e,t,n){function r(e){return i(e,a,o)}var i=n(213),o=n(131),a=n(48);e.exports=r},function(e,t,n){var r=n(128),i=n(130),o=n(131),a=n(235),s=Object.getOwnPropertySymbols,u=s?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=u},function(e,t,n){var r=n(517),i=n(124),o=n(519),a=n(520),s=n(522),u=n(38),l=n(230),c=l(r),f=l(i),h=l(o),d=l(a),p=l(s),v=u;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=v(new i)||o&&"[object Promise]"!=v(o.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case c:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,n){function r(e){return e===e&&!i(e)}var i=n(20);e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=n},function(e,t){function n(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t){function n(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,i=r.toString;e.exports=n},function(e,t,n){function r(e,t,n){function r(t){var n=y,r=b;return y=b=void 0,S=t,x=e.apply(r,n)}function c(e){return S=e,_=setTimeout(d,t),O?r(e):x}function f(e){var n=e-k,r=e-S,i=t-n;return T?l(i,w-r):i}function h(e){var n=e-k,r=e-S;return void 0===k||n>=t||n<0||T&&r>=w}function d(){var e=o();if(h(e))return p(e);_=setTimeout(d,f(e))}function p(e){return _=void 0,C&&y?r(e):(y=b=void 0,x)}function v(){void 0!==_&&clearTimeout(_),S=0,y=k=b=_=void 0}function g(){return void 0===_?x:p(o())}function m(){var e=o(),n=h(e);if(y=arguments,b=this,k=e,n){if(void 0===_)return c(k);if(T)return _=setTimeout(d,t),r(k)}return void 0===_&&(_=setTimeout(d,t)),x}var y,b,w,x,_,k,S=0,O=!1,T=!1,C=!0;if("function"!=typeof e)throw new TypeError(s);return t=a(t)||0,i(n)&&(O=!!n.leading,T="maxWait"in n,w=T?u(a(n.maxWait)||0,t):w,C="trailing"in n?!!n.trailing:C),m.cancel=v,m.flush=g,m}var i=n(20),o=n(626),a=n(236),s="Expected a function",u=Math.max,l=Math.min;e.exports=r},function(e,t,n){function r(e){if(!o(e))return!1;var t=i(e);return t==s||t==u||t==a||t==l}var i=n(38),o=n(20),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",l="[object Proxy]";e.exports=r},function(e,t,n){var r=n(540),i=n(216),o=n(602),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t,n){function r(e){return a(e)?i(e,!0):o(e)}var i=n(206),o=n(542),a=n(47);e.exports=r},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){function r(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=l.test(e);return n||c.test(e)?f(e.slice(2),n?2:8):u.test(e)?a:+e}var i=n(20),o=n(60),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;e.exports=r
},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"red",function(){return r}),n.d(t,"pink",function(){return i}),n.d(t,"purple",function(){return o}),n.d(t,"deepPurple",function(){return a}),n.d(t,"indigo",function(){return s}),n.d(t,"blue",function(){return u}),n.d(t,"lightBlue",function(){return l}),n.d(t,"cyan",function(){return c}),n.d(t,"teal",function(){return f}),n.d(t,"green",function(){return h}),n.d(t,"lightGreen",function(){return d}),n.d(t,"lime",function(){return p}),n.d(t,"yellow",function(){return v}),n.d(t,"amber",function(){return g}),n.d(t,"orange",function(){return m}),n.d(t,"deepOrange",function(){return y}),n.d(t,"brown",function(){return b}),n.d(t,"grey",function(){return w}),n.d(t,"blueGrey",function(){return x}),n.d(t,"darkText",function(){return _}),n.d(t,"lightText",function(){return k}),n.d(t,"darkIcons",function(){return S}),n.d(t,"lightIcons",function(){return O}),n.d(t,"white",function(){return T}),n.d(t,"black",function(){return C});var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},i={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},a={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},u={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},l={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},c={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},f={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},h={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},d={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},p={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},v={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},g={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},y={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},b={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},w={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},x={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},_={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},k={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},S={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},O={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},T="#ffffff",C="#000000";t.default={red:r,pink:i,purple:o,deepPurple:a,indigo:s,blue:u,lightBlue:l,cyan:c,teal:f,green:h,lightGreen:d,lime:p,yellow:v,amber:g,orange:m,deepOrange:y,brown:b,grey:w,blueGrey:x,darkText:_,lightText:k,darkIcons:S,lightIcons:O,white:T,black:C}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(679),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=t.Checkboard=function(e){var t=e.white,n=e.grey,r=e.size,i=e.renderers,a=e.borderRadius,u=e.boxShadow,c=(0,s.default)({default:{grid:{borderRadius:a,boxShadow:u,absolute:"0px 0px 0px 0px",background:"url("+l.get(t,n,r,i.canvas)+") center left"}}});return o.default.createElement("div",{style:c.grid})};c.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),f=n(231),h=r(f),d=n(23),p=r(d),v=t.ColorWrap=function(e){var t=function(t){function n(e){i(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(p.default.simpleCheckForValidColor(e)){var r=p.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(p.default.simpleCheckForValidColor(e)){var r=p.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=s({},p.default.toState(e.color,0)),t.debounce=(0,h.default)(function(e,t,n){e(t,n)},100),t}return a(n,t),u(n,[{key:"componentWillReceiveProps",value:function(e){this.setState(s({},p.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),c.default.createElement(e,s({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}(l.PureComponent||l.Component);return t.propTypes=s({},e.propTypes),t.defaultProps=s({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var i=n(637);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return r(i).default}});var o=n(639);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return r(o).default}});var a=n(645);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return r(a).default}});var s=n(641);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return r(s).default}});var u=n(653);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return r(u).default}});var l=n(656);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return r(l).default}});var c=n(658);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return r(c).default}});var f=n(660);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return r(f).default}});var h=n(661);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return r(h).default}});var d=n(667);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return r(d).default}});var p=n(670);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return r(p).default}});var v=n(674);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return r(v).default}});var g=n(677);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return r(g).default}});var m=n(239);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return r(m).default}});var y=r(s);t.default=y.default},function(e,t,n){!function(t,r){e.exports=function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){"use strict";function r(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function i(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function o(e){return"number"==typeof e&&!isNaN(e)}function a(e){return parseInt(e,10)}function s(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=r,t.isFunction=i,t.isNum=o,t.int=a,t.dontSetMe=s},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,u],f=0;l=new Error(t.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var i=function(e){};"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&(i=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return T||(T=(0,k.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,k.isFunction)(e[t])})),!!(0,k.isFunction)(e[T])&&e[T](t)}function o(e,t,n){var r=e;do{if(i(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function a(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function s(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function u(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,k.int)(n.borderTopWidth),t+=(0,k.int)(n.borderBottomWidth)}function l(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,k.int)(n.borderLeftWidth),t+=(0,k.int)(n.borderRightWidth)}function c(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,k.int)(n.paddingTop),t-=(0,k.int)(n.paddingBottom)}function f(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,k.int)(n.paddingLeft),t-=(0,k.int)(n.paddingRight)}function h(e,t){var n=t===t.ownerDocument.body,r=n?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-r.left,y:e.clientY+t.scrollTop-r.top}}function d(e){var t=e.x,n=e.y;return r({},(0,S.browserPrefixToKey)("transform",O.default),"translate("+t+"px,"+n+"px)")}function p(e){return"translate("+e.x+","+e.y+")"}function v(e,t){return e.targetTouches&&(0,k.findInArray)(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&(0,k.findInArray)(e.changedTouches,function(e){return t===e.identifier})}function g(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function m(e){if(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&w(e.body,"react-draggable-transparent-selection")}}function y(e){try{e&&e.body&&x(e.body,"react-draggable-transparent-selection"),window.getSelection().removeAllRanges()}catch(e){}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _({touchAction:"none"},e)}function w(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)"+t+"(?!\\S)"))||(e.className+=" "+t)}function x(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)","g"),"")}Object.defineProperty(t,"__esModule",{value:!0});var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.matchesSelector=i,t.matchesSelectorAndParentsTo=o,t.addEvent=a,t.removeEvent=s,t.outerHeight=u,t.outerWidth=l,t.innerHeight=c,t.innerWidth=f,t.offsetXYFromParent=h,t.createCSSTransform=d,t.createSVGTransform=p,t.getTouch=v,t.getTouchIdentifier=g,t.addUserSelectStyles=m,t.removeUserSelectStyles=y,t.styleHacks=b,t.addClassName=w,t.removeClassName=x;var k=n(0),S=n(19),O=function(e){return e&&e.__esModule?e:{default:e}}(S),T=""},function(e,n){e.exports=t},function(e,t,n){if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r};e.exports=n(14)(i,!0)}else e.exports=n(17)()},function(e,t,n){"use strict";var r=n(1),i=r;if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV){var o=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};i=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];o.apply(void 0,[t].concat(r))}}}e.exports=i},function(e,t,n){"use strict";function r(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:c(r);var i=f(e);if("string"==typeof r){var o=i.ownerDocument,a=o.defaultView,s=void 0;if(!((s="parent"===r?i.parentNode:o.querySelector(r))instanceof HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var u=a.getComputedStyle(i),l=a.getComputedStyle(s);r={left:-i.offsetLeft+(0,h.int)(l.paddingLeft)+(0,h.int)(u.marginLeft),top:-i.offsetTop+(0,h.int)(l.paddingTop)+(0,h.int)(u.marginTop),right:(0,v.innerWidth)(s)-(0,v.outerWidth)(i)-i.offsetLeft+(0,h.int)(l.paddingRight)-(0,h.int)(u.marginRight),bottom:(0,v.innerHeight)(s)-(0,v.outerHeight)(i)-i.offsetTop+(0,h.int)(l.paddingBottom)-(0,h.int)(u.marginBottom)}}return(0,h.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,h.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,h.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,h.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function i(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function o(e){return"both"===e.props.axis||"x"===e.props.axis}function a(e){return"both"===e.props.axis||"y"===e.props.axis}function s(e,t,n){var r="number"==typeof t?(0,v.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var i=f(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,v.offsetXYFromParent)(r||e,o)}function u(e,t,n){var r=e.state,i=!(0,h.isNum)(r.lastX),o=f(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function l(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function c(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function f(e){var t=p.default.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=r,t.snapToGrid=i,t.canDragX=o,t.canDragY=a,t.getControlPosition=s,t.createCoreData=u,t.createDraggableData=l;var h=n(0),d=n(4),p=function(e){return e&&e.__esModule?e:{default:e}}(d),v=n(5)},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(6),c=r(l),f=n(7),h=r(f),d=n(4),p=r(d),v=n(5),g=n(9),m=n(0),y=n(11),b=r(y),w={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},x=w.mouse,_=function(e){function t(){var e,n,r,a;i(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},r.handleDragStart=function(e){if(r.props.onMouseDown(e),!r.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=p.default.findDOMNode(r);if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var n=t.ownerDocument;if(!(r.props.disabled||!(e.target instanceof n.defaultView.Node)||r.props.handle&&!(0,v.matchesSelectorAndParentsTo)(e.target,r.props.handle,t)||r.props.cancel&&(0,v.matchesSelectorAndParentsTo)(e.target,r.props.cancel,t))){var i=(0,v.getTouchIdentifier)(e);r.setState({touchIdentifier:i});var o=(0,g.getControlPosition)(e,i,r);if(null!=o){var a=o.x,s=o.y,u=(0,g.createCoreData)(r,a,s);(0,b.default)("DraggableCore: handleDragStart: %j",u),(0,b.default)("calling",r.props.onStart),!1!==r.props.onStart(e,u)&&(r.props.enableUserSelectHack&&(0,v.addUserSelectStyles)(n),r.setState({dragging:!0,lastX:a,lastY:s}),(0,v.addEvent)(n,x.move,r.handleDrag),(0,v.addEvent)(n,x.stop,r.handleDragStop))}}},r.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=(0,g.getControlPosition)(e,r.state.touchIdentifier,r);if(null!=t){var n=t.x,i=t.y;if(Array.isArray(r.props.grid)){var o=n-r.state.lastX,a=i-r.state.lastY,u=(0,g.snapToGrid)(r.props.grid,o,a),l=s(u,2);if(o=l[0],a=l[1],!o&&!a)return;n=r.state.lastX+o,i=r.state.lastY+a}var c=(0,g.createCoreData)(r,n,i);if((0,b.default)("DraggableCore: handleDrag: %j",c),!1!==r.props.onDrag(e,c))r.setState({lastX:n,lastY:i});else try{r.handleDragStop(new MouseEvent("mouseup"))}catch(e){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(f)}}},r.handleDragStop=function(e){if(r.state.dragging){var t=(0,g.getControlPosition)(e,r.state.touchIdentifier,r);if(null!=t){var n=t.x,i=t.y,o=(0,g.createCoreData)(r,n,i),a=p.default.findDOMNode(r);a&&r.props.enableUserSelectHack&&(0,v.removeUserSelectStyles)(a.ownerDocument),(0,b.default)("DraggableCore: handleDragStop: %j",o),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),r.props.onStop(e,o),a&&((0,b.default)("DraggableCore: Removing handlers"),(0,v.removeEvent)(a.ownerDocument,x.move,r.handleDrag),(0,v.removeEvent)(a.ownerDocument,x.stop,r.handleDragStop))}}},r.onMouseDown=function(e){return x=w.mouse,r.handleDragStart(e)},r.onMouseUp=function(e){return x=w.mouse,r.handleDragStop(e)},r.onTouchStart=function(e){return x=w.touch,r.handleDragStart(e)},r.onTouchEnd=function(e){return x=w.touch,r.handleDragStop(e)},a=n,o(r,a)}return a(t,e),u(t,[{key:"componentWillUnmount",value:function(){var e=p.default.findDOMNode(this);if(e){var t=e.ownerDocument;(0,v.removeEvent)(t,w.mouse.move,this.handleDrag),(0,v.removeEvent)(t,w.touch.move,this.handleDrag),(0,v.removeEvent)(t,w.mouse.stop,this.handleDragStop),(0,v.removeEvent)(t,w.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,v.removeUserSelectStyles)(t)}}},{key:"render",value:function(){return c.default.cloneElement(c.default.Children.only(this.props.children),{style:(0,v.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),t}(c.default.Component);_.displayName="DraggableCore",_.propTypes={allowAnyClick:h.default.bool,disabled:h.default.bool,enableUserSelectHack:h.default.bool,offsetParent:function(t,n){if(!0===e.browser&&t[n]&&1!==t[n].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:h.default.arrayOf(h.default.number),handle:h.default.string,cancel:h.default.string,onStart:h.default.func,onDrag:h.default.func,onStop:h.default.func,onMouseDown:h.default.func,className:m.dontSetMe,style:m.dontSetMe,transform:m.dontSetMe},_.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},t.default=_}).call(t,n(20))},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";var r=n(13).default;e.exports=r,e.exports.default=r,e.exports.DraggableCore=n(10).default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(6),h=r(f),d=n(7),p=r(d),v=n(4),g=r(v),m=n(18),y=r(m),b=n(5),w=n(9),x=n(0),_=n(10),k=r(_),S=n(11),O=r(S),T=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDragStart=function(e,t){if((0,O.default)("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,(0,w.createDraggableData)(n,t)))return!1;n.setState({dragging:!0,dragged:!0})},n.onDrag=function(e,t){if(!n.state.dragging)return!1;(0,O.default)("Draggable: onDrag: %j",t);var r=(0,w.createDraggableData)(n,t),i={x:r.x,y:r.y};if(n.props.bounds){var o=i.x,a=i.y;i.x+=n.state.slackX,i.y+=n.state.slackY;var s=(0,w.getBoundPosition)(n,i.x,i.y),u=l(s,2),c=u[0],f=u[1];i.x=c,i.y=f,i.slackX=n.state.slackX+(o-i.x),i.slackY=n.state.slackY+(a-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-n.state.x,r.deltaY=i.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(i)},n.onDragStop=function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,(0,w.createDraggableData)(n,t)))return!1;(0,O.default)("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var i=n.props.position,o=i.x,a=i.y;r.x=o,r.y=a}n.setState(r)},n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},n}return s(t,e),c(t,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&g.default.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t={},n=null,r=Boolean(this.props.position),o=!r||this.state.dragging,a=this.props.position||this.props.defaultPosition,s={x:(0,w.canDragX)(this)&&o?this.state.x:a.x,y:(0,w.canDragY)(this)&&o?this.state.y:a.y};this.state.isElementSVG?n=(0,b.createSVGTransform)(s):t=(0,b.createCSSTransform)(s);var l=this.props,c=l.defaultClassName,f=l.defaultClassNameDragging,d=l.defaultClassNameDragged,p=h.default.Children.only(this.props.children),v=(0,y.default)(p.props.className||"",c,(e={},i(e,f,this.state.dragging),i(e,d,this.state.dragged),e));return h.default.createElement(k.default,u({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),h.default.cloneElement(p,{className:v,style:u({},p.props.style,t),transform:n}))}}]),t}(h.default.Component);T.displayName="Draggable",T.propTypes=u({},k.default.propTypes,{axis:p.default.oneOf(["both","x","y","none"]),bounds:p.default.oneOfType([p.default.shape({left:p.default.number,right:p.default.number,top:p.default.number,bottom:p.default.number}),p.default.string,p.default.oneOf([!1])]),defaultClassName:p.default.string,defaultClassNameDragging:p.default.string,defaultClassNameDragged:p.default.string,defaultPosition:p.default.shape({x:p.default.number,y:p.default.number}),position:p.default.shape({x:p.default.number,y:p.default.number}),className:x.dontSetMe,style:x.dontSetMe,transform:x.dontSetMe}),T.defaultProps=u({},k.default.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),t.default=T},function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(8),a=n(15),s=n(3),u=n(16);e.exports=function(e,t){function n(e){var t=e&&(T&&e[T]||e[C]);if("function"==typeof t)return t}function l(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function c(e){this.message=e,this.stack=""}function f(e){function n(n,u,l,f,h,d,p){if(f=f||E,d=d||l,p!==s)if(t)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&"undefined"!=typeof console){var v=f+":"+l;!r[v]&&a<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",d,f),r[v]=!0,a++)}return null==u[l]?n?new c(null===u[l]?"The "+h+" `"+d+"` is marked as required in `"+f+"`, but its value is `null`.":"The "+h+" `"+d+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(u,l,f,h,d)}if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)var r={},a=0;var u=n.bind(null,!1);return u.isRequired=n.bind(null,!0),u}function h(e){function t(t,n,r,i,o,a){var s=t[n]
;return _(s)!==e?new c("Invalid "+i+" `"+o+"` of type `"+k(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null}return f(t)}function d(e){function t(t,n,r,i,o){if("function"!=typeof e)return new c("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new c("Invalid "+i+" `"+o+"` of type `"+_(a)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<a.length;u++){var l=e(a,u,r,i,o+"["+u+"]",s);if(l instanceof Error)return l}return null}return f(t)}function p(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||E;return new c("Invalid "+i+" `"+o+"` of type `"+O(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return f(t)}function v(e){function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(l(a,e[s]))return null;return new c("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?f(t):("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)}function g(e){function t(t,n,r,i,o){if("function"!=typeof e)return new c("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],u=_(a);if("object"!==u)return new c("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var l in a)if(a.hasOwnProperty(l)){var f=e(a,l,r,i,o+"."+l,s);if(f instanceof Error)return f}return null}return f(t)}function m(e){function t(t,n,r,i,o){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,n,r,i,o,s))return null;return new c("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}if(!Array.isArray(e))return"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull;for(var n=0;n<e.length;n++){var i=e[n];if("function"!=typeof i)return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",S(i),n),r.thatReturnsNull}return f(t)}function y(e){function t(t,n,r,i,o){var a=t[n],u=_(a);if("object"!==u)return new c("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var f=e[l];if(f){var h=f(a,l,r,i,o+"."+l,s);if(h)return h}}return null}return f(t)}function b(e){function t(t,n,r,i,o){var u=t[n],l=_(u);if("object"!==l)return new c("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var f=a({},t[n],e);for(var h in f){var d=e[h];if(!d)return new c("Invalid "+i+" `"+o+"` key `"+h+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var p=d(u,h,r,i,o+"."+h,s);if(p)return p}return null}return f(t)}function w(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(w);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!w(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!w(a[1]))return!1}return!0;default:return!1}}function x(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}function _(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":x(t,e)?"symbol":t}function k(e){if(void 0===e||null===e)return""+e;var t=_(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function S(e){var t=k(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function O(e){return e.constructor&&e.constructor.name?e.constructor.name:E}var T="function"==typeof Symbol&&Symbol.iterator,C="@@iterator",E="<<anonymous>>",P={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:function(){return f(r.thatReturnsNull)}(),arrayOf:d,element:function(){function t(t,n,r,i,o){var a=t[n];return e(a)?null:new c("Invalid "+i+" `"+o+"` of type `"+_(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return f(t)}(),instanceOf:p,node:function(){function e(e,t,n,r,i){return w(e[t])?null:new c("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return f(e)}(),objectOf:g,oneOf:v,oneOfType:m,shape:y,exact:b};return c.prototype=Error.prototype,P.checkPropTypes=u,P.PropTypes=P,P}},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)o.call(n,c)&&(u[c]=n[c]);if(i){s=i(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";function r(e,t,n,r,u){if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)for(var l in e)if(e.hasOwnProperty(l)){var c;try{i("function"==typeof e[l],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",r||"React class",n,l,typeof e[l]),c=e[l](t,l,r,n,null,a)}catch(e){c=e}if(o(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,l,typeof c),c instanceof Error&&!(c.message in s)){s[c.message]=!0;var f=u?u():"";o(!1,"Failed %s type: %s%s",n,c.message,null!=f?f:"")}}}if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)var i=n(2),o=n(8),a=n(3),s={};e.exports=r},function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(3);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){var r,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(i=function(){return n}.apply(t,r))&&(e.exports=i))}()},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<s.length;n++)if(i(e,s[n])in t)return s[n];return""}function i(e,t){return t?""+t+a(e):e}function o(e,t){return t?"-"+t.toLowerCase()+"-"+e:e}function a(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=r,t.browserPrefixToKey=i,t.browserPrefixToStyle=o;var s=["Moz","Webkit","O","ms"];t.default=r()},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){v&&d&&(v=!1,d.length?p=d.concat(p):g=-1,p.length&&s())}function s(){if(!v){var e=i(a);v=!0;for(var t=p.length;t;){for(d=p,p=[];++g<t;)d&&d[g].run();g=-1,t=p.length}d=null,v=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,f,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var d,p=[],v=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}}])}(n(11),n(0))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),l=r(u),c=n(2),f=r(c),h=n(123),d=r(h),p=n(154),v=r(p),g=n(61),m=n(683),y=r(m),b=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return w.call(a),(0,g.autoBindHandlers)(a,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),a}return a(t,e),t.prototype.componentDidMount=function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)},t.prototype.componentWillReceiveProps=function(e){var t=void 0;if((0,d.default)(e.layout,this.props.layout)&&e.compactType===this.props.compactType?(0,g.childrenEqual)(this.props.children,e.children)||(t=this.state.layout):t=e.layout,t){var n=(0,g.synchronizeLayoutWithChildren)(t,e.children,e.cols,this.compactType(e)),r=this.state.layout;this.setState({layout:n}),this.onLayoutMaybeChanged(n,r)}},t.prototype.containerHeight=function(){if(this.props.autoSize){var e=(0,g.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}},t.prototype.compactType=function(e){return e||(e=this.props),!1===e.verticalCompact?null:e.compactType},t.prototype.onDragStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,g.getLayoutItem)(a,e);s&&(this.setState({oldDragItem:(0,g.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onDragStart(a,s,s,null,i,o))},t.prototype.onDrag=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,u=this.props.cols,l=(0,g.getLayoutItem)(s,e);if(l){var c={w:l.w,h:l.h,x:l.x,y:l.y,placeholder:!0,i:e};s=(0,g.moveElement)(s,l,t,n,!0,this.props.preventCollision,this.compactType(),u),this.props.onDrag(s,a,l,c,i,o),this.setState({layout:(0,g.compact)(s,this.compactType(),u),activeDrag:c})}},t.prototype.onDragStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,u=this.props,l=u.cols,c=u.preventCollision,f=(0,g.getLayoutItem)(s,e);if(f){s=(0,g.moveElement)(s,f,t,n,!0,c,this.compactType(),l),this.props.onDragStop(s,a,f,null,i,o);var h=(0,g.compact)(s,this.compactType(),l),d=this.state.oldLayout;this.setState({activeDrag:null,layout:h,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(h,d)}},t.prototype.onLayoutMaybeChanged=function(e,t){t||(t=this.state.layout),(0,d.default)(t,e)||this.props.onLayoutChange(e)},t.prototype.onResizeStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,g.getLayoutItem)(a,e);s&&(this.setState({oldResizeItem:(0,g.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onResizeStart(a,s,s,null,i,o))},t.prototype.onResize=function(e,t,n,r){var i=r.e,o=r.node,a=this.state,u=a.layout,l=a.oldResizeItem,c=this.props,f=c.cols,h=c.preventCollision,d=(0,g.getLayoutItem)(u,e);if(d&&(!h||!(0,g.getFirstCollision)(u,s({},d,{w:t,h:n})))){d.w=t,d.h=n;var p={w:t,h:n,x:d.x,y:d.y,static:!0,i:e};this.props.onResize(u,l,d,p,i,o),this.setState({layout:(0,g.compact)(u,this.compactType(),f),activeDrag:p})}},t.prototype.onResizeStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state,s=a.layout,u=a.oldResizeItem,l=this.props.cols,c=(0,g.getLayoutItem)(s,e);this.props.onResizeStop(s,u,c,null,i,o);var f=(0,g.compact)(s,this.compactType(),l),h=this.state.oldLayout;this.setState({activeDrag:null,layout:f,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(f,h)},t.prototype.placeholder=function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,r=t.cols,i=t.margin,o=t.containerPadding,a=t.rowHeight,s=t.maxRows,u=t.useCSSTransforms;return l.default.createElement(y.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:i,containerPadding:o||i,maxRows:s,rowHeight:a,isDraggable:!1,isResizable:!1,useCSSTransforms:u},l.default.createElement("div",null))},t.prototype.processGridItem=function(e){if(e.key){var t=(0,g.getLayoutItem)(this.state.layout,String(e.key));if(!t)return null;var n=this.props,r=n.width,i=n.cols,o=n.margin,a=n.containerPadding,s=n.rowHeight,u=n.maxRows,c=n.isDraggable,f=n.isResizable,h=n.useCSSTransforms,d=n.draggableCancel,p=n.draggableHandle,v=this.state.mounted,m=Boolean(!t.static&&c&&(t.isDraggable||null==t.isDraggable)),b=Boolean(!t.static&&f&&(t.isResizable||null==t.isResizable));return l.default.createElement(y.default,{containerWidth:r,cols:i,margin:o,containerPadding:a||o,maxRows:u,rowHeight:s,cancel:d,handle:p,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:m,isResizable:b,useCSSTransforms:h&&v,usePercentages:!v,w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minH:t.minH,minW:t.minW,maxH:t.maxH,maxW:t.maxW,static:t.static},e)}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.style,i=(0,v.default)("react-grid-layout",n),o=s({height:this.containerHeight()},r);return l.default.createElement("div",{className:i,style:o},l.default.Children.map(this.props.children,function(t){return e.processGridItem(t)}),this.placeholder())},t}(l.default.Component);b.displayName="ReactGridLayout",b.propTypes={className:f.default.string,style:f.default.object,width:f.default.number,autoSize:f.default.bool,cols:f.default.number,draggableCancel:f.default.string,draggableHandle:f.default.string,verticalCompact:function(e){e.verticalCompact},compactType:f.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&(0,g.validateLayout)(t,"layout")},margin:f.default.arrayOf(f.default.number),containerPadding:f.default.arrayOf(f.default.number),rowHeight:f.default.number,maxRows:f.default.number,isDraggable:f.default.bool,isResizable:f.default.bool,preventCollision:f.default.bool,useCSSTransforms:f.default.bool,onLayoutChange:f.default.func,onDragStart:f.default.func,onDrag:f.default.func,onDragStop:f.default.func,onResizeStart:f.default.func,onResize:f.default.func,onResizeStop:f.default.func,children:function(e,t){var n=e[t],r={};l.default.Children.forEach(n,function(e){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0})}},b.defaultProps={autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,compactType:"vertical",preventCollision:!1,onLayoutChange:g.noop,onDragStart:g.noop,onDrag:g.noop,onDragStop:g.noop,onResizeStart:g.noop,onResize:g.noop,onResizeStop:g.noop};var w=function(){this.state={activeDrag:null,layout:(0,g.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null}};t.default=b},function(e,t,n){"use strict";function r(e,t){for(var n=a(e),r=n[0],i=1,o=n.length;i<o;i++){var s=n[i];t>e[s]&&(r=s)}return r}function i(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function o(e,t,n,r,i,o){if(e[n])return(0,s.cloneLayout)(e[n]);for(var u=e[r],l=a(t),c=l.slice(l.indexOf(n)),f=0,h=c.length;f<h;f++){var d=c[f];if(e[d]){u=e[d];break}}return u=(0,s.cloneLayout)(u||[]),(0,s.compact)((0,s.correctBounds)(u,{cols:i}),o,i)}function a(e){return Object.keys(e).sort(function(t,n){return e[t]-e[n]})}t.__esModule=!0,t.getBreakpointFromWidth=r,t.getColsFromBreakpoint=i,t.findOrGenerateResponsiveLayout=o,t.sortBreakpoints=a;var s=n(61)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(0),c=r(l),f=n(2),h=r(f),d=n(241),p=n(688),v=r(p),g=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=a(this,e.call.apply(e,[this].concat(u))),r.state={resizing:!1,width:r.props.width,height:r.props.height,slackW:0,slackH:0},i=n,a(r,i)}return s(t,e),t.prototype.componentWillReceiveProps=function(e){this.state.resizing||e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.lockAspectRatio=function(e,t,n){return t=e/n,e=t*n,[e,t]},t.prototype.runConstraints=function(e,t){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],i=n[1];if(this.props.lockAspectRatio){var o=this.state.width/this.state.height;t=e/o,e=t*o}if(!r&&!i)return[e,t];var a=e,s=t,u=this.state,l=u.slackW,c=u.slackH;return e+=l,t+=c,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),i&&(e=Math.min(i[0],e),t=Math.min(i[1],t)),l+=a-e,c+=s-t,l===this.state.slackW&&c===this.state.slackH||this.setState({slackW:l,slackH:c}),[e,t]},t.prototype.resizeHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.deltaX,a=r.deltaY,s="both"===t.props.axis||"x"===t.props.axis,u="both"===t.props.axis||"y"===t.props.axis,l=t.state.width+(s?o:0),c=t.state.height+(u?a:0),f=l!==t.state.width,h=c!==t.state.height;if("onResize"!==e||f||h){var d=t.runConstraints(l,c);l=d[0],c=d[1];var p={};if("onResizeStart"===e)p.resizing=!0;else if("onResizeStop"===e)p.resizing=!1,p.slackW=p.slackH=0;else{if(l===t.state.width&&c===t.state.height)return;p.width=l,p.height=c}"function"==typeof t.props[e]?("function"==typeof n.persist&&n.persist(),t.setState(p,function(){return t.props[e](n,{node:i,size:{width:l,height:c}})})):t.setState(p)}}},t.prototype.render=function(){var e=this.props,t=e.children,n=e.draggableOpts,r=(e.width,e.height,e.handleSize,e.lockAspectRatio,e.axis,e.minConstraints,e.maxConstraints,e.onResize,e.onResizeStop,e.onResizeStart,i(e,["children","draggableOpts","width","height","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart"])),o=r.className?r.className+" react-resizable":"react-resizable";return(0,v.default)(t,u({},r,{className:o,children:[t.props.children,c.default.createElement(d.DraggableCore,u({},n,{key:"resizableHandle",onStop:this.resizeHandler("onResizeStop"),onStart:this.resizeHandler("onResizeStart"),onDrag:this.resizeHandler("onResize")}),c.default.createElement("span",{className:"react-resizable-handle"}))]}))},t}(c.default.Component);g.propTypes={children:h.default.element.isRequired,width:h.default.number.isRequired,height:h.default.number.isRequired,handleSize:h.default.array,lockAspectRatio:h.default.bool,axis:h.default.oneOf(["both","x","y","none"]),minConstraints:h.default.arrayOf(h.default.number),maxConstraints:h.default.arrayOf(h.default.number),onResizeStop:h.default.func,onResizeStart:h.default.func,onResize:h.default.func,draggableOpts:h.default.object},g.defaultProps={handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0]},t.default=g},function(e,t,n){"use strict";function r(e,t,n){var r=e.slice(0);if(n>=r.length)for(var i=n-r.length;1+i--;)r.push(void 0);return r.splice(n,0,r.splice(t,1)[0]),r}function i(e,t){for(;e;){if(t(e))return e;e=e.parentNode}}function o(e,t,n){return n<e?e:n>t?t:n}function a(e){return"px"===e.substr(-2)?parseFloat(e):0}function s(e){var t=window.getComputedStyle(e);return{top:a(t.marginTop),right:a(t.marginRight),bottom:a(t.marginBottom),left:a(t.marginLeft)}}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=r,t.closest=i,t.limit=o,t.getElementMargin=s,t.events={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},t.vendorPrefix=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}()},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){r(function(e){return e.api}(f.default.render(l.default.createElement(h.default,{options:n||{},viewConfig:t}),e)))}function o(e,t,n,r){"string"==typeof t?(0,s.json)(t,function(t,o){if(t)throw t;i(e,o,n,r)}):i(e,t,n,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.HiGlassComponent=void 0;var a=n(141);Object.defineProperty(t,"HiGlassComponent",{enumerable:!0,get:function(){function e(){return r(a).default}return e}()}),t.createHgComponent=o;var s=n(34),u=n(0),l=r(u),c=n(11),f=r(c),h=r(a);t.default=o},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AddTrackModal=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),c=n(2),f=r(c),h=n(62),d=n(286),p=n(282),v=n(6);n(502);var g=t.AddTrackModal=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tilesetFinder=null,n.multiSelect=null,n.options={},n.state={selectedTilesets:[{datatype:"none"}],normalizeTilesetUuid:null},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){}return e}()},{key:"handleSubmit",value:function(){function e(){this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}return e}()},{key:"selectedTilesetsChanged",value:function(){function e(e){var t=!0,n=e[0].datatype,r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)a.value.datatype!==n&&(t=!1)}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}if(t){var u=!0,l=!1,c=void 0;try{for(var f,h=e[Symbol.iterator]();!(u=(f=h.next()).done);u=!0)f.value.type=this.selectedPlotType}catch(e){l=!0,c=e}finally{try{!u&&h.return&&h.return()}finally{if(l)throw c}}}else{var d=!0,p=!1,g=void 0;try{for(var m,y=e[Symbol.iterator]();!(d=(m=y.next()).done);d=!0){var b=m.value;b.type=(0,v.AVAILABLE_TRACK_TYPES)([b.datatype],this.getOrientation(this.props.position))[0].type}}catch(e){p=!0,g=e}finally{try{!d&&y.return&&y.return()}finally{if(p)throw g}}}this.setState({selectedTilesets:e})}return e}()},{key:"handleTilesetPickerDoubleClick",value:function(){function e(e){this.selectedTilesetsChanged([e]),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}return e}()},{key:"handleOptionsChanged",value:function(){function e(e){this.options=e}return e}()},{key:"handlePlotTypeSelected",value:function(){function e(e){var t=this.state.selectedTilesets,n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)o.value.type=e}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.selectedPlotType=e,this.setState({selectedTilesets:t})}return e}()},{key:"getOrientation",value:function(){function e(e){return"top"===e||"bottom"===e?"1d-horizontal":"left"===e||"right"===e?"1d-vertical":"2d"}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.getOrientation(this.props.position),n=l.default.createElement("div",null,l.default.createElement(d.TilesetFinder,{onDoubleClick:this.handleTilesetPickerDoubleClick.bind(this),onTracksChosen:function(){function t(t){return e.props.onTracksChosen(t,e.props.position)}return t}(),orientation:t,ref:function(){function t(t){e.tilesetFinder=t}return t}(),selectedTilesetChanged:this.selectedTilesetsChanged.bind(this),trackSourceServers:this.props.trackSourceServers}));return l.default.createElement(h.Modal,{onHide:this.props.onCancel,show:this.props.show},l.default.createElement(h.Modal.Header,{closeButton:!0},l.default.createElement(h.Modal.Title,null,"Add Track")),l.default.createElement(h.Modal.Body,null,n,l.default.createElement(p.PlotTypeChooser,{ref:function(){function t(t){e.plotTypeChooser=t}return t}(),datatypes:this.state.selectedTilesets.map(function(e){return e.datatype}),onPlotTypeSelected:this.handlePlotTypeSelected.bind(this),orientation:t})),l.default.createElement(h.Modal.Footer,null,l.default.createElement(h.Button,{onClick:this.props.onCancel},"Cancel"),l.default.createElement(h.Button,{onClick:this.handleSubmit.bind(this)},"Submit")))}return e}()}]),t}(l.default.Component);g.defaultProps={position:"top",show:!1},g.propTypes={host:f.default.object,onCancel:f.default.func.isRequired,onTracksChosen:f.default.func.isRequired,position:f.default.string,show:f.default.bool,trackSourceServers:f.default.array.isRequired},t.default=g},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddTrackPositionMenu=void 0;var i=n(2),o=r(i),a=n(0),s=r(a);n(506);var u=t.AddTrackPositionMenu=function(){function e(e){return s.default.createElement("div",null,s.default.createElement("div",{className:"AddTrackPositionMenu-module_add-track-position-span-2hbwE"},"Add Track..."),s.default.createElement("table",{className:"AddTrackPositionMenu-module_add-track-position-table-RHODc"},s.default.createElement("tbody",null,s.default.createElement("tr",null,s.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),s.default.createElement("td",{onClick:function(){function t(){return e.onTrackPositionChosen("top")}return t}(),className:"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e"},"top"),s.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})),s.default.createElement("tr",{style:{height:"80px"}},s.default.createElement("td",{onClick:function(){function t(){return e.onTrackPositionChosen("left")}return t}(),className:"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN"},"left"),s.default.createElement("td",{onClick:function(){function t(){return e.onTrackPositionChosen("center")}return t}(),className:"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd"},"center"),s.default.createElement("td",{onClick:function(){function t(){return e.onTrackPositionChosen("right")}return t}(),className:"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn"},"right")),s.default.createElement("tr",null,s.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),s.default.createElement("td",{onClick:function(){function t(){return e.onTrackPositionChosen("bottom")}return t}(),className:"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE"},"bottom"),s.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})))))}return e}();u.propTypes={onTrackPositionChosen:o.default.func},t.default=u},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowheadDomainsTrack=void 0;var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}
return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),l=n(43),c=n(7),f=n(3),h=t.ArrowheadDomainsTrack=function(e){function t(e,n,o,a,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s));return u.drawnRects={},u}return o(t,e),s(t,[{key:"tileToLocalId",value:function(){function e(e){return""+e.join(".")}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return""+e.join(".")}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=c.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=c.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom)}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map(function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}}),this.visibleTileIds=new Set(this.visibleTiles.map(function(e){return e.tileId}))}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0],this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=c.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=c.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}}return e}()},{key:"initTile",value:function(){function e(e){}return e}()},{key:"destroyTile",value:function(){function e(e,t){}return e}()},{key:"draw",value:function(){function e(){this.drawnRects={},u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this)}return e}()},{key:"drawTile",value:function(){function e(e){if(e.graphics){var t=e.graphics;t.clear();var n=(0,f.colorToHex)(this.options.rectangleDomainStrokeColor||"black"),r=(0,f.colorToHex)(this.options.rectangleDomainFillColor||"grey");if(t.lineStyle(void 0!==this.options.rectangleDomainStrokeWidth?this.options.rectangleDomainStrokeWidth:1,n,void 0!==this.options.rectangleDomainStrokeOpacity?this.options.rectangleDomainStrokeOpacity:1),t.beginFill(r,void 0!==this.options.rectangleDomainFillOpacity?this.options.rectangleDomainFillOpacity:.4),t.alpha=this.options.rectangleDomainOpacity||.5,e.tileData.length){var i=!0,o=!1,a=void 0;try{for(var s,u=e.tileData[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=(l.fields,this._xScale(l.xStart)),h=this._xScale(l.xEnd),d=this._yScale(l.yStart),p=this._yScale(l.yEnd),v=l.uid,g=h-c,m=p-d;if(!(v in this.drawnRects)){var y={x:c,y:d,width:p-d,height:h-c};this.options.minSquareSize&&"none"!=this.options.minSquareSize&&(g<+this.options.minSquareSize||m<+this.options.minSquareSize)&&(y={x:(c+h)/2,y:(d+p)/2,width:this.options.minSquareSize,height:this.options.minSquareSize}),this.drawnRects[v]=y,t.drawRect(y.x,y.y,y.width,y.height)}}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}}}return e}()},{key:"exportSVG",value:function(){function e(){var e=this,n=null,r=null;if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this)){var i=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this),o=a(i,2);r=o[0],n=o[1]}else r=document.createElement("g"),n=r;var s=document.createElement("g");s.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")"),n.appendChild(s);var l=!0,c=!1,f=void 0;try{for(var h,d=(function(){function t(){var t=h.value;if(!t.tileData||!t.tileData.length)return"continue";t.tileData.forEach(function(n,r){var i=document.createElement("g");if(i.setAttribute("transform","translate("+t.graphics.position.x+","+t.graphics.position.y+")scale("+t.graphics.scale.x+","+t.graphics.scale.y+")"),s.appendChild(i),n.uid in e.drawnRects){var o=e.drawnRects[n.uid],a=document.createElement("rect");a.setAttribute("x",o.x),a.setAttribute("y",o.y),a.setAttribute("width",o.width),a.setAttribute("height",o.height),a.setAttribute("fill",e.options.fillColor?e.options.fillColor:"grey"),a.setAttribute("opacity",.3),a.style.stroke=e.options.fillColor?e.options.fillColor:"grey",a.style.strokeWidth="1px",i.appendChild(a)}})}return t}()),p=this.visibleAndFetchedTiles()[Symbol.iterator]();!(l=(h=p.next()).done);l=!0)d()}catch(e){c=!0,f=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw f}}return[r,r]}return e}()},{key:"setPosition",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}return e}()}]),t}(l.TiledPixiTrack);t.default=h},function(e,t,n){(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Autocomplete=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),f=n(11),h=n(498),d=r(h),p=n(2),v=r(p),g=[],m=t.Autocomplete=function(t){function n(e){i(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={highlightedIndex:null,menuTop:0,menuLeft:0,menuWidth:0,isOpen:!1},t.keyDownHandlers={ArrowDown:function(){function e(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,r=null===n||n===t-1?0:n+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})}}return e}(),ArrowUp:function(){function e(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,r=0===n||null===n?t-1:n-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})}}return e}(),Enter:function(){function e(e){var t=this;if(!1===this.state.isOpen);else if(null==this.state.highlightedIndex)this.setState({isOpen:!1},function(){t.inputEl.select()});else{e.preventDefault();var n=this.getFilteredItems()[this.state.highlightedIndex],r=this.props.getItemValue(n);this.setState({isOpen:!1,highlightedIndex:null},function(){t.inputEl.setSelectionRange(r.length,r.length),t.props.onSelect(r,n)})}}return e}(),Escape:function(){function e(){this.setState({highlightedIndex:null,isOpen:!1})}return e}()},t}return a(n,t),u(n,[{key:"getInitialState",value:function(){function e(){return{isOpen:!1,highlightedIndex:null}}return e}()},{key:"componentWillMount",value:function(){function e(){this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1}return e}()},{key:"componentWillReceiveProps",value:function(){function e(e){this._performAutoCompleteOnUpdate=!0,(this.props.items!==e.items||this.state.highlightedIndex>=e.items.length)&&this.setState({highlightedIndex:null})}return e}()},{key:"componentDidUpdate",value:function(){function e(e,t){!0===this.state.isOpen&&!1===t.isOpen&&this.setMenuPositions(),this.state.isOpen&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView(),t.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen,this.inputEl)}return e}()},{key:"maybeScrollItemIntoView",value:function(){function e(){if(!0===this.state.isOpen&&null!==this.state.highlightedIndex){var e=this.refs["item-"+this.state.highlightedIndex],t=this.refs.menu;e&&(0,d.default)((0,f.findDOMNode)(e),(0,f.findDOMNode)(t),{onlyScrollIfNeeded:!0})}}return e}()},{key:"handleKeyDown",value:function(){function e(e){this.keyDownHandlers[e.key]?this.keyDownHandlers[e.key].call(this,e):this.setState({highlightedIndex:null,isOpen:!0})}return e}()},{key:"handleChange",value:function(){function e(e){this._performAutoCompleteOnKeyUp=!0,this.props.onChange(e,e.target.value)}return e}()},{key:"handleKeyUp",value:function(){function e(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())}return e}()},{key:"getFilteredItems",value:function(){function e(){var e=this,t=this.props.items;return this.props.shouldItemRender&&(t=t.filter(function(t){return e.props.shouldItemRender(t,e.props.value)})),this.props.sortItems&&t.sort(function(t,n){return e.props.sortItems(t,n,e.props.value)}),t}return e}()},{key:"maybeAutoCompleteText",value:function(){function e(){if(this.props.autoHighlight&&""!==this.props.value){var e=this.state.highlightedIndex,t=this.getFilteredItems();if(0!==t.length){var n=null!==e?t[e]:t[0];0===this.props.getItemValue(n).toLowerCase().indexOf(this.props.value.toLowerCase())&&null===e&&this.setState({highlightedIndex:0})}}}return e}()},{key:"setMenuPositions",value:function(){function t(){var t=this.inputEl,n=t.getBoundingClientRect(),r=e.window.getComputedStyle(t),i=parseInt(r.marginBottom,10)||0,o=parseInt(r.marginLeft,10)||0,a=parseInt(r.marginRight,10)||0;this.setState({menuTop:n.bottom+i,menuLeft:n.left+o,menuWidth:n.width+o+a})}return t}()},{key:"highlightItemFromMouse",value:function(){function e(e){this.setState({highlightedIndex:e})}return e}()},{key:"selectItemFromMouse",value:function(){function e(e){var t=this,n=this.props.getItemValue(e);this.setState({isOpen:!1,highlightedIndex:null},function(){t.props.onSelect(n,e),t.inputEl.focus()})}return e}()},{key:"setIgnoreBlur",value:function(){function e(e){this._ignoreBlur=e}return e}()},{key:"renderMenu",value:function(){function e(){var e=this,t=this.getFilteredItems().map(function(t,n){var r=e.props.renderItem(t,e.state.highlightedIndex===n,{cursor:"default"});return c.default.cloneElement(r,{onMouseDown:function(){function t(){return e.setIgnoreBlur(!0)}return t}(),onMouseEnter:function(){function t(){return e.highlightItemFromMouse(n)}return t}(),onClick:function(){function n(){return e.selectItemFromMouse(t)}return n}(),ref:"item-"+n})}),n={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth};if(!t.length)return null;var r=this.props.renderMenu(t,this.props.value,n);return c.default.cloneElement(r,{ref:"menu"})}return e}()},{key:"handleInputBlur",value:function(){function e(){this.props.onFocus&&this.props.onFocus(),this._ignoreBlur||this.setState({isOpen:!1,highlightedIndex:null})}return e}()},{key:"handleInputFocus",value:function(){function e(){if(this.props.onFocus&&this.props.onFocus(!0),this._ignoreBlur)return void this.setIgnoreBlur(!1);this._ignoreClick=!0,this.setState({isOpen:!0})}return e}()},{key:"isInputFocused",value:function(){function e(){return this.inputEl.ownerDocument&&this.inputEl===this.inputEl.ownerDocument.activeElement}return e}()},{key:"handleInputClick",value:function(){function e(){this.isInputFocused()&&!1===this.state.isOpen?this.setState({isOpen:!0}):null===this.state.highlightedIndex||this._ignoreClick||this.selectItemFromMouse(this.getFilteredItems()[this.state.highlightedIndex]),this._ignoreClick=!1}return e}()},{key:"composeEventHandlers",value:function(){function e(e,t){return t?function(n){e(n),t(n)}:e}return e}()},{key:"render",value:function(){function e(){var e=this;this.props.debug&&g.push({id:g.length,state:this.state});var t=this.props.inputProps;return c.default.createElement("div",s({style:s({},this.props.wrapperStyle)},this.props.wrapperProps),c.default.createElement("input",s({},t,{"aria-autocomplete":"list",autoComplete:"off",onBlur:this.composeEventHandlers(this.handleInputBlur.bind(this),t.onBlur&&t.onBlur.bind(this)),onChange:this.handleChange.bind(this),onClick:this.composeEventHandlers(this.handleInputClick.bind(this),t.onClick&&t.onClick.bind(this)),onFocus:this.composeEventHandlers(this.handleInputFocus.bind(this),t.onFocus&&t.onFocus.bind(this)),onKeyDown:this.composeEventHandlers(this.handleKeyDown.bind(this),t.onKeyDown&&t.onKeyDown.bind(this)),onKeyUp:this.composeEventHandlers(this.handleKeyUp.bind(this),t.onKeyUp&&t.onKeyUp.bind(this)),ref:function(){function t(t){return e.inputEl=t}return t}(),role:"combobox",value:this.props.value})),("open"in this.props?this.props.open:this.state.isOpen)&&this.renderMenu(),this.props.debug&&c.default.createElement("pre",{style:{marginLeft:300}},JSON.stringify(g.slice(g.length-5,g.length),null,2)))}return e}()}]),n}(c.default.Component);m.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},onChange:function(){function e(){}return e}(),onSelect:function(){function e(){}return e}(),renderMenu:function(){function e(e,t,n){return c.default.createElement("div",{children:e,style:s({},n,this.menuStyle)})}return e}(),shouldItemRender:function(){function e(){return!0}return e}(),menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,onMenuVisibilityChange:function(){function e(){}return e}()},m.propTypes={autoHighlight:v.default.bool,debug:v.default.bool,getItemValue:v.default.func.isRequired,inputProps:v.default.object,items:v.default.array,menuStyle:v.default.object,onChange:v.default.func,onFocus:v.default.func,onMenuVisibilityChange:v.default.func,onSelect:v.default.func,open:v.default.bool,renderItem:v.default.func.isRequired,renderMenu:v.default.func,shouldItemRender:v.default.func,sortItems:v.default.func,value:v.default.any,wrapperProps:v.default.object,wrapperStyle:v.default.object},t.default=m}).call(t,n(41))},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BedLikeTrack=void 0;var s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),c=n(66),f=r(c),h=n(8),d=n(52),p=r(d),v=n(7),g=n(3),m=10,y=20,b=1e3,w=t.BedLikeTrack=function(e){function t(e,n,r,a,s){i(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,a,s));return u.textFontSize="10px",u.textFontFamily="Arial",u.drawnRects={},u}return a(t,e),u(t,[{key:"initTile",value:function(){function e(e){var t=this;e.texts={},e.rectGraphics=new PIXI.Graphics,e.textGraphics=new PIXI.Graphics,e.graphics.addChild(e.rectGraphics),e.graphics.addChild(e.textGraphics),e.tileData&&e.tileData.length&&(e.tileData.sort(function(e,t){return t.importance-e.importance}),e.tileData=e.tileData.slice(0,b),e.tileData.forEach(function(n,r){var i=n.fields,o=t.options.fillColor?t.options.fillColor:"blue";if(e.textWidths={},!(r>=y)){var a=new PIXI.Text(i[3],{fontSize:t.textFontSize,fontFamily:t.textFontFamily,fill:(0,g.colorToHex)(o)});t.flipText&&(a.scale.x=-1),a.anchor.x=.5,a.anchor.y=1,e.texts[i[3]]=a,e.textGraphics.addChild(a)}})),e.initialized=!0,this.renderTile(e)}return e}()},{key:"destroyTile",value:function(){function e(e){var t=this,n=+e.tileId.split(".")[0];e.tileData&&e.tileData.length&&e.tileData.forEach(function(e,r){t.drawnRects[n]&&t.drawnRects[n][e.uid]&&delete t.drawnRects[n][e.uid]})}return e}()},{key:"removeTiles",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeTiles",this).call(this,e),this.rerender(this.options)}return e}()},{key:"drawTile",value:function(){function e(e){this.options&&this.options.valueColumn&&this.valueScale&&this.drawAxis(this.valueScale)}return e}()},{key:"rerender",value:function(){function e(e,n){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rerender",this).call(this,e,n),this.drawnRects={};var r=!0,i=!1,o=void 0;try{for(var a,s=this.visibleAndFetchedTiles()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;u.rectGraphics.clear(),this.renderTile(u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}return e}()},{key:"renderTile",value:function(){function e(e){var t=this;if(e.initialized){var n=+e.tileId.split(".")[0];e.drawnAtScale=this._xScale.copy();var r=(0,g.colorToHex)(this.options.fillColor?this.options.fillColor:"blue");this.options&&this.options.valueColumn&&(this.valueScale=this.makeValueScale(this.minVisibleValue(),this.calculateMedianVisibleValue(),this.maxVisibleValue())),e.tileData&&e.tileData.length&&e.tileData.forEach(function(i,o){if(!(n in t.drawnRects&&i.uid in t.drawnRects[n])){var a=i.fields,s=+i.chrOffset,u=+a[1]+s,l=+a[2]+s,c=(a[12],a[13],(u+l)/2),f=t.dimensions[1]/2,h=(t.dimensions[1],a[3]),d=m;t.options&&t.options.valueColumn&&(f=t.valueScale(+a[+t.options.valueColumn-1]),d=m/2),e.rectGraphics.lineStyle(1,r,.3),e.rectGraphics.beginFill(r,.3);var p=(t._xScale(c),f-d/2),v=t._xScale(u),g=t._xScale(l);if(e.rectGraphics.drawRect(v,p,g-v,d),t.drawnRects[n]||(t.drawnRects[n]={}),t.drawnRects[n][i.uid]=[v,p,g-v,m],e.texts&&!(o>=y)){var b=e.texts[h];if(b.position.x=t._xScale(c),b.style={fontSize:t.textFontSize,fontFamily:t.textFontFamily,fill:r},!(a[3]in e.textWidths)){b.updateTransform();var w=b.getBounds().width;e.textWidths[a[3]]=w}}}})}}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=v.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=Math.min(e,this.maxZoom);return t=Math.max(t,0)}return e}()},{key:"minVisibleValue",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds();0==t.length&&(t=Object.keys(this.fetchedTiles));var n=Math.min.apply(null,t.map(function(t){return e.fetchedTiles[t]}).filter(function(e){return e.tileData&&e.tileData.length}).map(function(e){return e}).map(function(t){return Math.min.apply(null,t.tileData.sort(function(e,t){return t.importance-e.importance}).slice(0,b).map(function(t){return+t.fields[+e.options.valueColumn-1]}))}));return n===Number.MAX_SAFE_INTEGER&&(n=null),n}return e}()},{key:"maxVisibleValue",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds();0===t.length&&(t=Object.keys(this.fetchedTiles));var n=Math.max.apply(null,t.map(function(t){return e.fetchedTiles[t]}).filter(function(e){return e.tileData&&e.tileData.length}).map(function(t){return Math.max.apply(null,t.tileData.sort(function(e,t){return t.importance-e.importance}).slice(0,b).map(function(t){return+t.fields[+e.options.valueColumn-1]}))}));return n===Number.MIN_SAFE_INTEGER&&(n=null),n}return e}()},{key:"calculateMedianVisibleValue",value:function(){function e(){var e=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var t=this.visibleAndFetchedIds();0===t.length&&(t=Object.keys(this.fetchedTiles));var n=[].concat.apply([],t.map(function(t){return e.fetchedTiles[t]}).filter(function(e){return e.tileData&&e.tileData.length}).map(function(t){return t.tileData.sort(function(e,t){return t.importance-e.importance}).slice(0,b).map(function(t){return+t.fields[+e.options.valueColumn-1]})})).filter(function(e){return e>0});this.medianVisibleValue=(0,h.median)(n)}return e}()},{key:"draw",value:function(){function e(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];var n=function(){function t(t){var n=e.fetchedTiles[t],r=(n.drawnAtScale.domain()[1]-n.drawnAtScale.domain()[0])/(e._xScale.domain()[1]-e._xScale.domain()[0]),i=e._xScale.domain().map(n.drawnAtScale),o=i[0];n.rectGraphics.scale.x=r,n.rectGraphics.position.x=-o*r;var a=e.parentInFetched(n);if(!n.initialized)return"continue";n.tileData&&n.tileData.length&&n.tileData.forEach(function(t,r){if(n.texts){var i=t.fields,o=i[3],s=n.texts[o];if(s){var u=+t.chrOffset,l=+i[1]+u,c=+i[2]+u,f=(l+c)/2,h=e.dimensions[1]/2;h+=10,s.position.x=e._xScale(f),s.position.y=h,a?s.visible=!1:(s.visible=!1,e.allBoxes.push([s.position.x-3,h-1,s.position.x+n.textWidths[i[3]]+3,h+1]),e.allTexts.push({importance:+i[5],text:s,caption:o,strand:i[5]}))}}})}return t}();for(var r in this.fetchedTiles)n(r);this.hideOverlaps(this.allBoxes,this.allTexts)}return e}()},{key:"hideOverlaps",value:function(){function e(e,t){(0,f.default)(e,function(e,n){t[e].importance>t[n].importance?t[n].text.visible=!1:t[e].text.visible=!1})}return e}()},{key:"setPosition",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"setDimensions",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDimensions",this).call(this,e);var n=!0,r=!1,i=void 0;try{for(var o,a=this.visibleAndFetchedTiles()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.rectGraphics.clear(),this.renderTile(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}return e}()},{key:"exportSVG",value:function(){function e(){var e=this,n=null,r=null;if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this)){var i=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this),o=s(i,2);r=o[0],n=o[1]}else r=document.createElement("g"),n=r;var a=document.createElement("g");a.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")"),n.appendChild(a);var u=!0,c=!1,f=void 0;try{for(var h,d=(function(){function t(){var t=h.value;t.tileData.forEach(function(n,r){var i=+t.tileId.split(".")[0],o=document.createElement("g");if(o.setAttribute("transform","translate("+t.rectGraphics.position.x+","+t.rectGraphics.position.y+")scale("+t.rectGraphics.scale.x+","+t.rectGraphics.scale.y+")"),a.appendChild(o),e.drawnRects[i]&&n.uid in e.drawnRects[i]){var s=e.drawnRects[i][n.uid],u=document.createElement("rect");u.setAttribute("x",s[0]),u.setAttribute("y",s[1]),u.setAttribute("width",s[2]),u.setAttribute("height",s[3]),u.setAttribute("fill",e.options.fillColor?e.options.fillColor:"blue"),u.setAttribute("opacity",.3),u.style.stroke=e.options.fillColor?e.options.fillColor:"blue",u.style.strokeWidth="1px",o.appendChild(u)}})}return t}()),p=this.visibleAndFetchedTiles()[Symbol.iterator]();!(u=(h=p.next()).done);u=!0)d()}catch(e){c=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}return[r,r]}return e}()}]),t}(p.default);t.default=w},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CNVIntervalTrack=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(13),l=n(8),c=n(52),f=r(c),h=n(309),d=r(h),p=t.CNVIntervalTrack=function(e){function t(e,n,r,a,s,u){i(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,a,s,u));return l.seen=new Set,l.pMain=l.pMobile,l.rows=[],l}return a(t,e),s(t,[{key:"uid",value:function(){function e(e){return e[e.length-2]}return e}()},{key:"segmentOverlap",value:function(){function e(e,t){}return e}()},{key:"segmentsToRows",value:function(){function e(e){e.sort(function(e,t){return t.to-t.from-(e.to-e.from)});for(var t=[[]],n=[new d.default],r=0;r<e.length;r++){for(var i=!1,o=0;o<t.length;o++){var a=n[o];if(!a.intersects([e[r].from,e[r].to])){a.add([e[r].from,e[r].to]),t[o].push(e[r]),i=!0;break}}if(!i){var s=new d.default;s.add([e[r].from,e[r].to]),t.push([e[r]]),n.push(s)}}return t}return e}()},{key:"drawAll",value:function(){function e(e){var t=this;this.pMain.clear();var n=new Set,r=e.map(function(e){return n.has(t.uid(e))?null:(n.add(t.uid(e)),{from:+e[1],to:+e[2],type:e[4],uid:t.uid(e)})}).filter(function(e){return e}),i=this.segmentsToRows(r);this.rows=i,this.draw()}return e}()},{key:"draw",value:function(){function e(){var e=this.rows;if(e){var t=(0,u.scaleBand)().range([0,this.dimensions[1]]).padding(.1).domain((0,l.range)(0,this.maxRows())),n=this.pMain;n.clear(),n.lineStyle(1,255,0),n.beginFill(16740363,.8);for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){var o=e[r][i],a=this._refXScale(o.from),s=this._refXScale(o.to),c=t(r),f=c+t.bandwidth(),h=s-a,d=f-c;n.drawRect(a,c,h,d)}}}return e}()},{key:"allTilesLoaded",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds(),n=t.map(function(t){return e.fetchedTiles[t].tileData.discrete}),r=[].concat.apply([],n);this.drawAll(r)}return e}()},{key:"initTile",value:function(){function e(e){}return e}()},{key:"maxRows",value:function(){function e(){return this.rows.length}return e}()},{key:"updateTile",value:function(){function e(e){}return e}()},{key:"destroyTile",value:function(){function e(e){var t=this;e.tileData.discrete.map(function(e){var n=e[e.length-2];t.seen.has(n)&&t.seen.delete(n)})}return e}()},{key:"drawTile",value:function(){function e(e){}return e}()}]),t}(f.default);t.default=p},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CenterTrack=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(28),l=r(u),c=n(2),f=r(c),h=n(0),d=r(h),p=n(29),v=n(4),g=n(86),m=r(g),y=n(3),b=n(6),w=n(202),x=(r(w),n(121)),_=(r(x),{styles:{"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4"}}),k={pointerEvents:"all"},S=t.CenterTrack=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isVisible:!1},n.brushBehaviorX=(0,p.brushX)(!0,!0).on("brush",n.brushedX.bind(n)),n.brushBehaviorY=(0,p.brushY)(!0,!0,!0).on("brush",n.brushedY.bind(n)),n.brushBehaviorXY=(0,p.brush)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushedXY.bind(n)).on("end",n.brushedXYEnded.bind(n)),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){this.props.isRangeSelectionActive&&this.addBrush2d()}return e}()},{key:"shouldComponentUpdate",value:function(){function e(e,t){if(this.rangeSelectionTriggeredXY)return this.rangeSelectionTriggeredXY=!1,this.state!==t;if(this.props.rangeSelection!==e.rangeSelection){var n=e.rangeSelection[0]?(0,y.genomeLociToPixels)(e.rangeSelection[0],this.props.chromInfo):null;this.props.chromInfo&&(this.props.is1dRangeSelection?(this.rangeSelectionTriggeredX||this.moveBrushX(n),this.rangeSelectionTriggeredY||this.moveBrushY(n),this.rangeSelectionTriggeredX=!1,this.rangeSelectionTriggeredY=!1):this.moveBrushXY([n,(0,y.genomeLociToPixels)(e.rangeSelection[1],this.props.chromInfo)]));var r=this.props.is1dRangeSelection&&!e.is1dRangeSelection&&null===n;return this.state!==t||r}return!0}return e}()},{key:"componentDidUpdate",value:function(){function e(){this.props.isRangeSelectionActive?this.addBrush2d():(this.removeBrush1d(),this.removeBrush2d())}return e}()},{key:"addBrush1d",value:function(){function e(){this.brushElX&&this.brushElY&&(this.brushElXOld!==this.brushElX||this.brushElYOld!==this.brushElY)&&(this.brushElXOld&&this.brushElXOld.on(".brush",null),this.brushElYOld&&this.brushElYOld.on(".brush",null),this.brushElX.call(this.brushBehaviorX),
this.brushElY.call(this.brushBehaviorY),this.brushElXOld=this.brushElX,this.brushElYOld=this.brushElY,this.brushIs1dBound=!0)}return e}()},{key:"addBrush2d",value:function(){function e(){this.brushElXY&&this.brushElXYOld!==this.brushElXY&&(this.brushElXYOld&&this.brushElXYOld.on(".brush",null),this.brushElXY.call(this.brushBehaviorXY),this.brushElXYOld=this.brushElXY,this.brushIs2dBound=!0)}return e}()},{key:"brushedX",value:function(){function e(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,v.event.sourceEvent&&this.props.onRangeSelectionX&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredX=!0,this.props.onRangeSelectionX(v.event.selection))}return e}()},{key:"brushedY",value:function(){function e(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,v.event.sourceEvent&&this.props.onRangeSelectionY&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredY=!0,this.props.onRangeSelectionY(v.event.selection))}return e}()},{key:"brushedXY",value:function(){function e(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,v.event.sourceEvent&&this.props.onRangeSelectionXY&&!e&&!this.props.is1dRangeSelection&&(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionXY([[v.event.selection[0][0],v.event.selection[1][0]],[v.event.selection[0][1],v.event.selection[1][1]]]))}return e}()},{key:"brushedXYEnded",value:function(){function e(){v.event.selection||this.props.is1dRangeSelection||(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionEnd())}return e}()},{key:"brushStarted",value:function(){function e(){v.event.sourceEvent&&this.props.onRangeSelectionStart()}return e}()},{key:"moveBrushX",value:function(){function e(e){if(this.brushEl||v.event.sourceEvent){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var t=e?[this.props.scaleX(e[0]),this.props.scaleX(e[1])]:null;this.rangeSelectionMoved=!0,this.brushElX.call(this.brushBehaviorX.move,t)}}return e}()},{key:"moveBrushY",value:function(){function e(e){if(this.brushEl||v.event.sourceEvent){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var t=e?[this.props.scaleY(e[0]),this.props.scaleY(e[1])]:null;this.rangeSelectionMoved=!0,this.brushElY.call(this.brushBehaviorY.move,t)}}return e}()},{key:"moveBrushXY",value:function(){function e(e){if(this.brushEl||v.event.sourceEvent){var t=[[this.props.scaleX(e[0][0]),this.props.scaleY(e[1][0])],[this.props.scaleX(e[0][1]),this.props.scaleY(e[1][1])]];this.rangeSelectionMoved=!0,this.brushElXY.call(this.brushBehaviorXY.move,t)}}return e}()},{key:"mouseEnterHandler",value:function(){function e(){this.props.isRangeSelectionActive||this.setState({isVisible:!0})}return e}()},{key:"mouseLeaveHandler",value:function(){function e(){this.setState({isVisible:!1})}return e}()},{key:"removeBrush1d",value:function(){function e(){this.brushIs1dBound&&(this.brushElX&&(this.brushElX.call(this.brushBehaviorX.move,null),this.brushElX.on(".brush",null)),this.brushElY&&(this.brushElY.call(this.brushBehaviorY.move,null),this.brushElY.on(".brush",null)),this.brushIs1dBound=!1)}return e}()},{key:"removeBrush2d",value:function(){function e(){this.brushIs2dBound&&this.brushElXY&&(this.brushElXY.call(this.brushBehaviorXY.move,null),this.brushElXY.on(".brush",null),this.brushElXYOld=void 0,this.brushIs2dBound=!1,!this.props.is1dRangeSelection&&this.props.onRangeSelectionEnd())}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.props.tracks.map(function(e){return(0,b.IS_TRACK_RANGE_SELECTABLE)(e)}).reduce(y.or,!1),n=this.props.tracks.some(function(e){return e.contents?e.contents.some(function(e){return"heatmap"===e.type&&"topRight"===e.options.colorbarPosition}):"heatmap"===e.type&&"topRight"===e.options.colorbarPosition}),r=this.props.isRangeSelectionActive?this.props.is1dRangeSelection?"stylesTrack.track-range-selection-active-secondary":"stylesTrack.track-range-selection-active-primary":"stylesTrack.track-range-selection",i=this.props.is1dRangeSelection?"":"stylesTrack.track-range-selection-group-inactive",o=this.props.is1dRangeSelection?"stylesTrack.track-range-selection-group-inactive":"";return d.default.createElement("div",{className:((this.props.className?this.props.className:"")?(this.props.className?this.props.className:"")+" ":"")+"CenterTrack-module_center-track-3ptRW",onMouseEnter:this.mouseEnterHandler.bind(this),onMouseLeave:this.mouseLeaveHandler.bind(this),style:{height:this.props.height,width:this.props.width}},t&&d.default.createElement("svg",{style:{height:this.props.height,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,_)},d.default.createElement("g",{ref:function(){function t(t){return e.brushElX=(0,v.select)(t)}return t}(),className:(0,l.default)(i,_)}),d.default.createElement("g",{ref:function(){function t(t){return e.brushElY=(0,v.select)(t)}return t}(),className:(0,l.default)(i,_)}),d.default.createElement("g",{ref:function(){function t(t){return e.brushElXY=(0,v.select)(t)}return t}(),className:(0,l.default)(o,_)})),this.props.editable&&d.default.createElement(m.default,{imgStyleAdd:k,imgStyleClose:k,imgStyleMove:k,imgStyleSettings:k,isMoveable:!1,isVisible:this.state.isVisible||this.props.uid===this.props.configTrackMenuId,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,paddingRight:n,uid:this.props.uid}))}return e}()}]),t}(d.default.Component);S.propTypes={chromInfo:f.default.object,className:f.default.string,editable:f.default.bool,height:f.default.number,is1dRangeSelection:f.default.bool,isRangeSelectionActive:f.default.bool,onAddSeries:f.default.func,onCloseTrackMenuOpened:f.default.func,onConfigTrackMenuOpened:f.default.func,onRangeSelectionX:f.default.func,onRangeSelectionY:f.default.func,onRangeSelectionXY:f.default.func,onRangeSelectionEnd:f.default.func,onRangeSelectionStart:f.default.func,rangeSelection:f.default.array,scaleX:f.default.func,scaleY:f.default.func,tracks:f.default.array,uid:f.default.string,width:f.default.number},t.default=S},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Chromosome2DAnnotations=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),u=n(14),l=n(10),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),f=n(26),h=n(42),d=t.Chromosome2DAnnotations=function(e){function t(e,n,o){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return a.drawnRects=new Set,(0,h.ChromosomeInfo)(n,function(e){a.chromInfo=e,a.draw()}),a}return o(t,e),a(t,[{key:"draw",value:function(){function e(){if(this.chromInfo){this.drawnRects.clear();var e=this.options.minRectWidth?this.options.minRectWidth:10,n=this.options.minRectWidth?this.options.minRectHeight:10;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this);var r=this.pMain;r.clear();var i=!0,o=!1,a=void 0;try{for(var l,f=this.options.regions[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var h=l.value,d=(0,u.color)(h[6]),p=(0,u.color)(h[7]);p||(p=d);var v=c.utils.rgb2hex([d.r/255,d.g/255,d.b/255]),g=c.utils.rgb2hex([p.r/255,p.g/255,p.b/255]);r.lineStyle(1,g,p.opacity),r.beginFill(v,d.opacity);var m=this._xScale(this.chromInfo.chrPositions[h[0]].pos+ +h[1]),y=this._xScale(this.chromInfo.chrPositions[h[0]].pos+ +h[2]),b=this._yScale(this.chromInfo.chrPositions[h[3]].pos+ +h[4]),w=this._yScale(this.chromInfo.chrPositions[h[3]].pos+ +h[5]),x=y-m,_=w-b,k=void 0!==h[8]?h[8]:e,S=void 0!==h[9]?h[9]:n;x<k&&(m=(m+y)/2-k/2,x=k),_<S&&(b=(b+w)/2-S/2,_=S),r.drawRect(m,b,x,_)}}catch(e){o=!0,a=e}finally{try{!i&&f.return&&f.return()}finally{if(o)throw a}}}}return e}()},{key:"setPosition",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()}]),t}(f.PixiTrack);t.default=d},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Chromosome2DGrid=void 0;var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),l=n(10),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),f=n(26),h=n(42),d=n(65),p=n(3),v=t.Chromosome2DGrid=function(e){function t(e,n,o,a,s,u){r(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s));l.searchField=null,l.chromInfo=null,l.animate=s;var f=u;return f||(f=n.server+"/chrom-sizes/?id="+n.tilesetUid),(0,h.ChromosomeInfo)(f,function(e){l.chromInfo=e,l.searchField=new d.SearchField(l.chromInfo),l.texts=[],l.lineGraphics=new c.Graphics,l.pMain.addChild(l.lineGraphics),l.draw(),l.animate()}),l}return o(t,e),s(t,[{key:"drawLines",value:function(){function e(){var e=this.lineGraphics,t=(0,p.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),n=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;e.clear(),e.lineStyle(n,t,1),e.moveTo(this._xScale(0),0),e.lineTo(this._xScale(0),this.dimensions[1]),e.moveTo(0,this._yScale(0)),e.lineTo(this.dimensions[0],this._yScale(0));for(var r=0;r<this.chromInfo.cumPositions.length;r++){var i=this.chromInfo.cumPositions[r],o=i.pos+ +this.chromInfo.chromLengths[i.chr]+1;e.moveTo(0,this._yScale(o)),e.lineTo(this.dimensions[0],this._yScale(o)),e.moveTo(this._xScale(o),0),e.lineTo(this._xScale(o),this.dimensions[1])}}return e}()},{key:"draw",value:function(){function e(){this.texts&&this.searchField&&this.drawLines()}return e}()},{key:"setPosition",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this)){var r=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this),i=a(r,2);n=i[0],e=i[1]}else n=document.createElement("g"),e=n;var o=document.createElement("g");if(e.appendChild(o),n.setAttribute("id","Chromosome2DGrid"),o.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")"),!this.chromInfo)return[n,e];for(var s=this.options.gridStrokeColor?this.options.gridStrokeColor:"blue",l=this.options.gridStrokeWidth,c=0;c<this.chromInfo.cumPositions.length;c++){var f=this.chromInfo.cumPositions[c],h=f.pos+ +this.chromInfo.chromLengths[f.chr]+1,d=document.createElement("line");d.setAttribute("x1",0),d.setAttribute("x2",this.dimensions[0]),d.setAttribute("y1",this._yScale(h)),d.setAttribute("y2",this._yScale(h)),d.setAttribute("stroke",s),d.setAttribute("stroke-width",l),o.appendChild(d),d=document.createElement("line"),d.setAttribute("x1",this._xScale(h)),d.setAttribute("x2",this._xScale(h)),d.setAttribute("y1",0),d.setAttribute("y1",this.dimensions[1]),d.setAttribute("stroke",s),d.setAttribute("stroke-width",l),o.appendChild(d)}return[n,e]}return e}()}]),t}(f.PixiTrack);t.default=v},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Chromosome2DLabels=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),u=n(26),l=n(42),c=n(65),f=n(66),h=function(e){return e&&e.__esModule?e:{default:e}}(f),d=n(3),p=t.Chromosome2DLabels=function(e){function t(e,n,o,a,s,u){r(this,t);var f=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,u));f.searchField=null,f.chromInfo=null,f.animate=u;var h=n+"/chrom-sizes/?id="+o;return(0,l.ChromosomeInfo)(h,function(e){f.chromInfo=e,f.searchField=new c.SearchField(f.chromInfo),f.draw(),f.texts=[];for(var t=0;t<f.chromInfo.cumPositions.length;t++){for(var n=[],r=0;r<f.chromInfo.cumPositions.length;r++){var i=f.chromInfo.cumPositions[t].chr+"/"+f.chromInfo.cumPositions[r].chr,o=new PIXI.Text(i,{fontSize:"14px",fontFamily:"Arial",fill:"red"});o.anchor.x=.5,o.anchor.y=.5,o.visible=!1,o.hashValue=Math.random(),n.push(o),f.pMain.addChild(o)}f.texts.push(n)}f.draw(),f.animate()}),f}return o(t,e),a(t,[{key:"draw",value:function(){function e(){var e=[];if(this.texts&&this.searchField){for(var t=(0,d.absToChr)(this._xScale.domain()[0],this.chromInfo),n=(0,d.absToChr)(this._xScale.domain()[1],this.chromInfo),r=(0,d.absToChr)(this._yScale.domain()[0],this.chromInfo),i=(0,d.absToChr)(this._yScale.domain()[1],this.chromInfo),o=0;o<this.texts.length;o++)for(var a=0;a<this.texts.length;a++)this.texts[o][a].visible=!1;for(var s=t[3];s<=n[3];s++)for(var u=r[3];u<=i[3];u++){var l=this.chromInfo.cumPositions[s],c=this.chromInfo.cumPositions[u],f=l.pos+this.chromInfo.chromLengths[l.chr]/2,h=c.pos+this.chromInfo.chromLengths[c.chr]/2,p=this._xScale(f),v=this._yScale(h),g=this.texts[s][u];g.x=p,g.y=v,g.updateTransform();var m=g.getBounds();p+m.width/2>this.dimensions[0]?g.x-=p+m.width/2-this.dimensions[0]:p-m.width/2<0&&(g.x-=p-m.width/2),v+m.height/2>this.dimensions[1]?g.y-=v+m.height/2-this.dimensions[1]:v-m.height/2<0&&(g.y-=v-m.height/2),g.visible=!0,e.push({importance:this.texts[s][u].hashValue,text:this.texts[s][u],caption:null})}this.hideOverlaps(e)}}return e}()},{key:"hideOverlaps",value:function(){function e(e){var t=[];t=e.map(function(e){var t=e.text;t.updateTransform();var n=t.getBounds();return[n.x,n.y,n.x+n.width,n.y+n.height]}),(0,h.default)(t,function(t,n){e[t].importance>e[n].importance?e[n].text.visible=0:e[t].text.visible=0})}return e}()},{key:"setPosition",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()}]),t}(u.PixiTrack);t.default=p},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CloseTrackMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),l=r(u),c=n(0),f=r(c),h=n(51),d=r(h),p=n(6);n(37);var v=t.CloseTrackMenu=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.seriesRefs={},n}return a(t,e),s(t,[{key:"getSeriesItems",value:function(){function e(){var e=this;if(!this.props.track)return null;var t={};return p.TRACKS_INFO.forEach(function(e){t[e.type]=e}),(this.props.track.contents?this.props.track.contents:[this.props.track]).map(function(n){var r=t[n.type].thumbnail,i=t[n.type].thumbnail?f.default.createElement("div",{dangerouslySetInnerHTML:{__html:r.outerHTML},className:"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}):f.default.createElement("div",{className:"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"},f.default.createElement("svg",{width:30,height:20}));return f.default.createElement("div",{key:n.uid,ref:function(){function t(t){e.seriesRefs[n.uid]=t}return t}(),onClick:function(){function t(){return e.props.onCloseTrack(n.uid)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},i,f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},n.name&&n.name.length?n.name:n.uid))})}return e}()},{key:"render",value:function(){function e(){var e=this;return f.default.createElement("div",null,this.getSeriesItems(),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(d.default,{onClick:function(){function t(){return e.props.onCloseTrack(e.props.track.uid)}return t}()},"Close track"))}return e}()}]),t}(f.default.Component);v.propTypes={onCloseTrack:l.default.func.isRequired,track:l.default.object.isRequired},t.default=v},function(e,t){function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){var i=this;r(this,e),this.childTracks=t.map(n),this.createdTracks={},this.childTracks.forEach(function(e,n){i.createdTracks[t[n].uid]=e});for(var o=0;o<this.childTracks.length;o++)this.childTracks[o]||console.error("Empty child track in CombinedTrack:",this)}return i(e,[{key:"updateContents",value:function(){function e(e,t){var r=this,i=[],o=new Set;e.forEach(function(e){if(o.add(e.uid),e.uid in r.createdTracks)i.push(r.createdTracks[e.uid]);else{var n=t(e);n.setPosition(r.position),n.setDimensions(r.dimensions),i.push(n),n.zoomed(r._xScale,r._yScale),r.createdTracks[e.uid]=n}}),this.childTracks=i;var a=new Set(Object.keys(this.createdTracks));return[].concat(n(new Set([].concat(n(a)).filter(function(e){return!o.has(e)})))).forEach(function(e){r.createdTracks[e].remove(),delete r.createdTracks[e]}),this}return e}()},{key:"setPosition",value:function(){function e(e){this.position=e;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].setPosition(e)}return e}()},{key:"setDimensions",value:function(){function e(e){this.dimensions=e;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].setDimensions(e)}return e}()},{key:"zoomed",value:function(){function e(e,t,n,r,i,o,a){this._xScale=e,this._yScale=t;for(var s=0;s<this.childTracks.length;s++)this.childTracks[s].zoomed(e,t,n,r,i,o,a)}return e}()},{key:"refXScale",value:function(){function e(e){for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].refXScale(e)}return e}()},{key:"refYScale",value:function(){function e(e){for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].refYScale(e)}return e}()},{key:"draw",value:function(){function e(){for(var e=0;e<this.childTracks.length;e++)this.childTracks[e].draw()}return e}()},{key:"xScale",value:function(){function e(e){this._xScale=e;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].xScale(e)}return e}()},{key:"yScale",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){this._yScale=yScale;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].yScale(yScale)})},{key:"refScalesChanged",value:function(){function e(e,t){for(var n=0;n<this.childTracks.length;n++)this.childTracks[n].refScalesChanged(e,t)}return e}()},{key:"remove",value:function(){function e(){for(var e=0;e<this.childTracks.length;e++)this.childTracks[e].remove()}return e}()},{key:"exportSVG",value:function(){function e(){var e=document.createElement("g"),t=!0,n=!1,r=void 0;try{for(var i,o=this.childTracks[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;a.exportSVG&&e.appendChild(a.exportSVG()[0])}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return[e,e]}return e}()},{key:"rerender",value:function(){function e(e){}return e}()},{key:"minValue",value:function(){function e(){if(0==arguments.length){var e=this.childTracks.filter(function(e){return e.minValue}).map(function(e){return e.minValue()}).filter(function(e){return e});return Math.min.apply(Math,n(e))}var t=!0,r=!1,i=void 0;try{for(var o,a=this.childTracks[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;s.minValue&&s.minValue(_)}}catch(e){r=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw i}}}return e}()},{key:"maxValue",value:function(){function e(e){if(0==arguments.length){var t=this.childTracks.filter(function(e){return e.maxValue}).map(function(e){return e.maxValue()}).filter(function(e){return e});return Math.max.apply(Math,n(t))}var r=!0,i=!1,o=void 0;try{for(var a,s=this.childTracks[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;u.maxValue&&u.maxValue(e)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}return e}()}]),e}();t.CombinedTrack=o,t.default=o},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigTrackMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),l=n(0),c=r(l),f=n(50),h=r(f),d=n(51),p=r(d),v=n(283),g=n(6);n(37);var m=t.ConfigTrackMenu=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.seriesRefs={},n.seriesListMenu=null,n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this)}return e}()},{key:"getSeriesItems",value:function(){function e(){var e=this;if(!this.props.track)return null;var t={};return g.TRACKS_INFO.forEach(function(e){t[e.type]=e}),(this.props.track.contents?this.props.track.contents:[this.props.track]).map(function(n){var r=t[n.type].thumbnail,i=t[n.type].thumbnail?c.default.createElement("div",{dangerouslySetInnerHTML:{__html:r.outerHTML},style:{display:"inline-block",marginRight:10,verticalAlign:"middle"}}):c.default.createElement("div",{style:{display:"inline-block",marginRight:10,verticalAlign:"middle"}},c.default.createElement("svg",{height:20,width:30}));return c.default.createElement(p.default,{key:n.uid,onMouseEnter:function(){function t(t){return e.handleItemMouseEnter(t,n)}return t}(),onMouseLeave:function(){function t(t){return e.handleMouseLeave(t)}return t}(),ref:function(){function t(t){return e.seriesRefs[n.uid]=t}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},i,c.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},n.name&&n.name.length?n.name:n.uid,c.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},c.default.createElement("use",{xlinkHref:"#play"}))))})}return e}()},{key:"getSubmenu",value:function(){function e(){var e=this;if(this.state.submenuShown){var t=this.state.submenuSourceBbox,n=null;n="left"==this.state.orientation?{left:this.state.left,top:t.top}:{left:this.state.left+t.width+7,top:t.top};var r=this.props.track.contents?this.props.track.contents.filter(function(t){return t.uid==e.state.submenuShown.uid})[0]:this.props.track;return c.default.createElement(v.SeriesListMenu,{closeMenu:this.props.closeMenu,hostTrack:this.props.track,onAddSeries:this.props.onAddSeries,onChangeTrackType:this.props.onChangeTrackType,onCloseTrack:function(){function t(){return e.props.onCloseTrack(e.state.submenuShown.uid)}return t}(),onConfigureTrack:this.props.onConfigureTrack,onExportData:this.props.onExportData,onLockScales:this.props.onLockScales,onTrackOptionsChanged:this.props.onTrackOptionsChanged,onDivideSeries:this.props.onDivideSeries,orientation:this.state.orientation,ref:function(){function t(t){return e.seriesListMenu=t}return t}(),parentBbox:t,position:n,series:this.state.submenuShown,track:r,trackOrientation:this.props.trackOrientation})}return c.default.createElement("div",null)}return e}()},{key:"render",value:function(){function e(){var e=this;return c.default.createElement("div",{ref:function(){function t(t){return e.div=t}return t}(),style:{left:this.state.left,top:this.state.top},className:"ContextMenu-module_context-menu-2OwvL"},this.getSeriesItems(),c.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),c.default.createElement(p.default,{contextMenu:this,onClick:function(){function t(){return e.props.onLockValueScale(e.props.track.uid)}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}()},"Lock Value Scale With"),c.default.createElement(p.default,{contextMenu:this,onClick:function(){function t(){return e.props.onUnlockValueScale(e.props.track.uid)}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}()},"Unlock Value Scale"),c.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),c.default.createElement(p.default,{contextMenu:this,onClick:function(){function t(){return e.props.onAddSeries(e.props.track.uid)}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}()},"Add Series"),c.default.createElement(p.default,{onClick:function(){function t(){return e.props.onCloseTrack(e.props.track.uid)}return t}()},"Close Track"),c.default.createElement(p.default,{onClick:function(){function t(){e.props.onReplaceTrack(e.props.track.uid,e.props.trackOrientation)}return t}()},"Replace Track"),this.getSubmenu())}return e}()}]),t}(h.default);t.default=m},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigViewMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),c=n(2),f=r(c),h=n(51),d=r(h);n(37);var p=t.ConfigViewMenu=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){function e(){var e=this;return l.default.createElement("div",null,l.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onTogglePositionSearchBox(t)}return t}()},"Toggle position search box"),l.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),l.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onZoomToData(t)}return t}()},"Zoom to data extent"),l.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),l.default.createElement(d.default,{
onClick:function(){function t(t){return e.props.onClearView(t)}return t}()},"Clear View"),l.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),l.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onYankZoom(t)}return t}()},"Take zoom from"),l.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onYankLocation(t)}return t}()},"Take location from"),l.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onYankZoomAndLocation(t)}return t}()},"Take zoom and location from"),l.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),l.default.createElement(d.default,{onClick:this.props.onLockZoom},"Lock zoom with"),l.default.createElement(d.default,{onClick:this.props.onLockLocation},"Lock location with"),l.default.createElement(d.default,{onClick:this.props.onLockZoomAndLocation},"Lock zoom and location with"),l.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),l.default.createElement(d.default,{onClick:this.props.onTakeAndLockZoomAndLocation},"Take and lock zoom and location with"),l.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),l.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onUnlockZoom(t)}return t}()},"Unlock zoom"),l.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onUnlockLocation(t)}return t}()},"Unlock location"),l.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onUnlockZoomAndLocation(t)}return t}()},"Unlock zoom and location"),l.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),l.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onProjectViewport(t)}return t}()},"Show this viewport on"),l.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),l.default.createElement(d.default,{onClick:function(){function t(){return e.props.onExportSVG()}return t}()},"Export views as SVG"),l.default.createElement(d.default,{onClick:function(){function t(){return e.props.onExportViewAsJSON()}return t}()},"Export views as JSON"),l.default.createElement(d.default,{onClick:function(){function t(){return e.props.onExportViewAsLink()}return t}()},"Export views as Link"))}return e}()}]),t}(l.default.Component);p.propTypes={onExportSVG:f.default.func,onExportViewAsJSON:f.default.func,onExportViewAsLink:f.default.func,onLockLocation:f.default.func,onLockZoom:f.default.func,onLockZoomAndLocation:f.default.func,onProjectViewport:f.default.func,onTakeAndLockZoomAndLocation:f.default.func,onTogglePositionSearchBox:f.default.func,onUnlockLocation:f.default.func,onUnlockZoom:f.default.func,onUnlockZoomAndLocation:f.default.func,onYankLocation:f.default.func,onYankZoom:f.default.func,onYankZoomAndLocation:f.default.func,onZoomToData:f.default.func},t.default=p},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(9),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(3),u=n(7),l=n(63),c=function(){function e(t){r(this,e),this.tilesetInfoLoading=!0,this.dataConfig=JSON.parse(JSON.stringify(t)),this.uuid=a.default.nice(),this.dataConfig.children&&(this.dataConfig.children=t.children.map(function(t){return new e(t)}))}return i(e,[{key:"tilesetInfo",value:function(){function e(e){var t=this;if(this.dataConfig.children){var n=this.dataConfig.children.map(function(e){return new Promise(function(t,n){e.tilesetInfo(t)})});Promise.all(n).then(function(t){e(t[0])})}else this.dataConfig.server||this.dataConfig.tilesetUid?u.tileProxy.trackInfo(this.dataConfig.server,this.dataConfig.tilesetUid,function(n){e(n[t.dataConfig.tilesetUid])}):(console.warn("No dataConfig children, server or tilesetUid:",this.dataConfig),e(null))}return e}()},{key:"fullTileId",value:function(){function e(e,t){return e+"."+t}return e}()},{key:"fetchTilesDebounced",value:function(){function e(e,t){var n=this;if(this.dataConfig.children){var r=this.dataConfig.children.map(function(e){return new Promise(function(n,r){e.fetchTilesDebounced(n,t)})});Promise.all(r).then(function(r){if("divided"==n.dataConfig.type){r.length<2&&console.warn("Only one tileset specified for a divided datafetcher:",n.dataConfig);for(var i=(0,s.dictValues)(r[0])[0].tilesetUid,o=(0,s.dictValues)(r[1])[0].tilesetUid,a={},u=0;u<t.length;u++){n.fullTileId(i,t[u]),n.fullTileId(o,t[u]),newData=n.divideData(r[0][t[u]].dense,r[1][t[u]].dense);var c=r[0][t[u]].zoomLevel,f=r[0][t[u]].tilePos,h={dense:newData,minNonZero:(0,l.minNonZero)(newData),maxNonZero:(0,l.maxNonZero)(newData),zoomLevel:c,tilePos:f,tilePositionId:t[u]};a[t[u]]=h}e(a)}else console.warn("Unimplemented dataConfig type. Returning first data source.",n.dataConfig),e(r[0])})}else new Promise(function(e,r){return u.tileProxy.fetchTilesDebounced({id:a.default.nice(),server:n.dataConfig.server,done:e,ids:t.map(function(e){return n.dataConfig.tilesetUid+"."+e})})}).then(function(r){for(var i=(0,s.dictValues)(r)[0].tilesetUid,o={},a=0;a<t.length;a++){var u=n.fullTileId(i,t[a]);r[u].tilePositionId=t[a],o[t[a]]=r[u]}e(o)})}return e}()},{key:"divideData",value:function(){function e(e,t){for(var n=new Float32Array(e.length),r=0;r<n.length;r++)0==t[r]?n[r]=NaN:n[r]=e[r]/t[r];return n}return e}()}]),e}();t.default=c},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DivergentBarTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(13),u=n(140),l=n(3),c=t.DivergentBarTrack=function(e){function t(e,n,o,a,s,u){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,u))}return o(t,e),a(t,[{key:"renderTile",value:function(){function e(e){if(e.graphics){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),r=n.tileX,i=n.tileWidth,o=e.tileData.dense;if(0!=o.length){var a=0;if(this.valueScale=null,"log"==this.options.valueScaling){var u=this.medianVisibleValue;this.medianVisibleValue||(u=this.minVisibleValue()),this.valueScale=(0,s.scaleLog)().domain([u,this.maxValue()+u]).range([this.dimensions[1],0]),a=u}else this.valueScale=(0,s.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(t.clear(),this.drawAxis(this.valueScale),"log"==this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var c=(0,l.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),f=(0,s.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([r,r+i]);t.lineStyle(0,c,1);var h=this.options.barFillColorTop?this.options.barFillColorTop:"green",d=this.options.barFillColorBottom?this.options.barFillColorBottom:"red",p=(0,l.colorToHex)(h),v=(0,l.colorToHex)(d),g="barOpacity"in this.options?this.options.barOpacity:1;e.drawnAtScale=this._xScale.copy();var m=0;m="log"==this.options.valueScaling?this.valueScale(1):this.valueScale(0);for(var y=0;y<o.length;y++){var b=this._xScale(f(y)),w=this.valueScale(o[y]+a),x=this._xScale(f(y+1))-b;if(this.dimensions[1],w>m?(t.beginFill(v,g),e.barYValues[y]=m,e.barHeights[y]=w-m,e.barColors[y]=d):(t.beginFill(p,g),e.barYValues[y]=w,e.barHeights[y]=m-w,e.barColors[y]=h),e.barXValues[y]=b,e.barWidths[y]=x,f(y)>this.tilesetInfo.max_pos[0])break;t.drawRect(b,e.barYValues[y],x,e.barHeights[y])}}}}return e}()}]),t}(u.BarTrack);t.default=c},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DraggableDiv=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(97),c=n(4),f=n(2),h=r(f),d=n(0),p=r(d);n(503);var v=t.DraggableDiv=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dragTopRight=(0,l.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopRightFunc.bind(n)),n.dragTopLeft=(0,l.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopLeftFunc.bind(n)),n.dragBottomRight=(0,l.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomRightFunc.bind(n)),n.dragBottomLeft=(0,l.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomLeftFunc.bind(n)),n.dragBottom=(0,l.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomFunc.bind(n)),n.dragTop=(0,l.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopFunc.bind(n)),n.dragLeft=(0,l.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragLeftFunc.bind(n)),n.dragRight=(0,l.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragRightFunc.bind(n)),n.minWidth=10,n.minHeight=10,n.bottomHandleWidth=20,n.state={uid:n.props.uid,width:n.props.width,height:n.props.height,top:n.props.top,left:n.props.left},n.domBody=(0,c.select)("body").node(),n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){function e(){(0,c.select)(this.bottomHandle).call(this.dragBottom),(0,c.select)(this.topHandle).call(this.dragTop),(0,c.select)(this.leftHandle).call(this.dragLeft),(0,c.select)(this.rightHandle).call(this.dragRight)}return e}()},{key:"componentWillReceiveProps",value:function(){function e(e){"width"in e&&this.setState({width:e.width}),"height"in e&&this.setState({height:e.height})}return e}()},{key:"dragBottomFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n={height:t};this.setState(n),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragLeftFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartLeft+e[0]-this.dragStartMousePos[0];n=t>this.minWidth?n:this.dragStartLeft+this.dragStartWidth-this.minWidth;var r={left:n,width:t};this.setState(r),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragTopFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartTop+e[1]-this.dragStartMousePos[1];n=t>this.minHeight?n:this.dragStartTop+this.dragStartHeight-this.minHeight;var r={top:n,height:t};this.setState(r),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragRightFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n={width:t};this.setState(n),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragBottomLeftFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);n=n>this.minWidth?n:this.minWidth;var r=this.dragStartLeft+e[0]-this.dragStartMousePos[0];r=n>this.minWidth?r:this.dragStartLeft+this.dragStartWidth-this.minWidth;var i={top:this.state.top,left:r,width:n,height:t};this.setState(i),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragBottomRightFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);n=n>this.minHeight?n:this.minHeight;var r={top:this.state.top,left:this.state.left,width:t,height:n};this.setState(r),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragTopRightFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartTop+e[1]-this.dragStartMousePos[1];n=t>this.minHeight?n:this.dragStartTop+this.dragStartHeight-this.minHeight;var r=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);r=r>this.minWidth?r:this.minWidth;var i={top:n,left:this.state.left,width:r,height:t};this.setState(i),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragTopLeftFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartLeft+e[0]-this.dragStartMousePos[0];n=t>this.minWidth?n:this.dragStartLeft+this.dragStartWidth-this.minWidth;var r=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);r=r>this.minHeight?r:this.minHeight;var i=this.dragStartTop+e[1]-this.dragStartMousePos[1];i=r>this.minHeight?i:this.dragStartTop+this.dragStartHeight-this.minHeight;var o={top:i,left:n,width:t,height:r};this.setState(o),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragStart",value:function(){function e(){this.dragStartMousePos=(0,c.mouse)(this.domBody),this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,this.dragStartTop=this.state.top,this.dragStartLeft=this.state.left,c.event.sourceEvent.stopPropagation()}return e}()},{key:"sizeChanged",value:function(){function e(){"sizeChanged"in this.props&&this.props.sizeChanged(this.state)}return e}()},{key:"rotateClicked",value:function(){function e(){this.props.trackRotated(this.state.uid)}return e}()},{key:"closeClicked",value:function(){function e(){this.props.trackClosed(this.state.uid)}return e}()},{key:"render",value:function(){function e(){var e=this,t={top:this.state.top,left:this.state.left,width:this.state.width,height:this.state.height,backgroundColor:"transparent",boxSizing:"border-box",opacity:this.props.opacity},n={position:"absolute",left:this.state.width/2-5,bottom:1,width:10,opacity:.2,height:4,borderBottom:"1px solid black",borderTop:"1px solid black",cursor:"row-resize"},r={position:"absolute",left:this.state.width/2-5,top:1,width:10,opacity:.2,height:4,borderBottom:"1px solid black",borderTop:"1px solid black",cursor:"row-resize"},o={position:"absolute",left:1,top:this.state.height/2-5,opacity:.2,width:4,height:10,borderLeft:"1px solid black",borderRight:"1px solid black",cursor:"col-resize"},a={position:"absolute",right:1,opacity:.2,top:this.state.height/2-5,width:4,height:10,borderLeft:"1px solid black",borderRight:"1px solid black",cursor:"col-resize"},s={bottom:p.default.createElement("div",{className:"bottom-draggable-handle",key:"bottom",ref:function(){function t(t){return e.bottomHandle=t}return t}(),style:n}),top:p.default.createElement("div",{className:"top-draggable-handle",key:"top",ref:function(){function t(t){return e.topHandle=t}return t}(),style:r}),right:p.default.createElement("div",{className:"right-draggable-handle",key:"right",ref:function(){function t(t){return e.rightHandle=t}return t}(),style:a}),left:p.default.createElement("div",{className:"left-draggable-handle",key:"left",ref:function(){function t(t){return e.leftHandle=t}return t}(),style:o})},u=[].concat(i(this.props.resizeHandles)).map(function(e){return s[e]});return p.default.createElement("div",{className:this.props.className,ref:function(){function t(t){return e.divContainer=t}return t}(),style:t},u)}return e}()}]),t}(p.default.Component);v.propTypes={className:h.default.string,height:h.default.number,left:h.default.number,opacity:h.default.number,resizeHandles:h.default.object,sizeChanged:h.default.func,top:h.default.number,trackClosed:h.default.func,trackRotated:h.default.func,uid:h.default.string,width:h.default.number},t.default=v},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ExportLinkModal=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(201);var u=n(0),l=r(u),c=n(11),f=(r(c),n(240),n(145)),h=(r(f),n(9)),d=(r(h),n(62)),p=t.ExportLinkModal=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),s(t,[{key:"render",value:function(){function e(){var e=this.props.linkLocation?l.default.createElement("input",{style:{width:500},value:this.props.linkLocation,readOnly:!0}):l.default.createElement("div",null,l.default.createElement("span",{className:"glyphicon glyphicon-refresh glyphicon-refresh-animate","aria-hidden":"true"}),l.default.createElement("span",null,"We are generating your link..."));return l.default.createElement("div",{className:"modal-container",style:{position:"absolute",left:0,top:0,height:this.props.height,width:this.props.width}},l.default.createElement(d.Modal,{onHide:this.props.onDone,container:this,className:"hg-modal",show:!0},l.default.createElement(d.Modal.Header,{closeButton:!0},l.default.createElement(d.Modal.Title,null,"Share view link")),l.default.createElement(d.Modal.Body,null,e),l.default.createElement(d.Modal.Footer,null,l.default.createElement(d.Button,{onClick:this.props.onDone},"Done"))))}return e}()}]),t}(l.default.Component);t.default=p},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.GenomePositionSearchBox=void 0;var u=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(28),f=r(c),h=(n(34),n(403)),d=n(4),p=n(0),v=r(p),g=n(7),m=n(9),y=r(m),b=n(62),w=n(2),x=r(w),_=n(250),k=r(_),S=n(42),O=n(65),T=n(84),C=r(T),E=n(3),P=n(507),M=r(P),A={styles:{"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU","genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},j=t.GenomePositionSearchBox=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mounted=!1,n.uid=y.default.nice(),n.chromInfo=null,n.searchField=null,n.autocompleteMenu=null,n.xScale=null,n.yScale=null,n.prevParts=[],n.props.registerViewportChangedListener(n.scalesChanged.bind(n)),n.menuPosition={left:0,top:0},n.state={value:"chr4:190,998,876-191,000,255",loading:!1,menuPosition:[0,0],genes:[],isFocused:!1,menuOpened:!1,autocompleteServer:n.props.autocompleteServer,autocompleteId:n.props.autocompleteId,availableAssemblies:[],selectedAssembly:null},n.styles={item:{padding:"2px 6px",cursor:"default"},highlightedItem:{color:"white",background:"hsl(200, 50%, 50%)",padding:"2px 6px",cursor:"default"},menu:{border:"solid 1px #ccc"}},n.availableAutocompletes={},n.props.autocompleteId&&(n.availableAutocompletes[n.props.chromInfoId]=new Set([{server:n.props.autocompleteServer,acId:n.props.autocompleteId}])),n.availableChromSizes={},n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){function e(){this.mounted=!0,(0,d.select)(this.autocompleteMenu.inputEl).on("keypress",this.autocompleteKeyPress.bind(this)),this.findAvailableAutocompleteSources(),this.findAvailableChromSizes(),this.setPositionText()}return e}()},{key:"componentWillUnmount",value:function(){function e(){this.mounted=!1,this.props.removeViewportChangedListener()}return e}()},{key:"fetchChromInfo",value:function(){function e(e){var t=this;if(this.mounted&&this.availableChromSizes[e]){var n=[].concat(i(this.availableChromSizes[e]))[0];this.setState({autocompleteServer:n.server}),(0,S.ChromosomeInfo)(n.server+"/chrom-sizes/?id="+n.uuid,function(r){if(t.chromInfo=r,t.searchField=new O.SearchField(t.chromInfo),t.setPositionText(),t.gpsbForm&&t.setState({selectedAssembly:e}),t.availableAutocompletes[e]){var o=[].concat(i(t.availableAutocompletes[e]))[0].acId;t.props.onSelectedAssemblyChanged(e,o,n.server),t.gpsbForm&&t.setState({autocompleteId:o})}else t.props.onSelectedAssemblyChanged(e,null,n.server),t.gpsbForm&&t.setState({autocompleteId:null})})}}return e}()},{key:"findAvailableAutocompleteSources",value:function(){function e(){var e=this;this.props.trackSourceServers.forEach(function(t){g.tileProxy.json(t+"/tilesets/?limit=100&dt=gene-annotation",function(n,r){n?console.error(n):(r.results.map(function(n){n.coordSystem in e.availableAutocompletes||(e.availableAutocompletes[n.coordSystem]=new Set),e.availableAutocompletes[n.coordSystem].add({server:t,acId:n.uuid}),e.setAvailableAssemblies()}),e.state.autocompleteId||e.gpsbForm&&e.availableAutocompletes[e.props.chromInfoId]&&e.setState({autocompleteId:[].concat(i(e.availableAutocompletes[e.props.chromInfoId]))[0].acId}))})})}return e}()},{key:"findAvailableChromSizes",value:function(){function e(){var e=this;this.props.trackSourceServers.forEach(function(t){g.tileProxy.json(t+"/available-chrom-sizes/",function(n,r){n?console.error(n):(r.results.map(function(n){n.uuid in e.availableChromSizes||(e.availableChromSizes[n.coordSystem]=new Set),e.availableChromSizes[n.coordSystem].add({server:t,uuid:n.uuid}),e.setAvailableAssemblies()}),e.searchField||e.fetchChromInfo(e.props.chromInfoId))})})}return e}()},{key:"setAvailableAssemblies",value:function(){function e(){var e=(new Set((0,E.dictKeys)(this.availableAutocompletes)),new Set((0,E.dictKeys)(this.availableChromSizes))),t=new Set([].concat(i(e)));this.gpsbForm&&this.setState({availableAssemblies:[].concat(i(t))})}return e}()},{key:"scalesChanged",value:function(){function e(e,t){this.xScale=e,this.yScale=t,this.setPositionText()}return e}()},{key:"setPositionText",value:function(){function e(){if(this.mounted&&this.searchField){var e=this.searchField.scalesToPositionText(this.xScale,this.yScale,this.props.twoD);this.prevParts=e.split(/[ -]/),this.gpsbForm&&this.setState({value:e})}}return e}()},{key:"autocompleteKeyPress",value:function(){function e(){13==d.event.keyCode&&this.buttonClick()}return e}()},{key:"replaceGenesWithLoadedPositions",value:function(){function e(e){for(var t=this.state.value.split(" "),n=0;n<t.length;n++)for(var r=t[n].split("-"),i=0;i<r.length;i++){var o=e[r[i].toLowerCase()];if(o){var a=Math.floor((o.txEnd-o.txStart)/4);1==r.length?r[i]=o.chr+":"+(o.txStart-a)+"-"+(o.txEnd+a):r[i]=0==i?o.chr+":"+(o.txStart-a):o.chr+":"+(o.txEnd+a),t[n]=r.join("-")}}var s=t.join(" ");this.prevParts=s.split(/[ -]/),this.setState({value:s})}return e}()},{key:"replaceGenesWithPositions",value:function(){function e(e){for(var t=this,n=this.state.value.split(/[ -]/),r=(0,h.queue)(),i=0;i<n.length;i++)if(0!=n[i].length){var o=this.searchField.parsePosition(n[i]),a=u(o,3),s=(a[0],a[1],a[2]);if(null==s||isNaN(s)){var l=this.state.autocompleteServer+"/suggest/?d="+this.state.autocompleteId+"&ac="+n[i].toLowerCase();r=r.defer(g.tileProxy.json,l)}}r.awaitAll(function(n,r){if(r){for(var i={},o=0;o<r.length;o++)if(r[o][0])for(var a=0;a<r[o].length;a++)i[r[o][a].geneName.toLowerCase()]=r[o][a];t.replaceGenesWithLoadedPositions(i),e()}})}return e}()},{key:"buttonClick",value:function(){function e(){var e=this;this.setState({genes:[]}),this.replaceGenesWithPositions(function(){var t=e.state.value;if(null!=e.searchField){var n=e.searchField.searchPosition(t),r=u(n,2),i=r[0],o=r[1];if(i&&(isNaN(i[0])||isNaN(i[1]))||o&&(isNaN(o[0])||isNaN(o[1])))return;o||(o=i);var a=e.xScale.copy().domain(i),s=e.yScale.copy().domain(o),l=(0,E.scalesCenterAndK)(a,s),c=u(l,3),f=c[0],h=c[1],d=c[2];e.props.setCenters(f,h,d,!0)}})}return e}()},{key:"searchFieldSubmit",value:function(){function e(){this.buttonClick()}return e}()},{key:"pathJoin",value:function(){function e(e,t){var n=t||"/",r=new RegExp(n+"{1,}","g");return e.join(n).replace(r,n)}return e}()},{key:"onAutocompleteChange",value:function(){function e(e,t){var n=this;this.setState({value:t,loading:!0});var r=t.split(/[ -]/);this.changedPart=null;for(var i=0;i<r.length;i++){if(i==this.prevParts.length){this.changedPart=i;break}if(r[i]!=this.prevParts[i]){this.changedPart=i;break}}if(this.prevParts=r,this.state.autocompleteServer&&this.state.autocompleteId&&null!=this.changedPart){this.setState({loading:!0});var o=this.state.autocompleteServer+"/suggest/?d="+this.state.autocompleteId+"&ac="+r[this.changedPart].toLowerCase();g.tileProxy.json(o,function(e,t){if(e)return void n.setState({loading:!1,genes:[]});n.setState({loading:!1,genes:t})})}}return e}()},{key:"geneSelected",value:function(){function e(e,t){for(var n=this.state.value.split(" "),r=this.changedPart,i=0;i<n.length;i++){var o=n[i].split("-");if(!(r>o.length-1)){o[r]=t.geneName,n[i]=o.join("-");break}r-=o.length}this.prevParts=n.join(" ").split(/[ -]/),this.setState({value:n.join(" "),genes:[]})}return e}()},{key:"handleMenuVisibilityChange",value:function(){function e(e,t){var n=t.getBoundingClientRect();this.menuPosition={left:n.left,top:n.top+n.height},this.setState({menuOpened:e})}return e}()},{key:"handleRenderMenu",value:function(){function e(e){return v.default.createElement(C.default,{children:e},v.default.createElement("div",{children:e,style:{left:this.menuPosition.left,top:this.menuPosition.top},className:"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU"}))}return e}()},{key:"handleAssemblySelect",value:function(){function e(e){this.fetchChromInfo(e),this.setState({selectedAssembly:e})}return e}()},{key:"focusHandler",value:function(){function e(e){this.setState({isFocused:e})}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.state.availableAssemblies.map(function(e){return v.default.createElement(b.MenuItem,{eventKey:e,key:e},e)}),n=this.state.isFocused?"styles.genome-position-search-focus":"styles.genome-position-search",r=this.state.isFocused?"styles.genome-position-search-bar-button-focus":"styles.genome-position-search-bar-button";return this.state.isFocused,v.default.createElement(b.FormGroup,{bsSize:"small",ref:function(){function t(t){return e.gpsbForm=t}return t}(),className:(0,f.default)(n,A)},v.default.createElement(b.DropdownButton,{bsSize:"small",className:M.default["genome-position-search-bar-button"],id:this.uid,onSelect:this.handleAssemblySelect.bind(this),ref:function(){function t(t){return e.assemblyPickButton=t}return t}(),title:this.state.selectedAssembly?this.state.selectedAssembly:"(none)"},t),v.default.createElement(k.default,{getItemValue:function(){function e(e){return e.geneName}return e}(),inputProps:{className:M.default["genome-position-search-bar"]},items:this.state.genes,menuStyle:{position:"absolute",left:this.menuPosition.left,top:this.menuPosition.top,border:"1px solid black"},onChange:this.onAutocompleteChange.bind(this),onFocus:this.focusHandler.bind(this),onMenuVisibilityChange:this.handleMenuVisibilityChange.bind(this),onSelect:function(){function t(t,n){return e.geneSelected(t,n)}return t}(),onSubmit:this.searchFieldSubmit.bind(this),ref:function(){function t(t){return e.autocompleteMenu=t}return t}(),renderItem:function(){function t(t,n){return v.default.createElement("div",{id:t.refseqid,key:t.refseqid,style:n?e.styles.highlightedItem:e.styles.item},t.geneName)}return t}(),renderMenu:this.handleRenderMenu.bind(this),value:this.state.value,wrapperStyle:{width:"100%"}}),v.default.createElement("button",{onClick:this.buttonClick.bind(this),className:(0,f.default)(r,A)},v.default.createElement(b.Glyphicon,{glyph:"search"})))}return e}()}]),t}(v.default.Component);j.propTypes={autocompleteId:x.default.string,autocompleteServer:x.default.string,chromInfoId:x.default.string,
isFocused:x.default.bool,onFocus:x.default.func,onSelectedAssemblyChanged:x.default.func,registerViewportChangedListener:x.default.func,removeViewportChangedListener:x.default.func,setCenters:x.default.func,trackSourceServers:x.default.array,twoD:x.default.bool},t.default=j},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),c=n(62),f=n(141),h=r(f),d=n(145),p=r(d);n(201);var v=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={colors:e.track.options.colorRange.slice()},n}return a(t,e),s(t,[{key:"handleColorsChanged",value:function(){function e(e){this.setState({colors:e})}return e}()},{key:"handleSubmit",value:function(){function e(){this.props.track.options.colorRange=this.state.colors,this.props.onSubmit(this.props.track.options)}return e}()},{key:"handleAddColor",value:function(){function e(){this.setState({colors:this.state.colors.concat(this.state.colors[this.state.colors.length-1])})}return e}()},{key:"handleRemoveColor",value:function(){function e(e){this.setState({colors:this.state.colors.slice(0,e).concat(this.state.colors.slice(e+1))})}return e}()},{key:"render",value:function(){function e(){var e=this,t=JSON.parse(JSON.stringify(this.props.track)),n=Object.assign(t,{options:{colorRange:this.state.colors}}),r={editable:!1,zoomFixed:!0,views:[{uid:"hmo-"+this.props.track.uid,initialXDomain:this.props.xScale?this.props.xScale.domain():[0,1],initialYDomain:this.props.yScale?this.props.yScale.domain():[0,1],tracks:{center:[n]},layout:{x:0,y:0,h:12,w:12,i:"hmo-"+this.props.track.id}}]},i=this.state.colors.map(function(t,n){var r=e.state.colors.length>2&&n===e.state.colors.length-1?l.default.createElement("div",{style:{background:"white",position:"absolute",top:0,right:0,opacity:1,width:14,height:14,borderRadius:2}},l.default.createElement("svg",{onClick:function(){function t(){return e.handleRemoveColor(n)}return t}(),style:{position:"absolute",top:2,right:2,opacity:.5,width:10,height:10},height:"10px"},l.default.createElement("use",{xlinkHref:"#cross"}))):null;return l.default.createElement("td",{key:"l"+n,style:{border:"0px solid",position:"relative",outline:"none"}},r,l.default.createElement(p.default,{key:n,color:e.state.colors[n],onChange:function(){function t(t){e.state.colors[n]=t,e.handleColorsChanged(e.state.colors)}return t}()}))}),o=this.state.colors.length<4?l.default.createElement("td",{style:{border:"0px solid",position:"relative",outline:"none"}},l.default.createElement("div",{style:{height:24,marginLeft:5}},l.default.createElement("svg",{onClick:this.handleAddColor.bind(this),style:{opacity:.5},width:"10px",height:"10px"},l.default.createElement("use",{xlinkHref:"#plus"})))):null;return l.default.createElement(c.Modal,{onHide:this.props.handleCancel,show:!0,className:"hg-modal"},l.default.createElement(c.Modal.Header,{closeButton:!0},l.default.createElement(c.Modal.Title,null,"Heatmap Options")),l.default.createElement(c.Modal.Body,null,l.default.createElement("table",{className:"table-track-options"},l.default.createElement("thead",null),l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("td",{className:"td-track-options"},"Colors")),l.default.createElement("tr",null,l.default.createElement("td",{className:"td-track-options"},l.default.createElement("table",null,l.default.createElement("tbody",null,l.default.createElement("tr",null,i,o))))),l.default.createElement("tr",null,l.default.createElement("td",{className:"td-track-options"},"Preview")),l.default.createElement("tr",null,l.default.createElement("td",{rowSpan:"2",className:"td-track-options"},l.default.createElement("div",{style:{width:200}},l.default.createElement(h.default,{viewConfig:r,options:{bounded:!1}})))),l.default.createElement("tr",null)))),l.default.createElement(c.Modal.Footer,null,l.default.createElement(c.Button,{onClick:this.props.onCancel},"Cancel"),l.default.createElement(c.Button,{onClick:this.handleSubmit.bind(this)},"Submit")))}return e}()}]),t}(l.default.Component);t.default=v},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Horizontal2DDomainsTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),u=n(43),l=n(7),c=n(3),f=t.Horizontal2DDomainsTrack=function(e){function t(e,n,o,a,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s));return u.drawnRects=new Set,u.pMain=u.pMobile,u}return o(t,e),a(t,[{key:"tileToLocalId",value:function(){function e(e){return this.tilesetUid+"."+e.join(".")}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return this.tilesetUid+"."+e.join(".")}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=l.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=l.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map(function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}}),this.visibleTileIds=new Set(this.visibleTiles.map(function(e){return e.tileId}))}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var e=this._xScale.copy();this._xScale.domain()[1],this._xScale.domain()[0],this._xScale.range()[1],this._xScale.range()[0],e.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.xTiles=l.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=l.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var t=this.xTiles,n=this.yTiles,r=this.zoomLevel,i=this.tilesetInfo.max_width,o=i/Math.pow(2,r),a=[],s=0;s<t.length;s++)for(var u=s;u<n.length;u++){var c=(u-s-2)*(this._xScale(o)-this._xScale(0))*Math.sqrt(2)/2;if(!(c>this.dimensions[1])){var f=[r,t[s],n[u]];f.mirrored=!1,a.push(f)}}this.setVisibleTiles(a)}}return e}()},{key:"initTile",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initTile",this).call(this,e),this.drawTile(e)}return e}()},{key:"destroyTile",value:function(){function e(e,t){}return e}()},{key:"draw",value:function(){function e(){this.delayDrawing||this.drawnRects.clear(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this)}return e}()},{key:"drawTile",value:function(){function e(e){if(e.graphics){var t=e.graphics;t.clear();var n=(0,c.colorToHex)(this.options.rectangleDomainStrokeColor?this.options.rectangleDomainStrokeColor:"black"),r=(0,c.colorToHex)(this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey");t.lineStyle(1/this.pMain.scale.x,n,1),t.beginFill(r,.4),t.alpha=this.options.rectangleDomainOpacity?this.options.rectangleDomainOpacity:.5;var i=!0,o=!1,a=void 0;try{for(var s,u=e.tileData[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,f=(l.fields,this._refXScale(l.xStart)),h=this._refXScale(l.xEnd),d=this._refYScale(l.yStart),p=this._refYScale(l.yEnd),v=l.uid;this.drawnRects.has(v)||(this.drawnRects.add(v),t.drawRect(f,d,h-f,p-d),t.pivot.x=this._refXScale(0),t.pivot.y=this._refYScale(0),t.scale.x=-1/Math.sqrt(2),t.rotation=-3*Math.PI/4,t.scale.y=1/Math.sqrt(2),t.position.x=this._refXScale(0),t.position.y=0)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}}return e}()},{key:"setPosition",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"refScalesChanged",value:function(){function e(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refScalesChanged",this).call(this,e,n);for(var r in this.fetchedTiles){var i=this.fetchedTiles[r];if(i.sprite){var o=i.graphics;o.pivot.x=this._refXScale(0),o.pivot.y=this._refYScale(0),o.scale.x=-1/Math.sqrt(2),o.rotation=-3*Math.PI/4,o.scale.y=1/Math.sqrt(2),o.position.x=this._refXScale(0),o.position.y=0}}}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,o){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n,r,i,o),this.pMain.position.x=i,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=r,this.pMain.scale.y=r,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-r,this.pMain.position.y=this.position[1]),this.draw()}return e}()}]),t}(u.TiledPixiTrack);t.default=f},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),l=n(66),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=n(13),h=n(10),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),p=n(26),v=n(42),g=n(65),m=n(3),y=200,b=6,w=2,x="#777777",_=function(e){function t(e,n,o,a,s,u){r(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s));l.searchField=null,l.chromInfo=null,l.gTicks={},l.tickTexts={},l.textFontSize="12px",l.textFontFamily="Arial",l.textFontColor="#777777",l.animate=s;var c=u;return c||(c=n.server+"/chrom-sizes/?id="+n.tilesetUid),(0,v.ChromosomeInfo)(c,function(e){l.chromInfo=e,l.searchField=new g.SearchField(l.chromInfo),l.texts=[];for(var t=0;t<l.chromInfo.cumPositions.length;t++){var n=l.chromInfo.cumPositions[t].chr;l.gTicks[n]=new d.Graphics,l.tickTexts[n]||(l.tickTexts[n]=[]);var r=new d.Text(n,{fontSize:l.textFontSize,fontFamily:l.textFontFamily,fill:l.textFontColor});r.anchor.x=.5,r.anchor.y=.5,r.visible=!1,r.hashValue=Math.random(),l.pMain.addChild(r),l.pMain.addChild(l.gTicks[n]),l.texts.push(r)}l.draw(),l.animate()}),l}return o(t,e),s(t,[{key:"drawTicks",value:function(){function e(e){var t=this.gTicks[e.chr];this.gTicks[e.chr].visible=!0,this.gTicks[e.chr].clear();for(var n=+this.chromInfo.chromLengths[e.chr],r=Math.max(this._xScale(e.pos),0),i=Math.min(this._xScale(e.pos+n),this.dimensions[0]),o=(i-r)/y,a=(0,f.scaleLinear)().domain([Math.max(1,this._xScale.invert(0)-e.pos),Math.min(n,this._xScale.invert(this.dimensions[0])-e.pos)]).range(r,i),s=a.ticks(o),u=a.tickFormat(o),l=this.tickTexts[e.chr];l.length<=s.length;){var c=new d.Text("",{fontSize:"12px",fontFamily:"Helvetica Neue",fill:"#777777"});l.push(c),this.gTicks[e.chr].addChild(c)}for(var h=0;h<s.length;)l[h].visible=!0,l[h].anchor.x=.5,l[h].anchor.y=1,this.flipText&&(l[h].scale.x=-1),l[h].x=this._xScale(e.pos+s[h]),l[h].y=this.dimensions[1]-(b+w),0==s[h]?l[h].text=e.chr+":1":l[h].text=e.chr+":"+u(s[h]),t.lineStyle(1,x,1),t.moveTo(this._xScale(e.pos+s[h]),this.dimensions[1]),t.lineTo(this._xScale(e.pos+s[h]),this.dimensions[1]-b),h+=1;for(;h<l.length;)l[h].visible=!1,h+=1;return s.length,s.length}return e}()},{key:"draw",value:function(){function e(){if(this.allTexts=[],this.texts&&this.searchField){for(var e=(0,m.absToChr)(this._xScale.domain()[0],this.chromInfo),t=(0,m.absToChr)(this._xScale.domain()[1],this.chromInfo),n=0;n<this.texts.length;n++)this.texts[n].visible=!1,this.gTicks[this.chromInfo.cumPositions[n].chr].visible=!1;for(var r=e[3];r<=t[3];r++){var i=this.chromInfo.cumPositions[r],o=i.pos+this.chromInfo.chromLengths[i.chr]/2,a=this._xScale(o),s=this.texts[r];s.anchor.y=1,s.x=a,s.y=this.dimensions[1]-w-b,s.updateTransform(),this.flipText&&(s.scale.x=-1);var u=(s.getBounds(),this.drawTicks(i));s.visible=!(u>0),this.allTexts.push({importance:this.texts[r].hashValue,text:this.texts[r],caption:null})}this.hideOverlaps(this.allTexts)}}return e}()},{key:"hideOverlaps",value:function(){function e(e){var t=[];t=e.map(function(e){var t=e.text;t.updateTransform();var n=t.getBounds();return[n.x,n.y,n.x+n.width,n.y+n.height]}),(0,c.default)(t,function(t,n){e[t].importance>e[n].importance?e[n].text.visible=0:e[t].text.visible=0})}return e}()},{key:"setPosition",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"refreshTiles",value:function(){function e(){}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this)){var r=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this),i=a(r,2);n=i[0],e=i[1]}else n=document.createElement("g"),e=n;n.setAttribute("class","chromosome-labels");var o=document.createElement("g");e.appendChild(o),o.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")");var s=!0,l=!1,c=void 0;try{for(var f,h=this.allTexts[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var d=f.value;if(d.text.visible){var p=(0,m.pixiTextToSvg)(d.text);o.appendChild(p)}}}catch(e){l=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}for(var v in this.tickTexts){var g=!0,y=!1,w=void 0;try{for(var _,k=this.tickTexts[v][Symbol.iterator]();!(g=(_=k.next()).done);g=!0){var S=_.value,O=(0,m.pixiTextToSvg)(S);o.appendChild(O),O=(0,m.svgLine)(S.x,this.dimensions[1],S.x,this.dimensions[1]-b,1,x),o.appendChild(O)}}catch(e){y=!0,w=e}finally{try{!g&&k.return&&k.return()}finally{if(y)throw w}}}return[n,e]}return e}()}]),t}(p.PixiTrack);t.default=_},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalGeneAnnotationsTrack=void 0;var s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),c=n(66),f=r(c),h=n(10),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),p=n(52),v=r(p),g=n(7),m=n(3),y=1,b=6,w=20,x=t.HorizontalGeneAnnotationsTrack=function(e){function t(e,n,r,a,s,u,l){i(this,t);var c=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,a,s,u,l));return c.textFontSize="10px",c.textFontFamily="Arial",c}return a(t,e),u(t,[{key:"initTile",value:function(){function e(e){var t=this;if(e.texts={},e.rectGraphics=new d.Graphics,e.textGraphics=new d.Graphics,e.graphics.addChild(e.rectGraphics),e.graphics.addChild(e.textGraphics),!e.tileData.sort)return void console.warn("Strange tileData",e);e.tileData.sort(function(e,t){return t.importance-e.importance}),e.tileData=e.tileData.slice(0,50),e.tileData.forEach(function(n,r){var i=n.fields,o=t.options.plusStrandColor?t.options.plusStrandColor:"blue";if("-"==i[5]&&(o=t.options.minusStrandColor?t.options.minusStrandColor:"red"),e.textWidths={},e.textHeights={},!(r>=w)){var a=new d.Text(i[3],{fontSize:t.textFontSize,fontFamily:t.textFontFamily,fill:(0,m.colorToHex)(o)});a.interactive=!0,a.click=function(e){console.log("click")},t.flipText&&(a.scale.x=-1),a.anchor.x=.5,a.anchor.y=1,e.texts[i[3]]=a,e.textGraphics.addChild(a)}}),e.initialized=!0,this.renderTile(e)}return e}()},{key:"destroyTile",value:function(){function e(e){}return e}()},{key:"rerender",value:function(){function e(e,n){var r=JSON.stringify(e);if(n||r!==this.prevOptions){this.prevOptions=r,l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rerender",this).call(this,e,n);var i=!0,o=!1,a=void 0;try{for(var s,u=this.visibleAndFetchedTiles()[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;this.renderTile(c)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}}return e}()},{key:"drawTile",value:function(){function e(e){}return e}()},{key:"renderTile",value:function(){function e(e){var t=this;if(e.initialized){e.allRects=[],e.drawnAtScale=this._xScale.copy();var n={};n["+"]=(0,m.colorToHex)(this.options.plusStrandColor?this.options.plusStrandColor:"blue"),n["-"]=(0,m.colorToHex)(this.options.minusStrandColor?this.options.minusStrandColor:"red"),e.tileData.forEach(function(r,i){var o=r.fields,a=+r.chrOffset,s=+o[1]+a,u=+o[2]+a,l=o[12],c=o[13],f=(s+u)/2,h=t.dimensions[1]/2,d=t.dimensions[1]/2,p=o[3];"+"==o[5]?(h-=6,d-=10,e.rectGraphics.lineStyle(1,n["+"],.3),e.rectGraphics.beginFill(n["+"],.3)):(h+=6,d+=23,e.rectGraphics.lineStyle(1,n["-"],.3),e.rectGraphics.beginFill(n["-"],.3));var v=t._xScale(f)-y/2,g=h-b/2,m=t._xScale(s);if(t._xScale(u)-m>10?o.length<14?console.warn("Gene annotations have less than 14 columns (chrName, chrStart, chrEnd, symbol, importance, transcript_name, geneId, transcript_type, '-', txStart, txEnd, exonStarts, exonEnds:",o):e.allRects=e.allRects.concat(t.drawExons(e.rectGraphics,s,u,l,c,a,h).map(function(e){return e.concat([o[5]])})):(e.rectGraphics.drawRect(v,g,y,b),e.allRects.push([v,g,y,b,o[5]])),e.texts&&!(i>=w)){var x=e.texts[p];if(x.position.x=t._xScale(f),x.position.y=d,x.style={fontSize:t.textFontSize,fontFamily:t.textFontFamily,fill:n[o[5]]},!(o[3]in e.textWidths)){x.updateTransform();var _=x.getBounds().width,k=x.getBounds().height;e.textWidths[o[3]]=_,e.textHeights[o[3]]=k}}})}}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=g.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=Math.min(e,this.maxZoom);return t=Math.max(t,0)}return e}()},{key:"drawExons",value:function(){function e(e,t,n,r,i,o,a){r=r.split(",").map(function(e){return+e+o}),i=i.split(",").map(function(e){return+e+o});var s=[],u=this._xScale(t),l=this._xScale(n),c=b,f=a-.75,h=l-u,d=a-c/2;e.drawRect(u,f,h,1.5),s.push([u,f,h,1.5]);for(var p=0;p<r.length;p++){var v=r[p],g=i[p];s.push([this._xScale(v),d,this._xScale(g)-this._xScale(v),c]),e.drawRect(this._xScale(v),d,this._xScale(g)-this._xScale(v),c)}return s}return e}()},{key:"draw",value:function(){function e(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];var n=function(){function t(t){var n=e.fetchedTiles[t];if(!n.drawnAtScale)return"continue";var r=(n.drawnAtScale.domain()[1]-n.drawnAtScale.domain()[0])/(e._xScale.domain()[1]-e._xScale.domain()[0]),i=e._xScale.domain().map(n.drawnAtScale),o=i[0];n.rectGraphics.scale.x=r,n.rectGraphics.position.x=-o*r;var a=e.parentInFetched(n);if(!n.initialized)return"continue";n.tileData.forEach(function(t,r){if(n.texts){var i=t.fields,o=i[3],s=n.texts[o];if(s){var u=+t.chrOffset,l=+i[1]+u,c=+i[2]+u,f=(l+c)/2,h=e.dimensions[1]/2;"+"==i[5]?h-=10:h+=23,s.position.x=e._xScale(f),s.position.y=h,a?s.visible=!1:(s.visible=!0,e.flipText?e.allBoxes.push([s.position.x,h-1,s.position.x+n.textHeights[i[3]]+3,h+1]):e.allBoxes.push([s.position.x,h-1,s.position.x+n.textWidths[i[3]]+3,h+1]),e.allTexts.push({importance:+i[4],text:s,caption:o,strand:i[5]}))}}})}return t}();for(var r in this.fetchedTiles)n(r);this.hideOverlaps(this.allBoxes,this.allTexts)}return e}()},{key:"hideOverlaps",value:function(){function e(e,t){(0,f.default)(e,function(e,n){t[e].importance>t[n].importance?t[n].text.visible=!1:t[e].text.visible=!1})}return e}()},{key:"setPosition",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"setDimensions",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDimensions",this).call(this,e);var n=!0,r=!1,i=void 0;try{for(var o,a=this.visibleAndFetchedTiles()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.rectGraphics.clear(),this.renderTile(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this)){var r=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this),i=s(r,2);n=i[0],e=i[1]}else n=document.createElement("g"),e=n;var o=document.createElement("g");o.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")"),e.appendChild(o);var a=[],u=!0,c=!1,f=void 0;try{for(var h,d=this.visibleAndFetchedTiles()[Symbol.iterator]();!(u=(h=d.next()).done);u=!0){var p=h.value;a=a.concat(p.allRects)}}catch(e){c=!0,f=e}finally{try{!u&&d.return&&d.return()}finally{if(c)throw f}}var v=!0,g=!1,m=void 0;try{for(var y,b=a[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var w=y.value,x=document.createElement("rect");x.setAttribute("x",w[0]),x.setAttribute("y",w[1]),x.setAttribute("width",w[2]),x.setAttribute("height",w[3]),"+"==w[4]?x.setAttribute("fill",this.options.plusStrandColor):x.setAttribute("fill",this.options.minusStrandColor),o.appendChild(x)}}catch(e){g=!0,m=e}finally{try{!v&&b.return&&b.return()}finally{if(g)throw m}}var _=!0,k=!1,S=void 0;try{for(var O,T=this.allTexts[Symbol.iterator]();!(_=(O=T.next()).done);_=!0){var C=O.value;if(C.text.visible){var E=document.createElement("g"),P=document.createElement("text");P.setAttribute("text-anchor","middle"),P.setAttribute("font-family",this.textFontFamily),P.setAttribute("font-size",this.textFontSize),P.setAttribute("dy","-.2em"),E.setAttribute("transform","scale("+C.text.scale.x+",1)"),"+"===C.strand?P.setAttribute("fill",this.options.plusStrandColor):P.setAttribute("fill",this.options.minusStrandColor),P.innerHTML=C.text.text,E.appendChild(P),E.setAttribute("transform","translate("+C.text.x+","+C.text.y+")scale("+C.text.scale.x+",1)"),o.appendChild(E)}}}catch(e){k=!0,S=e}finally{try{!_&&T.return&&T.return()}finally{if(k)throw S}}return[n,n]}return e}()}]),t}(v.default);t.default=x},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalHeatmapTrack=void 0;var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),l=n(10),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),f=(n(13),n(43)),h=n(83),d=function(e){return e&&e.__esModule?e:{default:e}}(h),p=n(7),v=n(3),g=n(6),m=t.HorizontalHeatmapTrack=function(e){function t(e,n,o,a,s,u,l,c){r(this,t);var f=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,u,l,c));return f.pMain=f.pMobile,f.colorScale=g.HEATED_OBJECT_MAP,a&&a.colorRange&&(f.colorScale=(0,v.colorDomainToRgbaArray)(a.colorRange)),f}return o(t,e),s(t,[{key:"rerender",value:function(){function e(e,n){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rerender",this).call(this,e,n),this.zoomed(this.xScale(),this.yScale(),this.pMain.scale.x,this.pMain.position.x,this.pMain.position.y)}return e}()},{key:"calculateZoomLevel",value:function(){function e(){if(this.tilesetInfo.resolutions){var e=p.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=p.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);return Math.min(e,t)}var n=p.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),r=p.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),i=Math.max(n,r);return i=Math.min(i,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?i=Math.min(this.options.maxZoom,i):console.error("Invalid maxZoom on track:",this)),i}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var e=this._xScale.copy();if(this._xScale.domain()[1],this._xScale.domain()[0],this._xScale.range()[1],this._xScale.range()[0],e.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map(function(e){return+e}).sort(function(e,t){return t-e});this.xTiles=p.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=p.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=p.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=p.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var n=this.xTiles,r=this.yTiles,i=this.zoomLevel,o=this.tilesetInfo.max_width,a=o/Math.pow(2,i),s=[],u=0;u<n.length;u++)for(var l=u;l<r.length;l++){var c=(l-u-2)*(this._xScale(a)-this._xScale(0))*Math.sqrt(2)/2;if(!(c>this.dimensions[1])){var f=[i,n[u],r[l]];f.mirrored=!1,f.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",s.push(f)}}
this.setVisibleTiles(s)}}return e}()},{key:"tileDataToCanvas",value:function(){function e(e){var t=document.createElement("canvas");t.width=256,t.height=256;var n=t.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height);var r=new ImageData(e,t.width,t.height);return n.putImageData(r,0,0),t}return e}()},{key:"setSpriteProperties",value:function(){function e(e,t,n,r){var i=this.getTilePosAndDimensions(t,n),o=i.tileX,a=i.tileY,s=i.tileWidth,u=i.tileHeight,l=o+s,c=a+u;this._refXScale(l),this._refXScale(o),this._refYScale(c),this._refYScale(a),e.width=this._refXScale(l)-this._refXScale(o),e.height=this._refYScale(c)-this._refYScale(a),e.x=this._refXScale(o),e.y=this._refYScale(a)}return e}()},{key:"renderTile",value:function(){function e(e){var t=this;this.valueScale=(0,f.getValueScale)(this.options.heatmapValueScaling,this.scale.minValue,this.scale.maxValue,"log"),this.limitedValueScale=this.valueScale.copy(),this.options&&void 0!==this.options.scaleStartPercent&&void 0!==this.options.scaleEndPercent&&this.limitedValueScale.domain([this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleStartPercent,this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleEndPercent]),p.tileProxy.tileDataToPixData(e,this.limitedValueScale,this.valueScale.domain()[0],this.colorScale,function(n){var r=e.graphics,i=t.tileDataToCanvas(n),o=null;o=e.tileData.zoomLevel===t.maxZoom?new c.Sprite(c.Texture.fromCanvas(i,c.SCALE_MODES.NEAREST)):new c.Sprite(c.Texture.fromCanvas(i)),e.sprite=o,e.canvas=i,t.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored),r.pivot.x=t._refXScale(0),r.pivot.y=t._refYScale(0),r.scale.x=-1/Math.sqrt(2),r.rotation=-3*Math.PI/4,r.scale.y=1/Math.sqrt(2),r.position.x=t._refXScale(0),r.position.y=0,r.removeChildren(),r.addChild(e.sprite)})}return e}()},{key:"refScalesChanged",value:function(){function e(e,n){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refScalesChanged",this).call(this,e,n);for(var r in this.fetchedTiles){var i=this.fetchedTiles[r];if(i.sprite){this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos,i.mirrored);var o=i.graphics;o.pivot.x=this._refXScale(0),o.pivot.y=this._refYScale(0),o.scale.x=-1/Math.sqrt(2),o.rotation=-3*Math.PI/4,o.scale.y=1/Math.sqrt(2),o.position.x=this._refXScale(0),o.position.y=0}}}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,o){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n,r,i,o),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this),this.pMain.position.x=i,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=r,this.pMain.scale.y=r,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-r,this.pMain.position.y=this.position[1])}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null,r=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"superSVG",this).call(this),i=a(r,2);n=i[0],e=i[1];var o=document.createElement("g");e.appendChild(o),o.setAttribute("transform","translate("+this.pMain.position.x+","+this.pMain.position.y+") scale("+this.pMain.scale.x+","+this.pMain.scale.y+")");var s=!0,l=!1,c=void 0;try{for(var f,h=this.visibleAndFetchedTiles()[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var d=f.value,p=document.createElement("g"),v=d.graphics,g=180*v.rotation/Math.PI,m="translate("+v.position.x+","+v.position.y+") rotate("+g+") scale("+v.scale.x+","+v.scale.y+") translate("+-v.pivot.x+","+-v.pivot.y+")";p.setAttribute("transform",m);var y=180*d.sprite.rotation/Math.PI,b=document.createElement("g");b.setAttribute("transform","translate("+d.sprite.x+","+d.sprite.y+") rotate("+y+") scale("+d.sprite.scale.x+","+d.sprite.scale.y+")");var w=document.createElement("image");w.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.canvas.toDataURL()),w.setAttribute("width",256),w.setAttribute("height",256),b.appendChild(w),p.appendChild(b),o.appendChild(p)}}catch(e){l=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}var x=this.exportColorBarSVG();return e.appendChild(x),[n,n]}return e}()}]),t}(d.default);t.default=m},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalItem=void 0;var i=n(0),o=r(i),a=n(49),s=n(274),u=r(s),l=t.HorizontalItem=(0,a.SortableElement)(function(e){return o.default.createElement(u.default,{className:e.className,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})});t.default=l},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalPoint1DPixiTrack=void 0;var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),l=n(13),c=n(64),f=n(3),h=t.HorizontalPoint1DPixiTrack=function(e){function t(e,n,o,a,s,u){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,u))}return o(t,e),s(t,[{key:"initTile",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initTile",this).call(this,e),e.barXValues=new Array(e.tileData.dense.length),e.barYValues=new Array(e.tileData.dense.length),e.barWidths=new Array(e.tileData.dense.length),e.barHeights=new Array(e.tileData.dense.length),this.renderTile(e)}return e}()},{key:"drawTile",value:function(){function e(e){}return e}()},{key:"renderTile",value:function(){function e(e){if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,r=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),i=r.tileX,o=r.tileWidth,a=e.tileData.dense;if(0!=a.length){var s=0;if(this.valueScale=null,"log"==this.options.valueScaling){var c=this.medianVisibleValue;this.medianVisibleValue||(c=this.minVisibleValue()),this.valueScale=(0,l.scaleLog)().domain([c,this.maxValue()+c]).range([this.dimensions[1],0]),s=c}else this.valueScale=(0,l.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(n.clear(),this.drawAxis(this.valueScale),"log"==this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var h=(0,f.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),d=(0,l.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([i,i+o]);n.lineStyle(0,h,1);var p=this.options.pointSize?this.options.pointSize:3,v=(0,f.colorToHex)(this.options.pointColor?this.options.pointColor:"red");n.beginFill(v,1),e.drawnAtScale=this._xScale.copy();for(var g=0;g<a.length;g++){var m=this._xScale(d(g)),y=this.valueScale(a[g]+s);if(e.barXValues[g]=m-p/2/this.pMain.scale.x,e.barYValues[g]=y-p/2/this.pMain.scale.y,e.barWidths[g]=p/this.pMain.scale.x,e.barHeights[g]=p/this.pMain.scale.y,d(g)>this.tilesetInfo.max_pos[0])break;n.drawRect(m-p/2/this.pMain.scale.x,y-p/2/this.pMain.scale.y,p/this.pMain.scale.x,p/this.pMain.scale.y)}}}}return e}()},{key:"draw",value:function(){function e(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this);var e=!0,n=!1,r=void 0;try{for(var i,o=(0,f.dictValues)(this.fetchedTiles)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,s=(a.drawnAtScale.domain()[1]-a.drawnAtScale.domain()[0])/(this._xScale.domain()[1]-this._xScale.domain()[0]),l=this._xScale.domain().map(a.drawnAtScale),c=l[0];a.graphics.scale.x=s,a.graphics.position.x=-c*s}}catch(e){n=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,o){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n)}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null,r=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"superSVG",this).call(this),i=a(r,2);n=i[0],e=i[1],n.setAttribute("class","exported-line-track");var o=document.createElement("g");e.appendChild(o),o.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")");var s=(this.options.lineStrokeColor&&this.options.lineStrokeColor,!0),l=!1,c=void 0;try{for(var f,h=this.visibleAndFetchedTiles()[Symbol.iterator]();!(s=(f=h.next()).done);s=!0)for(var d=f.value,p=0;p<d.barXValues.length;p++){var v=document.createElement("rect"),g=this.options.lineStrokeColor||"blue",m=this.options.pointColor||"red";v.setAttribute("fill",m),v.setAttribute("stroke",g),v.setAttribute("stroke-width",0),v.setAttribute("x",d.barXValues[p]),v.setAttribute("y",d.barYValues[p]),v.setAttribute("height",d.barHeights[p]),v.setAttribute("width",d.barWidths[p]),o.appendChild(v)}}catch(e){l=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}var y=document.createElement("g");if(y.setAttribute("id","axis"),n.appendChild(y),y.setAttribute("transform","translate("+this.axis.pAxis.position.x+", "+this.axis.pAxis.position.y+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var b=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);y.appendChild(b)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var w=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);y.appendChild(w)}return[n,e]}return e}()}]),t}(c.HorizontalLine1DPixiTrack);t.default=h},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalTiledPlot=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(28),l=r(u),c=n(2),f=r(c),h=n(0),d=r(h),p=n(29),v=n(4),g=n(9),m=r(g),y=n(142),b=r(y),w=n(271),x=r(w),_=n(146),k=r(_),S=n(3),O=n(6),T=n(509),C=(r(T),n(120)),E=r(C),P=n(121),M=(r(P),{styles:{"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4"}}),A=t.HorizontalTiledPlot=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.brushBehavior=(0,p.brushX)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){this.props.isRangeSelectionActive&&this.addBrush()}return e}()},{key:"shouldComponentUpdate",value:function(){function e(e,t){return this.rangeSelectionTriggered?(this.rangeSelectionTriggered=!1,this.state!==t):this.props.rangeSelection===e.rangeSelection||(this.props.chromInfo&&this.moveBrush(e.rangeSelection[0]?(0,S.genomeLociToPixels)(e.rangeSelection[0],this.props.chromInfo):null),this.state!==t)}return e}()},{key:"componentDidUpdate",value:function(){function e(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}return e}()},{key:"addBrush",value:function(){function e(){this.brushEl&&this.brushElAddedBefore!==this.brushEl&&(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl)}return e}()},{key:"brushed",value:function(){function e(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,v.event.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(v.event.selection))}return e}()},{key:"brushStarted",value:function(){function e(){v.event.sourceEvent&&v.event.selection&&this.props.onRangeSelectionStart()}return e}()},{key:"brushedEnded",value:function(){function e(){!v.event.selection&&this.props.is1dRangeSelection&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionEnd())}return e}()},{key:"moveBrush",value:function(){function e(e){if(this.brushEl){var t=e?[this.props.scale(e[0]),this.props.scale(e[1])]:null;this.rangeSelectionMoved=!0,this.brushEl.call(this.brushBehavior.move,t)}}return e}()},{key:"removeBrush",value:function(){function e(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionEnd())}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.props.tracks.map(function(e){return e.height}).reduce(S.sum,0),n=this.props.tracks.map(function(e){return(0,O.IS_TRACK_RANGE_SELECTABLE)(e)}).reduce(S.or,!1),r=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return d.default.createElement("div",{className:"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},n&&d.default.createElement("svg",{ref:function(){function t(t){return e.brushEl=(0,v.select)(t)}return t}(),style:{height:t,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,M)}),d.default.createElement(b.default,{className:E.default.list+" "+E.default.stylizedList,component:k.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:t,helperClass:E.default.stylizedHelper,itemClass:E.default.stylizedItem,itemReactClass:x.default,items:this.props.tracks.map(function(t){return{configMenuVisible:t.uid===e.props.configTrackMenuId,uid:t.uid||m.default.nice(),width:e.props.width,height:t.height,value:t.value}}),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:this.props.width}))}return e}()}]),t}(d.default.Component);A.propTypes={configTrackMenuId:f.default.string,chromInfo:f.default.object,editable:f.default.bool,handleConfigTrack:f.default.func,handleResizeTrack:f.default.func,handleSortEnd:f.default.func,is1dRangeSelection:f.default.bool,isRangeSelectionActive:f.default.bool,onAddSeries:f.default.func,onCloseTrack:f.default.func,onCloseTrackMenuOpened:f.default.func,onConfigTrackMenuOpened:f.default.func,onRangeSelection:f.default.func,onRangeSelectionEnd:f.default.func,onRangeSelectionStart:f.default.func,rangeSelection:f.default.array,referenceAncestor:f.default.func,resizeHandles:f.default.object,scale:f.default.func,tracks:f.default.array,width:f.default.number},t.default=A},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalTrack=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),c=n(143),f=r(c),h=n(86),d=r(h),p={pointerEvents:"all"},v=t.HorizontalTrack=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getControls",value:function(){function e(e){return l.default.createElement(d.default,{configMenuVisible:this.props.item.configMenuVisible,imgStyleAdd:p,imgStyleClose:p,imgStyleMove:p,imgStyleSettings:p,isMoveable:this.moveable,isVisible:e,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}return e}()}]),t}(f.default);t.default=v},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Id2DTiledPixiTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(10),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),l=n(83),c=t.Id2DTiledPixiTrack=function(e){function t(e,n,o,a,s){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s))}return o(t,e),a(t,[{key:"areAllVisibleTilesLoaded",value:function(){function e(){return!0}return e}()},{key:"initTile",value:function(){function e(e){var t=e.graphics;e.textGraphics=new u.Graphics,e.mirrored?e.text=new u.Text(e.tileData.zoomLevel+"/"+[e.tileData.tilePos[1],e.tileData.tilePos[0]].join("/"),{fontFamily:"Arial",fontSize:48,fill:16715792,align:"center"}):e.text=new u.Text(e.tileData.zoomLevel+"/"+e.tileData.tilePos.join("/"),{fontFamily:"Arial",fontSize:48,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics),this.drawTile(e,t)}return e}()},{key:"destroyTile",value:function(){function e(e,t){}return e}()},{key:"drawTile",value:function(){function e(e){if(e.graphics){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),r=n.tileX,i=n.tileY,o=n.tileWidth,a=(n.tileHeight,1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0)))),s=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));if(e.text.scale.x=a,e.text.scale.y=s,t.clear(),t.lineStyle(4*a,255,1),t.beginFill(16740363,.4),t.alpha=.5,e.mirrored){var u=this._refXScale(i+o)-this._refXScale(i),l=this._refYScale(r+o)-this._refYScale(r);e.textGraphics.position.x=this._refXScale(i)+u/2,e.textGraphics.position.y=this._refYScale(r)+l/2,t.drawRect(this._refXScale(i),this._refYScale(r),u,l)}else{var c=this._refXScale(r+o)-this._refXScale(r),f=this._refYScale(i+o)-this._refYScale(i);e.textGraphics.position.x=this._refXScale(r)+c/2,e.textGraphics.position.y=this._refYScale(i)+f/2,this._refXScale(r),this._refYScale(i),t.drawRect(this._refXScale(r),this._refYScale(i),c,f)}}}return e}()},{key:"fetchNewTiles",value:function(){function e(e){var t=this;e.map(function(e){var n=e.remoteId,r=n.split("."),i={zoomLevel:r[0],tilePos:r.slice(1,r.length).map(function(e){return+e})};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=i,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)}),this.synchronizeTilesAndGraphics()}return e}()}]),t}(l.HeatmapTiledPixiTrack);t.default=c},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.IdHorizontal1DTiledPixiTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),u=n(52),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=t.IdHorizontal1DTiledPixiTrack=function(e){function t(e,n,o,a,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s));return u.pMain=u.pMobile,u}return o(t,e),a(t,[{key:"areAllVisibleTilesLoaded",value:function(){function e(){return!0}return e}()},{key:"initTile",value:function(){function e(e){var t=e.graphics;e.textGraphics=new PIXI.Graphics,e.text=new PIXI.Text(e.tileData.zoomLevel+"/"+e.tileData.tilePos.join("/"),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics),this.drawTile(e)}return e}()},{key:"destroyTile",value:function(){function e(e){}return e}()},{key:"drawTile",value:function(){function e(e){if(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,r=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),i=r.tileX,o=(r.tileY,r.tileWidth),a=(r.tileHeight,1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0))));e.text.scale.x=a,n.clear();var u=this.dimensions[1],l=this._refXScale(i+o)-this._refXScale(i);e.textGraphics.position.x=this._refXScale(i)+l/2,e.textGraphics.position.y=u/2;var c=this._refXScale(i);n.lineStyle(4*a,255,1),n.beginFill(16740363,.4),n.alpha=.5,n.moveTo(c,0),n.lineTo(c,u),n.moveTo(c+l,0),n.lineTo(c+l,u),n.lineStyle(0,255,1),n.drawRect(c,0,l,u)}}return e}()},{key:"fetchNewTiles",value:function(){function e(e){var t=this;e.map(function(e){var n=e.remoteId,r=n.split("."),i={zoomLevel:r[1],tilePos:r.slice(2,r.length).map(function(e){return+e})};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=i,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)}),this.synchronizeTilesAndGraphics()}return e}()}]),t}(l.default);t.default=c},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.IdVertical1DTiledPixiTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),u=n(10),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=n(293),f=function(e){return e&&e.__esModule?e:{default:e}}(c),h=t.IdVertical1DTiledPixiTrack=function(e){function t(e,n,o,a,s){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s))}return o(t,e),a(t,[{key:"areAllVisibleTilesLoaded",value:function(){function e(){return!0}return e}()},{key:"initTile",value:function(){function e(e){var t=e.graphics;e.textGraphics=new l.Graphics,e.text=new l.Text(e.tileData.zoomLevel+"/"+e.tileData.tilePos.join("/"),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,e.text.rotation=-Math.PI/2,t.addChild(e.textGraphics),this.drawTile(e,t)}return e}()},{key:"destroyTile",value:function(){function e(e,t){}return e}()},{key:"drawTile",value:function(){function e(e){if(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,r=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),i=r.tileY,o=r.tileHeight,a=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));e.text.scale.x=a,n.clear(),n.lineStyle(4*a,255,1),n.beginFill(16740363,.4),n.alpha=.5;var u=this.dimensions[0],l=this._refYScale(i+o)-this._refYScale(i);e.textGraphics.position.x=u/2,e.textGraphics.position.y=this._refYScale(i)+l/2,n.drawRect(0,this._refYScale(i),u,l)}}return e}()},{key:"fetchNewTiles",value:function(){function e(e){var t=this;e.map(function(e){var n=e.remoteId,r=n.split("."),i={zoomLevel:r[1],tilePos:r.slice(2,r.length).map(function(e){return+e})};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=i,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)}),this.synchronizeTilesAndGraphics()}return e}()}]),t}(f.default);t.default=h},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LeftAxisTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),u=n(169),l=n(53),c=t.LeftAxisTrack=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.axis=(0,u.axisLeft)(n._yScale),n.gAxis=n.gMain.append("g"),n.tilesetInfo=!0,n}return o(t,e),a(t,[{key:"setDimensions",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDimensions",this).call(this,e),this.axis.ticks(Math.ceil(this.dimensions[1]/150)),this.gAxis.attr("transform","translate("+e[0]+",0)")}return e}()},{key:"draw",value:function(){function e(){return this.axis.scale(this._yScale),this.gAxis.call(this.axis),this}return e}()},{key:"zoomed",value:function(){function e(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n),this.draw()}return e}()}]),t}(l.SVGTrack);t.default=c},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.LeftTrackModifier=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(10),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),s=t.LeftTrackModifier=function(){function e(t){r(this,e),this.scene=t.scene,this.originalTrack=t,this.pBase=new a.Graphics,this.scene.removeChild(t.pBase),this.scene.addChild(this.pBase),
this.moveToOrigin=new a.Graphics,this.moveToOrigin.addChild(t.pBase),this.pBase.addChild(this.moveToOrigin),this.moveToOrigin.rotation=Math.PI/2,t.flipText=!0,this.svgOutput=null,t.gBase&&t.gMain&&(this.originalTrack.gBase.attr("transform","translate("+this.moveToOrigin.position.x+","+this.moveToOrigin.position.y+")\n                             rotate(90)\n                             scale("+this.moveToOrigin.scale.x+","+this.moveToOrigin.scale.y+")"),this.originalTrack.gMain.attr("transform","translate("+this.originalTrack.pBase.position.x+","+this.originalTrack.pBase.position.y+")"))}return i(e,[{key:"remove",value:function(){function e(){this.originalTrack.remove(),this.pBase.clear(),this.scene.removeChild(this.pBase)}return e}()},{key:"setDimensions",value:function(){function e(e){this.dimensions=e;var t=[e[1],e[0]];this.originalTrack.setDimensions(t)}return e}()},{key:"setPosition",value:function(){function e(e){this.position=e,this.originalTrack.setPosition(e),this.originalTrack.pBase.position.x=-this.originalTrack.position[0],this.originalTrack.pBase.position.y=-this.originalTrack.position[1],this.moveToOrigin.scale.y=-1,this.moveToOrigin.scale.x=1,this.moveToOrigin.position.x=this.originalTrack.position[0],this.moveToOrigin.position.y=this.originalTrack.position[1],this.originalTrack.gMain&&(this.originalTrack.gBase.attr("transform","translate("+this.moveToOrigin.position.x+","+this.moveToOrigin.position.y+")\n                                 rotate(90)\n                                 scale("+this.moveToOrigin.scale.x+","+this.moveToOrigin.scale.y+")"),this.originalTrack.gMain.attr("transform","translate("+this.originalTrack.pBase.position.x+","+this.originalTrack.pBase.position.y+")"))}return e}()},{key:"refXScale",value:function(){function e(e){return arguments.length?(this.originalTrack._refXScale=e,this):this.originalTrack._refYScale}return e}()},{key:"refYScale",value:function(){function e(e){return arguments.length?(this.originalTrack._refYScale=e,this):this.originalTrack._refXScale}return e}()},{key:"xScale",value:function(){function e(e){return arguments.length?(this.originalTrack._yScale=e,this):this.originalTrack._xScale}return e}()},{key:"yScale",value:function(){function e(e){return arguments.length?(this.originalTrack._xScale=e,this):this.originalTrack._yScale}return e}()},{key:"draw",value:function(){function e(){this.originalTrack.draw()}return e}()},{key:"zoomed",value:function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.xScale(e),this.yScale(t),this.originalTrack.refreshTiles();var r=this.originalTrack._xScale(0)-n*this.originalTrack._refXScale(0);this.originalTrack.pMobile.position.x=r+this.originalTrack.position[0],this.originalTrack.pMobile.position.y=this.originalTrack.position[1]+this.originalTrack.dimensions[1],this.originalTrack.pMobile.scale.x=n,this.originalTrack.pMobile.scale.y=n,this.originalTrack.options.oneDHeatmapFlipped&&(this.originalTrack.pMobile.scale.y=-n,this.originalTrack.pMobile.position.y=this.originalTrack.position[1]),this.originalTrack.draw()}return e}()},{key:"refScalesChanged",value:function(){function e(e,t){this.originalTrack.refScalesChanged(t,e)}return e}()},{key:"rerender",value:function(){function e(e){this.originalTrack.rerender(e)}return e}()},{key:"exportSVG",value:function(){function e(){var e=document.createElement("g");if(e.setAttribute("transform","translate("+this.moveToOrigin.position.x+","+this.moveToOrigin.position.y+")\n                             rotate(90)\n                             scale("+this.moveToOrigin.scale.x+","+this.moveToOrigin.scale.y+")"),this.originalTrack.exportSVG){var t=document.createElement("g");t.setAttribute("transform","translate("+this.originalTrack.pBase.position.x+", "+this.originalTrack.pBase.position.y+")"),t.appendChild(this.originalTrack.exportSVG()[0]),e.appendChild(t)}return[e,e]}return e}()}]),e}();t.default=s},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MapboxTilesTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),u=n(144),l=t.MapboxTilesTrack=function(e){function t(e,n,o){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o));return a.currentStyle=n.mapboxStyle,a}return o(t,e),a(t,[{key:"rerender",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rerender",this).call(this,e),e.mapboxStyle!=this.currentStyle&&(this.currentStyle=e.mapboxStyle,this.removeAllTiles(),this.refreshTiles())}return e}()},{key:"getTileUrl",value:function(){function e(e){var t="mapbox.streets";return this.options&&this.options.mapboxStyle&&(t=this.options.mapboxStyle),"http://api.tiles.mapbox.com/v4/"+t+"/"+e[0]+"/"+e[1]+"/"+e[2]+".png?access_token=pk.eyJ1IjoicGtlcnBlZGppZXYiLCJhIjoiY2o1OW44dnN0MGFqZDMxcXFoYW04cmh4biJ9.WGEDSUhcn4W4x7IaA8DFRw"}return e}()}]),t}(u.OSMTilesTrack);t.default=l},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NestedContextMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),c=n(50),f=r(c),h=n(51),d=r(h);n(37);var p=t.NestedContextMenu=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getSubmenu",value:function(){function e(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,n="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top},r=this.state.submenuShown;return l.default.createElement(t,{menuItems:r.children,orientation:this.state.orientation,parentBbox:e,position:n})}return l.default.createElement("div",null)}return e}()},{key:"componentWillUnmount",value:function(){function e(){}return e}()},{key:"render",value:function(){function e(){var e=this,t=[],n=function(){function n(n){var r=e.props.menuItems[n];t.push(l.default.createElement(d.default,{key:n,onClick:r.handler?r.handler:function(){return null},onMouseEnter:r.children?function(t){return e.handleItemMouseEnter(t,r)}:e.handleOtherMouseEnter.bind(e),onMouseLeave:e.handleMouseLeave},r.name,r.children&&l.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},l.default.createElement("use",{xlinkHref:"#play"}))))}return n}();for(var r in this.props.menuItems)n(r);return l.default.createElement("div",{ref:function(){function t(t){return e.div=t}return t}(),style:{left:this.state.left,top:this.state.top},className:"ContextMenu-module_context-menu-2OwvL"},t,this.getSubmenu())}return e}()}]),t}(f.default);t.default=p},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PlotTypeChooser=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(6);n(505);var c=t.PlotTypeChooser=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.DATATYPE_TO_TRACK_TYPE=(0,l.DATATYPE_TO_TRACK_TYPE)(n.props.orientation),n.AVAILABLE_TRACK_TYPES=(0,l.AVAILABLE_TRACK_TYPES)(n.props.datatypes,n.props.orientation),n.state={selectedPlotType:n.AVAILABLE_TRACK_TYPES[0]},n}return o(t,e),a(t,[{key:"componentWillReceiveProps",value:function(){function e(e){this.AVAILABLE_TRACK_TYPES=(0,l.AVAILABLE_TRACK_TYPES)(e.datatypes,this.props.orientation),this.AVAILABLE_TRACK_TYPES&&this.AVAILABLE_TRACK_TYPES.length>0&&(this.AVAILABLE_TRACK_TYPES.includes(this.state.selectedPlotType)||this.handlePlotTypeSelected(this.AVAILABLE_TRACK_TYPES[0]))}return e}()},{key:"handlePlotTypeSelected",value:function(){function e(e){this.setState({selectedPlotType:e}),this.props.onPlotTypeSelected(e.type)}return e}()},{key:"render",value:function(){function e(){var e=this,t="No plot types available for track",n={};return l.TRACKS_INFO.forEach(function(e){n[e.type]=e}),this.AVAILABLE_TRACK_TYPES&&(t=this.AVAILABLE_TRACK_TYPES.sort(function(e,t){return e.type<t.type}).map(function(t){var r=n[t.type].thumbnail,i=e.state.selectedPlotType.type==t.type?"plot-type-selected":"unselected",o=n[t.type].thumbnail?u.default.createElement("div",{style:{display:"inline-block",marginRight:10,verticalAlign:"middle"},dangerouslySetInnerHTML:{__html:r.outerHTML}}):u.default.createElement("div",{style:{display:"inline-block",marginRight:10,verticalAlign:"middle"}},u.default.createElement("svg",{width:30,height:20}));return u.default.createElement("li",{className:i,key:t.type,onClick:function(){function n(n){e.setState({selectedPlotType:t}),e.props.onPlotTypeSelected(t.type)}return n}(),style:{listStyle:"none",paddingLeft:5,paddingBottom:0}},o,u.default.createElement("span",{style:{verticalAlign:"middle"}},t.type))})),u.default.createElement("div",null,t)}return e}()}]),t}(u.default.Component);t.default=c},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SeriesListMenu=t.ConfigureSeriesMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(28),l=r(u),c=n(0),f=r(c),h=n(50),d=r(h),p=n(51),v=r(p),g=n(281),m=r(g),y=n(6);n(37);var b={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}};t.ConfigureSeriesMenu=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){function e(){var e=this;return f.default.createElement("div",{onMouseLeave:this.props.handleMouseLeave,ref:function(){function t(t){return e.div=t}return t}(),style:{left:this.state.left,top:this.state.top},className:(0,l.default)("context-menu",b)})}return e}()}]),t}(d.default),t.SeriesListMenu=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getConfigureSeriesMenu",value:function(){function e(e,t,n){var r=this,i={};if(!y.TRACKS_INFO_BY_TYPE[n.type].availableOptions)return null;var o=!0,a=!1,s=void 0;try{for(var u,l=function(){function e(){var e=u.value;if(y.OPTIONS_INFO.hasOwnProperty(e)){if(i[e]={name:y.OPTIONS_INFO[e].name},y.OPTIONS_INFO[e].generateOptions){var t=y.OPTIONS_INFO[e].generateOptions(n);i[e].children||(i[e].children={});var o=!0,a=!1,s=void 0;try{for(var l,c=function(){function t(){var t=l.value,o={name:t.name,value:t.value,handler:function(){function i(){n.options[e]=t.value,r.props.onTrackOptionsChanged(n.uid,n.options),r.props.closeMenu()}return i}()};i[e].children[t.value]=o}return t}(),f=t[Symbol.iterator]();!(o=(l=f.next()).done);o=!0)c()}catch(e){a=!0,s=e}finally{try{!o&&f.return&&f.return()}finally{if(a)throw s}}}if(y.OPTIONS_INFO[e].inlineOptions){var h=function(){function t(t){var o=y.OPTIONS_INFO[e].inlineOptions[t];i[e].children||(i[e].children={});var a={name:o.name,value:o.value};o.componentPickers&&o.componentPickers[n.type]?a.handler=function(){r.props.onConfigureTrack(n,o.componentPickers[n.type]),r.props.closeMenu()}:a.handler=function(){n.options[e]=o.value,r.props.onTrackOptionsChanged(n.uid,n.options),r.props.closeMenu()},i[e].children[t]=a}return t}();for(var d in y.OPTIONS_INFO[e].inlineOptions)h(d)}else y.OPTIONS_INFO[e].componentPickers&&y.OPTIONS_INFO[e].componentPickers[n.type]&&(i[e].handler=function(){r.props.onConfigureTrack(n,y.OPTIONS_INFO[e].componentPickers[n.type]),r.props.closeMenu()})}}return e}(),c=y.TRACKS_INFO_BY_TYPE[n.type].availableOptions[Symbol.iterator]();!(o=(u=c.next()).done);o=!0)l()}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return f.default.createElement(m.default,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:i,orientation:this.state.orientation,parentBbox:t,position:e})}return e}()},{key:"getTrackTypeItems",value:function(){function e(e,t,n){for(var r=this,i=y.TRACKS_INFO_BY_TYPE[n.type].datatype[0],o=y.TRACKS_INFO_BY_TYPE[n.type].orientation,a=y.TRACKS_INFO.filter(function(e){return e.datatype}).filter(function(e){return e.orientation}).filter(function(e){return e.datatype[0]==i}).filter(function(e){return e.orientation==o}).map(function(e){return e.type}),s={},u=function(){function e(e){s[a[e]]={value:a[e],name:a[e],handler:function(){function t(){r.props.onChangeTrackType(n.uid,a[e])}return t}()}}return e}(),l=0;l<a.length;l++)u(l);return f.default.createElement(m.default,{key:"track-type-items",closeMenu:this.props.closeMenu,menuItems:s,orientation:this.state.orientation,parentBbox:t,position:e})}return e}()},{key:"getSubmenu",value:function(){function e(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,t="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top},n=this.state.submenuShown,r=n.value;return"track-type"==n.option?this.getTrackTypeItems(t,e,r):this.getConfigureSeriesMenu(t,e,r)}return f.default.createElement("div",null)}return e}()},{key:"render",value:function(){function e(){var e=this;return f.default.createElement("div",{onMouseLeave:this.props.handleMouseLeave,ref:function(){function t(t){return e.div=t}return t}(),style:{left:this.state.left,top:this.state.top},className:"ContextMenu-module_context-menu-2OwvL"},f.default.createElement(v.default,{onClick:this.props.onConfigureTrack,onMouseEnter:function(){function t(t){return e.handleItemMouseEnter(t,{option:"configure-series",value:e.props.track})}return t}(),onMouseLeave:function(){function t(t){return e.handleMouseLeave(t)}return t}()},"Configure Series",f.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},f.default.createElement("use",{xlinkHref:"#play"}))),f.default.createElement(v.default,{onClick:function(){function e(){}return e}(),onMouseEnter:function(){function t(t){return e.handleItemMouseEnter(t,{option:"track-type",value:e.props.track})}return t}(),onMouseLeave:function(){function t(t){return e.handleMouseLeave(t)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Track Type",f.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},f.default.createElement("use",{xlinkHref:"#play"})))),null,f.default.createElement(v.default,{onClick:this.props.onCloseTrack,onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Close Series")),f.default.createElement(v.default,{onClick:function(){function t(){e.props.onCloseTrack(e.props.series.uid),e.props.onAddSeries(e.props.hostTrack.uid)}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Replace Series")),this.getSubmenu())}return e}()}]),t}(d.default)},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SquareMarkersTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),u=n(43),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(7),f=n(3),h=t.SquareMarkersTrack=function(e){function t(e,n,o,a,s,u){r(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,u));return l.drawnRects=new Set,l}return o(t,e),a(t,[{key:"tileToLocalId",value:function(){function e(e){return this.tilesetUid+"."+e.join(".")}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return this.tilesetUid+"."+e.join(".")}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=c.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=c.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom)}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map(function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}}),this.visibleTileIds=new Set(this.visibleTiles.map(function(e){return e.tileId}))}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0],this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=c.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=c.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}}return e}()},{key:"initTile",value:function(){function e(e){}return e}()},{key:"destroyTile",value:function(){function e(e,t){}return e}()},{key:"draw",value:function(){function e(){this.drawnRects.clear(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this)}return e}()},{key:"drawTile",value:function(){function e(e){if(e.graphics){var t=e.graphics;t.clear();var n=(0,f.colorToHex)("green");t.lineStyle(1,255,1),t.beginFill(n,.8),t.alpha=.5;var r=!0,i=!1,o=void 0;try{for(var a,s=e.tileData[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=(u.fields,this._xScale(u.xStart)),c=this._xScale(u.xEnd),h=this._yScale(u.yStart),d=this._yScale(u.yEnd),p=u.uid;if(!this.drawnRects.has(p)){this.drawnRects.add(p);var v=d-h,g=c-l,m=(l+c)/2,y=(h+d)/2;v<6&&(v=6),g<6&&(g=6),t.drawRect(m-v/2,y-g/2,v,g)}}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}}return e}()},{key:"setPosition",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}return e}()}]),t}(l.default);t.default=h},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TiledPlot=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(9),l=r(u),c=n(0),f=r(c),h=n(11),d=r(h),p=n(2),v=r(p),g=n(155),m=n(253),y=r(m),b=n(289),w=r(b),x=n(247),_=r(x),k=n(259),S=r(k),O=n(257),T=r(O),C=n(84),E=r(C),P=n(50),M=r(P),A=n(273),j=r(A),R=n(294),I=r(R),L=(n(7),n(3)),D=n(6),N=n(120),B=(r(N),n(202)),F=(r(B),t.TiledPlot=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.closing=!1,n.yPositionOffset=0;var r=n.props.tracks;return n.xScale=null,n.yScale=null,n.addUidsToTracks(r),n.trackRenderers={},n.trackToReplace=null,n.addTrackModal=null,n.configTrackMenu=null,n.state={sizeMeasured:!1,height:10,width:10,yPositionOffset:0,xPositionOffset:0,tracks:r,addTrackPosition:null,mouseOverOverlayUid:null,forceUpdate:0,rangeSelection:[null,null],chromInfo:null},n.topHeight=0,n.bottomHeight=0,n.leftWidth=0,n.rightWidth=0,n.centerHeight=0,n.centerWidth=0,n.dragTimeout=null,n.previousPropsStr="",n}return a(t,e),s(t,[{key:"waitForDOMAttachment",value:function(){function e(e){var t=this;if(this.mounted){var n=d.default.findDOMNode(this);document.body.contains(n)?e():requestAnimationFrame(function(){return t.waitForDOMAttachment(e)})}}return e}()},{key:"componentDidMount",value:function(){function e(){var e=this;this.mounted=!0,this.element=d.default.findDOMNode(this),this.waitForDOMAttachment(function(){g.ElementQueries.listen(),e.resizeSensor=new g.ResizeSensor(e.element.parentNode,e.measureSize.bind(e)),e.measureSize()})}return e}()},{key:"componentWillReceiveProps",value:function(){function e(e){this.addUidsToTracks(e.tracks),this.setState({tracks:e.tracks})}return e}()},{key:"shouldComponentUpdate",value:function(){function e(e,t){var n=this.previousPropsStr,r=this.updatablePropsToString(e),i=JSON.stringify(this.state),o=JSON.stringify(t),a=!1;return n!=r&&(a=!0),(a||i!=o)&&(a=!0),a=a||this.props.chooseTrackHandler!=e.chooseTrackHandler,a&&(this.previousPropsStr=r),a}return e}()},{key:"componentWillUpdate",value:function(){function e(){}return e}()},{key:"componentDidUpdate",value:function(){function e(e,t){t.rangeSelection!==this.state.rangeSelection&&this.props.onRangeSelection&&this.props.onRangeSelection(this.state.rangeSelection)}return e}()},{key:"componentWillUnmount",value:function(){function e(){this.closing=!0}return e}()},{key:"addUidsToTracks",value:function(){function e(e){for(var t in e)for(var n=0;n<e[t].length;n++)e[t][n].uid=e[t][n].uid?e[t][n].uid:l.default.nice()}return e}()},{key:"measureSize",value:function(){function e(){var e=this.element.clientHeight-0,t=this.element.clientWidth;t>0&&e>0&&this.setState({sizeMeasured:!0,width:t,height:e})}return e}()},{key:"handleTrackOptionsChanged",value:function(){function e(e,t){return this.props.onTrackOptionsChanged(e,t)}return e}()},{key:"handleScalesChanged",value:function(){function e(e,t){this.xScale=e,this.yScale=t,this.props.onScalesChanged(e,t)}return e}()},{key:"handleTilesetInfoReceived",value:function(){function e(e,t){var n=(0,L.getTrackByUid)(this.props.tracks,e);n.options||(n.options={}),n.name=t.name,n.maxWidth=t.max_width,n.transforms=t.transforms,n.header=t.header,n.binsPerDimension=t.bins_per_dimension,n.maxZoom=t.max_zoom,n.coordSystem=t.coordSystem}return e}()},{key:"handleOverlayMouseEnter",value:function(){function e(e){this.setState({mouseOverOverlayUid:e})}return e}()},{key:"handleOverlayMouseLeave",value:function(){function e(){this.setState({mouseOverOverlayUid:null})}return e}()},{key:"handleTrackPositionChosen",value:function(){function e(e){this.handleAddTrack(e),this.props.onTrackPositionChosen(e)}return e}()},{key:"handleNoTrackAdded",value:function(){function e(){this.trackToReplace=null,this.props.onNoTrackAdded(),this.setState({addTrackPosition:null,addTrackHost:null})}return e}()},{key:"handleDivideSeries",value:function(){function e(e){}return e}()},{key:"handleAddSeries",value:function(){function e(e){var t=(0,L.getTrackPositionByUid)(this.props.tracks,e),n=(0,L.getTrackByUid)(this.props.tracks,e);this.setState({addTrackPosition:t,addTrackHost:n})}return e}()},{key:"handleReplaceTrack",value:function(){function e(e,t){this.trackToReplace=e,this.handleAddTrack(t)}return e}()},{key:"handleAddTrack",value:function(){function e(e){this.setState({addTrackPosition:e,addTrackHost:null})}return e}()},{key:"handleResizeTrack",value:function(){function e(e,t,n){var r=this.state.tracks;for(var i in r){var o=r[i],a=o.filter(function(t){return t.uid==e});a.length>0&&(a[0].width=t,a[0].height=n)}this.setState({tracks:r,forceUpdate:Math.random()})}return e}()},{key:"handleLockValueScale",value:function(){function e(e){this.setState({closeTrackMenuId:null,configTrackMenuId:null}),this.props.onLockValueScale(e)}return e}()},{key:"handleUnlockValueScale",value:function(){function e(e){this.setState({closeTrackMenuId:null,configTrackMenuId:null}),this.props.onUnlockValueScale(e)}return e}()},{key:"handleCloseTrack",value:function(){function e(e){this.props.onCloseTrack(e),this.setState({closeTrackMenuId:null,configTrackMenuId:null})}return e}()},{key:"handleChangeTrackType",value:function(){function e(e,t){this.setState({closeTrackMenuId:null,configTrackMenuId:null}),this.props.onChangeTrackType(e,t)}return e}()},{key:"handleTracksAdded",value:function(){function e(e,t,n){return this.trackToReplace&&(this.handleCloseTrack(this.trackToReplace),this.trackToReplace=null),this.props.onTracksAdded(e,t,n),this.setState({addTrackPosition:null,addTrackHost:null}),e}return e}()},{key:"handleCloseTrackMenuOpened",value:function(){function e(e,t){this.setState({closeTrackMenuId:e,closeTrackMenuLocation:t})}return e}()},{key:"handleCloseTrackMenuClosed",value:function(){function e(){this.setState({closeTrackMenuId:null})}return e}()},{key:"handleConfigTrackMenuOpened",value:function(){function e(e,t){this.setState({configTrackMenuId:e,configTrackMenuLocation:t})}return e}()},{key:"handleConfigTrackMenuClosed",value:function(){function e(){this.setState({configTrackMenuId:null})}return e}()},{key:"handleConfigureTrack",value:function(){function e(e,t){console.log("configComponent:",t),this.setState({configTrackMenuId:null,trackOptions:{track:e,configComponent:t}})}return e}()},{key:"handleSortEnd",value:function(){function e(e){for(var t=this.state.tracks,n={},r=0;r<e.length;r++)n[e[r].uid]=r;for(var i in t){var o=t[i];if(o.length&&o[0].uid in n){for(var a=new Array(o.length),s=0;s<o.length;s++)a[n[o[s].uid]]=o[s];t[i]=a}}this.setState({tracks:t,forceUpdate:Math.random()})}return e}()},{key:"createTracksAndLocations",value:function(){function e(){var e=[],t=this.state.tracks;for(var n in t)for(var r=0;r<t[n].length;r++)e.push({track:t[n][r],location:n});return e}return e}()},{key:"calculateTrackPosition",value:function(){function e(e,t){var n=this.props.verticalMargin,r=this.props.horizontalMargin;if("top"==t){r+=this.leftWidth,n+=0;for(var i=0;i<this.state.tracks.top.length&&this.state.tracks.top[i].uid!=e.uid;i++)n+=this.state.tracks.top[i].height;return{left:r,top:n,width:this.centerWidth,height:e.height,track:e}}if("bottom"==t){r+=this.leftWidth,n+=this.topHeight+this.centerHeight;for(var o=0;o<this.state.tracks.bottom.length&&this.state.tracks.bottom[o].uid!=e.uid;o++)n+=this.state.tracks.bottom[o].height;return{left:r,top:n,width:this.centerWidth,height:e.height,track:e}}if("left"==t){n+=this.topHeight;for(var a=0;a<this.state.tracks.left.length&&this.state.tracks.left[a].uid!=e.uid;a++)r+=this.state.tracks.left[a].width;return{left:r,top:n,width:e.width,height:this.centerHeight,track:e}}if("right"==t){r+=this.leftWidth+this.centerWidth,n+=this.topHeight;for(var s=0;s<this.state.tracks.right.length&&this.state.tracks.right[s].uid!=e.uid;s++)r+=this.state.tracks.right[s].width;return{left:r,top:n,width:e.width,
height:this.centerHeight,track:e}}if("center"==t)return r+=this.leftWidth,n+=this.topHeight,{left:r,top:n,width:this.centerWidth,height:this.centerHeight,track:e}}return e}()},{key:"positionedTracks",value:function(){function e(){var e=this;return this.createTracksAndLocations().map(function(t){var n=t.track,r=t.location;return e.calculateTrackPosition(n,r)})}return e}()},{key:"createTrackPositionTexts",value:function(){function e(){var e=this.positionedTracks();return this.createTracksAndLocations(),e.map(function(e){var t=e.track;return f.default.createElement("div",{key:t.uid,style:{left:e.left,top:e.top,width:e.width,height:e.height,position:"absolute"}},t.uid.slice(0,2))})}return e}()},{key:"handleExportTrackData",value:function(){function e(e,t){var n=(0,L.getTrackByUid)(this.props.tracks,t),r=null;r=this.trackRenderer.trackDefObjects[e].trackObject.createdTracks[n.uid],r.exportData()}return e}()},{key:"handleZoomToData",value:function(){function e(){var e=[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],t=[Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER];for(var n in this.trackRenderer.trackDefObjects){var r=this.trackRenderer.trackDefObjects[n],i=[r.trackObject];for(var o in r.trackObject.createdTracks){var a=r.trackObject.createdTracks[o];i.push(a)}var s=!0,u=!1,l=void 0;try{for(var c,f=i[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;if(h.tilesetInfo&&h.tilesetInfo.min_pos)for(var d=0;d<h.tilesetInfo.min_pos.length;d++)h.tilesetInfo.min_pos[d]<e[d]&&(e[d]=h.tilesetInfo.min_pos[d]),h.tilesetInfo.max_pos[d]>t[d]&&(t[d]=h.tilesetInfo.max_pos[d])}}catch(e){u=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(u)throw l}}}var p=[this.trackRenderer.currentProps.marginLeft+this.trackRenderer.currentProps.leftWidth,this.trackRenderer.currentProps.marginLeft+this.trackRenderer.currentProps.leftWidth+this.trackRenderer.currentProps.centerWidth].map(this.trackRenderer.zoomTransform.rescaleX(this.trackRenderer.xScale).invert),v=[this.trackRenderer.currentProps.marginTop+this.trackRenderer.currentProps.topHeight,this.trackRenderer.currentProps.marginTop+this.trackRenderer.currentProps.topHeight+this.trackRenderer.currentProps.centerHeight].map(this.trackRenderer.zoomTransform.rescaleY(this.trackRenderer.yScale).invert);this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),e[0]<Number.MAX_SAFE_INTEGER&&t[0]>Number.MIN_SAFE_INTEGER&&(p=[e[0],t[0]]),e[1]<Number.MAX_SAFE_INTEGER&&t[1]>Number.MIN_SAFE_INTEGER&&(v=[e[1],t[1]]),this.props.onDataDomainChanged(p,v)}return e}()},{key:"updatablePropsToString",value:function(){function e(e){return JSON.stringify({tracks:e.tracks,uid:e.uid,addTrackPosition:e.addTrackPosition,editable:e.editable,horizontalMargin:e.horizontalMargin,mouseTool:e.mouseTool,verticalTiledPlot:e.verticalMargin,initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,trackSourceServers:e.trackSourceServers,zoomable:e.zoomable})}return e}()},{key:"rangeToGenomeLoci",value:function(){function e(e,t){return t&&this.state.chromInfo?(0,L.pixelToGenomeLoci)(parseInt(t.invert(e[0]),10),parseInt(t.invert(e[1]),10),this.state.chromInfo):null}return e}()},{key:"rangeSelectionEndHandler",value:function(){function e(){this.state.rangeSelectionMaster&&this.setState({is1dRangeSelection:null,rangeSelection:[null,null],rangeSelectionMaster:null})}return e}()},{key:"rangeSelection1dHandler",value:function(){function e(e){var t=this,n="x"===e?this.xScale:this.yScale;return function(r){var i=t.state.is1dRangeSelection?[null,null]:t.state.rangeSelection.slice();i[t.state.is1dRangeSelection||"y"!==e?0:1]=t.rangeToGenomeLoci(r,n),t.setState({rangeSelection:i})}}return e}()},{key:"rangeSelection1dStartHandler",value:function(){function e(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!0,rangeSelectionMaster:!0})}return e}()},{key:"rangeSelection2dHandler",value:function(){function e(e){this.setState({rangeSelection:[this.rangeToGenomeLoci(e[0],this.xScale),this.rangeToGenomeLoci(e[1],this.yScale)]})}return e}()},{key:"rangeSelection2dStartHandler",value:function(){function e(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!1,rangeSelectionMaster:!0})}return e}()},{key:"render",value:function(){function e(){var e=this;this.topHeight=this.props.tracks.top.map(function(e){return e.height}).reduce(function(e,t){return e+t},0),this.bottomHeight=this.props.tracks.bottom.map(function(e){return e.height}).reduce(function(e,t){return e+t},0),this.leftWidth=this.props.tracks.left.map(function(e){return e.width}).reduce(function(e,t){return e+t},0),this.rightWidth=this.props.tracks.right.map(function(e){return e.width}).reduce(function(e,t){return e+t},0),this.centerHeight=this.state.height-this.topHeight-this.bottomHeight-2*this.props.verticalMargin,this.centerWidth=this.state.width-this.leftWidth-this.rightWidth-2*this.props.horizontalMargin;var t=f.default.createElement("div",{key:"topTracksDiv",style:{left:this.leftWidth+this.props.horizontalMargin,top:this.props.verticalMargin,width:this.centerWidth,height:this.topHeight,outline:"none",position:"absolute"}},f.default.createElement(j.default,{configTrackMenuId:this.state.configTrackMenuId,chromInfo:this.state.chromInfo,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===D.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelectionEndHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,resizeHandles:new Set(["bottom"]),scale:this.xScale,tracks:this.props.tracks.top,width:this.centerWidth})),n=f.default.createElement("div",{key:"leftTracksPlot",style:{left:this.props.horizontalMargin,top:this.topHeight+this.props.verticalMargin,width:this.leftWidth,height:this.centerHeight,outline:"none",position:"absolute"}},f.default.createElement(I.default,{configTrackMenuId:this.state.configTrackMenuId,chromInfo:this.state.chromInfo,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===D.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelectionEndHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,resizeHandles:new Set(["right"]),scale:this.yScale,tracks:this.props.tracks.left})),r=f.default.createElement("div",{style:{right:this.props.horizontalMargin,top:this.topHeight+this.props.verticalMargin,width:this.rightWidth,height:this.centerHeight,outline:"none",position:"absolute"}},f.default.createElement(I.default,{configTrackMenuId:this.state.configTrackMenuId,chromInfo:this.state.chromInfo,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===D.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelectionEndHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,resizeHandles:new Set(["left"]),scale:this.yScale,tracks:this.props.tracks.right,tracksControlAlignLeft:!0})),i=f.default.createElement("div",{style:{left:this.leftWidth+this.props.horizontalMargin,bottom:this.props.verticalMargin,width:this.centerWidth,height:this.bottomHeight,outline:"none",position:"absolute"}},f.default.createElement(j.default,{configTrackMenuId:this.state.configTrackMenuId,chromInfo:this.state.chromInfo,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===D.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelectionEndHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,resizeHandles:new Set(["top"]),scale:this.xScale,tracks:this.props.tracks.bottom,width:this.centerWidth})),o=f.default.createElement("div",{style:{left:this.leftWidth+this.props.horizontalMargin,top:this.props.verticalMargin+this.topHeight,width:this.centerWidth,height:this.bottomHeight,outline:"none"},className:"CenterTrack-module_center-track-container-2ELhp"});this.props.tracks.center.length&&(o=f.default.createElement("div",{style:{left:this.leftWidth+this.props.horizontalMargin,top:this.props.verticalMargin+this.topHeight,width:this.centerWidth,height:this.centerHeight,outline:"none"},className:"CenterTrack-module_center-track-container-2ELhp"},f.default.createElement(y.default,{configTrackMenuId:this.state.configTrackMenuId,chromInfo:this.state.chromInfo,editable:this.props.editable,height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===D.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelectionEnd:this.rangeSelectionEndHandler.bind(this),onRangeSelectionStart:this.rangeSelection2dStartHandler.bind(this),onRangeSelectionX:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionXY:this.rangeSelection2dHandler.bind(this),onRangeSelectionY:this.rangeSelection1dHandler("y").bind(this),rangeSelection:this.state.rangeSelection,scaleX:this.xScale,scaleY:this.yScale,tracks:this.props.tracks.center,uid:this.props.tracks.center[0].uid,width:this.centerWidth}))),this.createTrackPositionTexts();var a=this.positionedTracks(),s=null;this.state.sizeMeasured&&(s=f.default.createElement(w.default,{ref:function(){function t(t){e.trackRenderer=t}return t}(),canvasElement:this.props.canvasElement,centerHeight:this.centerHeight,centerWidth:this.centerWidth,dragging:this.props.dragging,height:this.state.height,initialXDomain:this.props.initialXDomain,initialYDomain:this.props.initialYDomain,isRangeSelection:this.props.mouseTool===D.MOUSE_TOOL_SELECT,leftWidth:this.leftWidth,marginLeft:this.props.horizontalMargin,marginTop:this.props.verticalMargin,onNewTilesLoaded:this.props.onNewTilesLoaded,onScalesChanged:this.handleScalesChanged.bind(this),onTilesetInfoReceived:this.handleTilesetInfoReceived.bind(this),onTrackOptionsChanged:this.handleTrackOptionsChanged.bind(this),onValueScaleChanged:this.props.onValueScaleChanged,pixiStage:this.props.pixiStage,positionedTracks:a,registerDraggingChangedListener:this.props.registerDraggingChangedListener,removeDraggingChangedListener:this.props.removeDraggingChangedListener,setCentersFunction:this.props.setCentersFunction,svgElement:this.props.svgElement,topHeight:this.topHeight,uid:this.props.uid,width:this.state.width,zoomable:this.props.zoomable},t,n,r,i,o));var u=null,l=null;this.state.configTrackMenuId&&(u=f.default.createElement(E.default,{onMenuClosed:this.handleConfigTrackMenuClosed.bind(this)},f.default.createElement(S.default,{closeMenu:this.handleConfigTrackMenuClosed.bind(this),onAddSeries:this.handleAddSeries.bind(this),onAddTrack:this.handleAddTrack.bind(this),onChangeTrackType:this.handleChangeTrackType.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onConfigureTrack:this.handleConfigureTrack.bind(this),onExportData:this.handleExportTrackData.bind(this),onLockValueScale:this.handleLockValueScale.bind(this),onReplaceTrack:this.handleReplaceTrack.bind(this),onTrackOptionsChanged:this.handleTrackOptionsChanged.bind(this),onUnlockValueScale:this.handleUnlockValueScale.bind(this),ref:function(){function t(t){return e.configTrackMenu=t}return t}(),position:this.state.configTrackMenuLocation,track:(0,L.getTrackByUid)(this.props.tracks,this.state.configTrackMenuId),trackOrientation:(0,L.getTrackPositionByUid)(this.props.tracks,this.state.configTrackMenuId)}))),this.state.closeTrackMenuId&&(l=f.default.createElement(E.default,{onMenuClosed:this.handleCloseTrackMenuClosed.bind(this)},f.default.createElement(M.default,{position:this.state.closeTrackMenuLocation},f.default.createElement(T.default,{onCloseTrack:this.handleCloseTrack.bind(this),track:(0,L.getTrackByUid)(this.props.tracks,this.state.closeTrackMenuId)}))));var c=null;this.props.chooseTrackHandler&&(c=a.map(function(t){var n="transparent",r="none";return e.state.mouseOverOverlayUid==t.track.uid&&(n="yellow",r="1px solid black"),f.default.createElement("div",{className:"tiled-plot-track-overlay",key:t.track.uid,onClick:function(){function n(){e.setState({mouseOverOverlayUid:null}),e.props.chooseTrackHandler(t.track.uid)}return n}(),onMouseEnter:function(){function n(){return e.handleOverlayMouseEnter(t.track.uid)}return n}(),onMouseLeave:function(){function n(){return e.handleOverlayMouseLeave(t.track.uid)}return n}(),style:{position:"absolute",left:t.left,top:t.top,width:t.width,height:t.height,background:n,opacity:.4,border:r}})}));var h=null;if(this.xScale&&this.yScale&&this.props.editable&&this.state.trackOptions){var d=this.state.trackOptions.configComponent,p=this.state.trackOptions.track;h=f.default.createElement(d,{track:p,xScale:this.xScale,yScale:this.yScale,onCancel:function(){function t(){e.setState({trackOptions:null})}return t}(),onTrackOptionsChanged:function(){function e(e){return e}return e}(),onSubmit:function(){function t(t){e.handleTrackOptionsChanged(e.state.trackOptions.track.uid,t),e.setState({trackOptions:null})}return t}()})}var v=null,g=this.state.addTrackPosition?this.state.addTrackPosition:this.props.addTrackPosition;return(this.state.addTrackPosition||this.props.addTrackPosition)&&(v=f.default.createElement(_.default,{host:this.state.addTrackHost,onCancel:this.handleNoTrackAdded.bind(this),onTracksChosen:this.handleTracksAdded.bind(this),position:g,ref:function(){function t(t){e.addTrackModal=t}return t}(),show:null!=this.state.addTrackPosition||null!=this.props.addTrackPosition,trackSourceServers:this.props.trackSourceServers})),f.default.createElement("div",{ref:function(){function t(t){e.divTiledPlot=t}return t}(),className:"TiledPlot-module_tiled-plot-uFHiB"},s,c,v,u,l,h)}return e}()}]),t}(f.default.Component));F.propTypes={addTrackPosition:v.default.string,canvasElement:v.default.object,chooseTrackHandler:v.default.func,chromInfoPath:v.default.string,dragging:v.default.bool,editable:v.default.bool,horizontalMargin:v.default.number,initialXDomain:v.default.array,initialYDomain:v.default.array,mouseTool:v.default.string,onCloseTrack:v.default.func,onDataDomainChanged:v.default.func,onLockValueScale:v.default.func,onNoTrackAdded:v.default.func,onNewTilesLoaded:v.default.func,onRangeSelection:v.default.func,onScalesChanged:v.default.func,onTracksAdded:v.default.func,onTrackOptionsChanged:v.default.func,onTrackPositionChosen:v.default.func,onValueScaleChanged:v.default.func,onUnlockValueScale:v.default.func,registerDraggingChangedListener:v.default.func,removeDraggingChangedListener:v.default.func,setCentersFunction:v.default.func,pixiStage:v.default.object,svgElement:v.default.object,trackSourceServers:v.default.array,tracks:v.default.object,"tracks.top":v.default.array,"tracks.bottom":v.default.array,"tracks.left":v.default.array,"tracks.right":v.default.array,verticalMargin:v.default.number,uid:v.default.string,zoomable:v.default.bool},t.default=F},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TilesetFinder=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(7),c=n(0),f=r(c),h=n(62),d=n(11),p=r(d),v=n(9),g=r(v),m=n(6),y=t.TilesetFinder=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.localTracks=m.TRACKS_INFO.filter(function(e){return e.local&&!e.hidden}).filter(function(e){return e.orientation==n.props.orientation}).filter(function(e){return!e.hidden}),n.localTracks.forEach(function(e){return e.uuid=g.default.nice()});var r=n.prepareNewEntries("",n.localTracks,{}),i=Object.keys(r),s=i.length?[i[0]]:null;return n.mounted=!1,n.state={selectedUuid:s,options:r,filter:""},n.requestTilesetLists(),n}return s(t,e),u(t,[{key:"serverUidKey",value:function(){function e(e,t){return e+"/"+t}return e}()},{key:"prepareNewEntries",value:function(){function e(e,t,n){var r=this,i=n;return t.map(function(t){return Object.assign({},t,{server:e,tilesetUid:t.uuid,serverUidKey:r.serverUidKey(e,t.uuid),datatype:t.datatype,name:t.name,uid:g.default.nice()})}).forEach(function(e){i[e.serverUidKey]=e}),i}return e}()},{key:"componentDidMount",value:function(){function e(){this.mounted=!0,this.requestTilesetLists();var e=[this.state.options[this.state.selectedUuid]];e&&this.props.selectedTilesetChanged(e)}return e}()},{key:"componentWillUnmount",value:function(){function e(){this.mounted=!1}return e}()},{key:"requestTilesetLists",value:function(){function e(){var e=this,t=new Set(m.TRACKS_INFO.filter(function(e){return e.datatype}).filter(function(t){return t.orientation==e.props.orientation}).map(function(e){return e.datatype})),n=[].concat(i(t)).map(function(e){return"dt="+e}).join("&");if(!this.props.trackSourceServers)return void console.warn("No track source servers specified in the viewconf");this.props.trackSourceServers.forEach(function(t){l.tileProxy.json(t+"/tilesets/?limit=10000&"+n,function(n,r){if(n)console.error("ERROR:",n);else{var i=e.prepareNewEntries(t,r.results,e.state.options),o=Object.keys(i),a=e.state.selectedUuid;if(!a){a=o.length?[o[0]]:null;var s=e.state.options[a];e.props.selectedTilesetChanged(s)}e.mounted&&e.setState({selectedUuid:a,options:i})}})})}return e}()},{key:"handleOptionDoubleClick",value:function(){function e(e,t){var n=this.state.options[e.target.value];this.props.onDoubleClick(n)}return e}()},{key:"handleSelectedOptions",value:function(){function e(e){for(var t=[],n=[],r=0;r<e.length;r++)t.push(e[r]),n.push(this.state.options[e[r]]);this.props.selectedTilesetChanged(n),this.setState({selectedUuid:t})}return e}()},{key:"handleSelect",value:function(){function e(e){for(var t=p.default.findDOMNode(this.multiSelect).selectedOptions,n=[],r=0;r<t.length;r++){var i=t[r];n.push(i.value)}this.handleSelectedOptions(n)}return e}()},{key:"handleSearchChange",value:function(){function e(){var e=p.default.findDOMNode(this.searchBox);this.setState({filter:e.value})}return e}()},{key:"render",value:function(){function e(){var e=this,t=[];for(var n in this.state.options)t.push(this.state.options[n]);var r=t.filter(function(t){return t.name.toLowerCase().includes(e.state.filter)}).map(function(t){return f.default.createElement("option",{onDoubleClick:e.handleOptionDoubleClick.bind(e),key:t.serverUidKey,value:t.serverUidKey},t.name)}),i=f.default.createElement(h.Form,{horizontal:!0},f.default.createElement(h.FormGroup,null,f.default.createElement(h.Col,{sm:3},f.default.createElement(h.ControlLabel,null,"Select tileset")),f.default.createElement(h.Col,{smOffset:5,sm:4},f.default.createElement(h.FormControl,{placeholder:"Search Term",ref:function(){function t(t){e.searchBox=t}return t}(),onChange:this.handleSearchChange.bind(this),autoFocus:!0}),f.default.createElement("div",{style:{height:10}})),f.default.createElement(h.Col,{sm:12},f.default.createElement(h.FormControl,{componentClass:"select",multiple:!0,className:"tileset-list",value:this.state.selectedUuid?this.state.selectedUuid:["x"],onChange:this.handleSelect.bind(this),ref:function(){function t(t){return e.multiSelect=t}return t}(),size:15},r))));return f.default.createElement("div",null,i)}return e}()}]),t}(f.default.Component);t.default=y},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TopAxisTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),u=n(169),l=n(53),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=t.TopAxisTrack=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.axis=(0,u.axisTop)(n._xScale),n.gAxis=n.gMain.append("g"),n.tilesetInfo=!0,n}return o(t,e),a(t,[{key:"setDimensions",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDimensions",this).call(this,e),this.axis.ticks(Math.ceil(this.dimensions[0]/150)),this.gAxis.attr("transform","translate(0,"+e[1]+")")}return e}()},{key:"draw",value:function(){function e(){return this.axis.scale(this._xScale),this.gAxis.call(this.axis),this}return e}()},{key:"zoomed",value:function(){function e(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n),this.draw()}return e}()}]),t}(c.default);t.default=f},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TrackArea=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),l=r(u),c=n(0),f=r(c),h=n(11),d=r(h),p=n(49),v=t.TrackArea=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={controlsVisible:!1},n}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){function e(){return!this.resizing}return e}()},{key:"handleMouseEnter",value:function(){function e(){this.setState({controlsVisible:!0})}return e}()},{key:"handleMouseLeave",value:function(){function e(){this.setState({controlsVisible:!1})}return e}()},{key:"handleMouseMove",value:function(){function e(){this.setState({controlsVisible:!0})}return e}()},{key:"getControls",value:function(){function e(){var e=this,t=null;return t=this.moveable?(0,p.SortableHandle)(function(){return f.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:function(){function e(){}return e}(),style:e.getMoveImgStyle(),width:"10px"},f.default.createElement("use",{xlinkHref:"#move"}))}):(0,p.SortableHandle)(function(){return f.default.createElement("div",null)}),f.default.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(255,255,255,0.7)",right:"3px",top:"3px",pointerEvents:"none",paddingLeft:"5px",paddingRight:"5px",borderRadius:"5px",border:"1px solid #dddddd"}},f.default.createElement(t,null),f.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:function(){function t(){var t=d.default.findDOMNode(e.imgConfig),n=t.getBoundingClientRect();e.props.onConfigTrackMenuOpened(e.props.uid,n)}return t}(),ref:function(){function t(t){e.imgConfig=t}return t}(),style:this.getSettingsImgStyle(),width:"10px"},f.default.createElement("use",{xlinkHref:"#cog"})),f.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:function(){function t(){return e.props.onAddSeries(e.props.uid)}return t}(),ref:function(){function t(t){e.imgAdd=t}return t}(),style:this.getAddImgStyle(),width:"10px"},f.default.createElement("use",{xlinkHref:"#plus"})),f.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:function(){function t(){var t=d.default.findDOMNode(e.imgClose),n=t.getBoundingClientRect();e.props.onCloseTrackMenuOpened(e.props.uid,n)}return t}(),ref:function(){function t(t){e.imgClose=t}return t}(),style:this.getCloseImgStyle(),width:"10px"},f.default.createElement("use",{xlinkHref:"#cross"})))}return e}()}]),t}(f.default.Component);v.propTypes={configMenuOpen:l.default.bool,onConfigTrackMenuOpened:l.default.func,onCloseTrackMenuOpened:l.default.func,onAddSeries:l.default.func,uid:l.default.string},t.default=v},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TrackRenderer=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),f=n(11),h=r(f),d=n(2),p=r(d),v=n(10),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(v),m=n(493),y=n(4),b=n(13),w=n(83),x=r(w),_=n(275),k=r(_),S=n(276),O=r(S),T=n(277),C=r(T),E=n(287),P=r(E),M=n(278),A=r(M),j=n(258),R=r(j),I=n(251),L=r(I),D=n(64),N=r(D),B=n(272),F=r(B),V=n(140),z=r(V),H=n(262),U=r(H),q=n(252),W=r(q),G=n(279),Y=r(G),X=n(85),Z=r(X),K=n(269),$=r(K),Q=n(249),J=r(Q),ee=n(267),te=r(ee),ne=n(284),re=r(ne),ie=n(256),oe=r(ie),ae=n(255),se=r(ae),ue=n(254),le=r(ue),ce=n(268),fe=r(ce),he=n(270),de=r(he),pe=n(290),ve=r(pe),ge=n(291),me=r(ge),ye=n(297),be=r(ye),we=n(298),xe=r(we),_e=n(299),ke=r(_e),Se=n(144),Oe=r(Se),Te=n(280),Ce=r(Te),Ee=n(3),Pe=n(7),Me=n(6);n(511);var Ae=100,je=t.TrackRenderer=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dragging=!1,n.element=null,n.closing=!1,n.yPositionOffset=0,n.xPositionOffset=0,n.scrollTimeout=null,n.activeTransitions=0,n.zoomTransform=m.zoomIdentity,n.windowScrolledBound=n.windowScrolled.bind(n),n.zoomStartedBound=n.zoomStarted.bind(n),n.zoomedBound=n.zoomed.bind(n),n.zoomEndedBound=n.zoomEnded.bind(n),n.mounted=!1,n.emptyZoomBehavior=(0,m.zoom)(),n.currentProps=e,n.prevPropsStr="",n.zoomBehavior=(0,m.zoom)().filter(function(){return!y.event.target.classList.contains("no-zoom")&&!y.event.target.classList.contains("react-resizable-handle")}).on("start",n.zoomStartedBound).on("zoom",n.zoomedBound).on("end",n.zoomEndedBound),n.initialXDomain=[0,1],n.initialYDomain=[0,1],n.prevCenterX=n.currentProps.marginLeft+n.currentProps.leftWidth+n.currentProps.centerWidth/2,n.prevCenterY=n.currentProps.marginTop+n.currentProps.topHeight+n.currentProps.centerHeight/2,n.cumCenterXOffset=0,n.cumCenterYOffset=0,n.setUpInitialScales(n.currentProps.initialXDomain,n.currentProps.initialYDomain),n.setUpScales(),n.trackDefObjects={},n.pubSubs=[],n}return s(t,e),u(t,[{key:"componentWillMount",value:function(){function e(){this.pubSubs=[],this.pubSubs.push(Pe.pubSub.subscribe("scroll",this.windowScrolledBound))}return e}()},{key:"componentDidMount",value:function(){function e(){this.element=h.default.findDOMNode(this),this.divTrackAreaSelection=(0,y.select)(this.divTrackArea),this.svgTrackAreaSelection=(0,y.select)(this.svgTrackArea),this.pStage=new g.Graphics,this.pMask=new g.Graphics,this.pStage.addChild(this.pMask),this.currentProps.pixiStage.addChild(this.pStage),this.pStage.mask=this.pMask,this.props.isRangeSelection||this.addZoom(),this.canvasDom=h.default.findDOMNode(this.currentProps.canvasElement),this.mounted=!0,this.currentProps.svgElement&&this.currentProps.canvasElement&&(this.svgElement=this.currentProps.svgElement,this.syncTrackObjects(this.currentProps.positionedTracks),this.currentProps.setCentersFunction(this.setCenter.bind(this)),this.currentProps.registerDraggingChangedListener(this.draggingChanged.bind(this)),this.draggingChanged(!0))}return e}()},{key:"componentWillReceiveProps",value:function(){function e(e){if(e.svgElement&&e.canvasElement){var t=this.updatablePropsToString(e);if(this.currentProps=e,
this.prevPropsStr!==t){for(var n in this.trackDefObjects)this.trackDefObjects[n].trackObject.delayDrawing=!0;this.prevPropsStr=t,this.setUpInitialScales(e.initialXDomain,e.initialYDomain),this.setUpScales(e.width!==this.props.width||e.height!==this.props.height),this.canvasDom=h.default.findDOMNode(e.canvasElement),this.svgElement=e.svgElement,this.syncTrackObjects(e.positionedTracks);var r=!0,i=!1,o=void 0;try{for(var a,s=e.positionedTracks[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=u.track.options,c=this.trackDefObjects[u.track.uid].trackObject;if(c.rerender(l),u.track.hasOwnProperty("contents")){var f={},d=!0,p=!1,v=void 0;try{for(var g,m=u.track.contents[Symbol.iterator]();!(d=(g=m.next()).done);d=!0){var y=g.value;f[y.uid]=y}}catch(e){p=!0,v=e}finally{try{!d&&m.return&&m.return()}finally{if(p)throw v}}for(var b in c.createdTracks)c.createdTracks[b].rerender(f[b].options)}}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}this.props.onNewTilesLoaded();for(var w in this.trackDefObjects){var x=this.trackDefObjects[w].trackObject;x.delayDrawing=!1,x.draw()}}}}return e}()},{key:"componentDidUpdate",value:function(){function e(e){e.isRangeSelection!==this.props.isRangeSelection&&(this.props.isRangeSelection?this.removeZoom():this.addZoom())}return e}()},{key:"componentWillUnmount",value:function(){function e(){this.mounted=!1,this.removeTracks(Object.keys(this.trackDefObjects)),this.currentProps.removeDraggingChangedListener(this.draggingChanged),this.currentProps.pixiStage.removeChild(this.pStage),this.pMask.destroy(!0),this.pStage.destroy(!0),this.pubSubs.forEach(function(e){return Pe.pubSub.unsubscribe(e)}),this.pubSubs=[]}return e}()},{key:"addZoom",value:function(){function e(){this.divTrackAreaSelection&&(this.divTrackAreaSelection.call(this.zoomBehavior),this.zoomBehavior.transform(this.divTrackAreaSelection,this.zoomTransform))}return e}()},{key:"removeZoom",value:function(){function e(){this.divTrackAreaSelection&&(this.zoomEnded(),this.divTrackAreaSelection.on(".zoom",null))}return e}()},{key:"setMask",value:function(){function e(){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pMask.endFill()}return e}()},{key:"windowScrolled",value:function(){function e(){var e=this;this.removeZoom(),this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){e.addZoom()},Ae)}return e}()},{key:"setUpInitialScales",value:function(){function e(e,t){var n=e[1]-e[0],r=(t[0]+t[1])/2;t[0]=r-n/2,t[1]=r+n/2,e[0]==this.initialXDomain[0]&&e[1]==this.initialXDomain[1]&&t[0]==this.initialYDomain[0]&&t[1]==this.initialYDomain[1]||(this.initialXDomain=e,this.initialYDomain=t,this.cumCenterYOffset=0,this.cumCenterXOffset=0,this.drawableToDomainX=(0,b.scaleLinear)().domain([this.currentProps.marginLeft+this.currentProps.leftWidth,this.currentProps.marginLeft+this.currentProps.leftWidth+this.currentProps.centerWidth]).range([e[0],e[1]]),this.drawableToDomainY=(0,b.scaleLinear)().domain([this.currentProps.marginTop+this.currentProps.topHeight+this.currentProps.centerHeight/2-this.currentProps.centerWidth/2,this.currentProps.marginTop+this.currentProps.topHeight+this.currentProps.centerHeight/2+this.currentProps.centerWidth/2]).range([t[0],t[1]]),this.prevCenterX=this.currentProps.marginLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,this.prevCenterY=this.currentProps.marginTop+this.currentProps.topHeight+this.currentProps.centerHeight/2)}return e}()},{key:"updatablePropsToString",value:function(){function e(e){return JSON.stringify({positionedTracks:e.positionedTracks,initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,width:e.width,height:e.height,marginLeft:e.marginLeft,marginRight:e.marginRight,leftWidth:e.leftWidth,topHeight:e.topHeight,dragging:e.dragging})}return e}()},{key:"draggingChanged",value:function(){function e(e){this.dragging=e,this.timedUpdatePositionAndDimensions()}return e}()},{key:"setUpScales",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.currentProps.marginLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,n=this.currentProps.marginTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,r=(this.drawableToDomainX(t)-this.drawableToDomainX(this.prevCenterX))/this.zoomTransform.k,i=(this.drawableToDomainY(n)-this.drawableToDomainY(this.prevCenterY))/this.zoomTransform.k;this.cumCenterYOffset+=i,this.cumCenterXOffset+=r,this.prevCenterY=n,this.prevCenterX=t;var o=[this.drawableToDomainX(0)-this.cumCenterXOffset,this.drawableToDomainX(this.currentProps.width)-this.cumCenterXOffset],a=[this.drawableToDomainY(0)-this.cumCenterYOffset,this.drawableToDomainY(this.currentProps.height)-this.cumCenterYOffset];this.xScale=(0,b.scaleLinear)().domain(o).range([0,this.currentProps.width]),this.yScale=(0,b.scaleLinear)().domain(a).range([0,this.currentProps.height]);for(var s in this.trackDefObjects)this.trackDefObjects[s].trackObject.refScalesChanged(this.xScale,this.yScale);this.applyZoomTransform(e)}return e}()},{key:"getTrackObject",value:function(){function e(e){for(var t=(0,Ee.dictItems)(this.trackDefObjects),n=0;n<t.length;n++){var r=t[n][0],i=t[n][1].trackObject;if(r==e)return i;if(i.createdTracks)for(var o=(0,Ee.dictItems)(i.createdTracks),a=0;a<o.length;a++){var s=o[a][0],u=o[a][1];if(s==e)return u}}}return e}()},{key:"timedUpdatePositionAndDimensions",value:function(){function e(){!this.closing&&this.mounted&&this.dragging&&(this.yPositionOffset=this.element.getBoundingClientRect().top-this.canvasDom.getBoundingClientRect().top,this.xPositionOffset=this.element.getBoundingClientRect().left-this.canvasDom.getBoundingClientRect().left,this.setMask(),this.updateTrackPositions()&&this.applyZoomTransform(!0),requestAnimationFrame(this.timedUpdatePositionAndDimensions.bind(this)))}return e}()},{key:"syncTrackObjects",value:function(){function e(e){for(var t={},n=0;n<e.length;n++)t[e[n].track.uid]=e[n];var r=new Set(Object.keys(this.trackDefObjects)),o=new Set(Object.keys(t)),a=new Set([].concat(i(o)).filter(function(e){return!r.has(e)})),s=new Set([].concat(i(r)).filter(function(e){return!o.has(e)})),u=new Set([].concat(i(o)).filter(function(e){return r.has(e)}));this.updateExistingTrackDefs([].concat(i(u)).map(function(e){return t[e]})),this.addNewTracks([].concat(i(a)).map(function(e){return t[e]})),this.updateExistingTrackDefs([].concat(i(a)).map(function(e){return t[e]})),this.removeTracks([].concat(i(s)))}return e}()},{key:"addNewTracks",value:function(){function e(e){if(this.currentProps.pixiStage){for(var t=0;t<e.length;t++){var n=e[t],r=this.createTrackObject(n.track);r.refScalesChanged(this.xScale,this.yScale),this.trackDefObjects[n.track.uid]={trackDef:n,trackObject:r};var i=this.zoomTransform.rescaleX(this.xScale),o=this.zoomTransform.rescaleY(this.yScale);r.setDimensions([n.width,n.height]),r.zoomed(i,o)}this.applyZoomTransform(!1)}}return e}()},{key:"updateExistingTrackDefs",value:function(){function e(e){for(var t=0;t<e.length;t++)this.trackDefObjects[e[t].track.uid].trackDef=e[t],"combined"==e[t].track.type&&this.trackDefObjects[e[t].track.uid].trackObject.updateContents(e[t].track.contents,this.createTrackObject.bind(this)).refScalesChanged(this.xScale,this.yScale);this.updateTrackPositions()&&this.applyZoomTransform(!1)}return e}()},{key:"updateTrackPositions",value:function(){function e(){var e=!1;for(var t in this.trackDefObjects){var n=this.trackDefObjects[t].trackDef,r=this.trackDefObjects[t].trackObject,i=r.position,o=r.dimensions,a=[this.xPositionOffset+n.left,this.yPositionOffset+n.top],s=[n.width,n.height];i&&a[0]==i[0]&&a[1]==i[1]||(r.setPosition(a),e=!0),o&&s[0]==o[0]&&s[1]==o[1]||(r.setDimensions(s),e=!0),n.width,this.currentProps.width,n.height,this.currentProps.height}return e}return e}()},{key:"removeTracks",value:function(){function e(e){for(var t=0;t<e.length;t++)this.trackDefObjects[e[t]].trackObject.remove(),delete this.trackDefObjects[e[t]]}return e}()},{key:"setCenter",value:function(){function e(e,t,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Me.ZOOM_TRANSITION_DURATION,s=this.xScale.invert(1)-this.xScale.invert(0),u=s/n,l=this.currentProps.marginLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,c=this.currentProps.marginTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,f=l-this.xScale(e)*u,h=c-this.yScale(t)*u,d=void 0,p=function(){function e(){var e=m.zoomIdentity.translate(f,h).scale(u);i.zoomTransform=e,i.emptyZoomBehavior.transform(i.divTrackAreaSelection,e),d=i.applyZoomTransform(r)}return e}();if(o){var v=this.divTrackAreaSelection;this.activeTransitions+=1,document.hidden||(v=v.transition().duration(a)),v.call(this.zoomBehavior.transform,m.zoomIdentity.translate(f,h).scale(u)).on("end",function(){p(),i.activeTransitions-=1})}else p();return d}return e}()},{key:"zoomed",value:function(){function e(){this.zoomTransform=this.currentProps.zoomable?y.event.transform:m.zoomIdentity,this.applyZoomTransform(!0)}return e}()},{key:"zoomStarted",value:function(){function e(){this.zooming=!0}return e}()},{key:"zoomEnded",value:function(){function e(){this.zooming=!1}return e}()},{key:"applyZoomTransform",value:function(){function e(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.zoomTransform.rescaleX(this.xScale),n=this.zoomTransform.rescaleY(this.yScale),r=(0,b.scaleLinear)().domain([this.currentProps.marginLeft+this.currentProps.leftWidth,this.currentProps.marginLeft+this.currentProps.leftWidth+this.currentProps.centerWidth].map(t.invert)).range([0,this.currentProps.centerWidth]),i=(0,b.scaleLinear)().domain([this.currentProps.marginTop+this.currentProps.topHeight,this.currentProps.marginTop+this.currentProps.topHeight+this.currentProps.centerHeight].map(n.invert)).range([0,this.currentProps.centerHeight]);for(var o in this.trackDefObjects)this.trackDefObjects[o].trackObject.zoomed(r.copy(),i.copy(),this.zoomTransform.k,this.zoomTransform.x+this.xPositionOffset,this.zoomTransform.y+this.yPositionOffset,this.currentProps.marginLeft+this.currentProps.leftWidth,this.currentProps.marginTop+this.currentProps.topHeight);return e&&this.currentProps.onScalesChanged(r,i),[r,i]}return e}()},{key:"createTrackObject",value:function(){function e(e){var t=this,n=function(){function n(n){t.currentProps.onTilesetInfoReceived(e.uid,n)}return n}(),r=e.data;switch(r||(r={server:e.server,tilesetUid:e.tilesetUid}),e.type){case"left-axis":return new A.default(this.svgElement);case"top-axis":return new P.default(this.svgElement);case"heatmap":return new x.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},this.svgElement,function(){return t.currentProps.onValueScaleChanged(e.uid)},function(n){return t.currentProps.onTrackOptionsChanged(e.uid,n)});case"horizontal-line":return new N.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)});case"vertical-line":return new Y.default(new N.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)}));case"horizontal-point":return new F.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)});case"vertical-point":return new Y.default(new F.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)}));case"horizontal-bar":return new z.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)});case"horizontal-divergent-bar":return new U.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)});case"vertical-bar":return new Y.default(new z.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)}));case"horizontal-1d-tiles":return new O.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"vertical-1d-tiles":return new C.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"2d-tiles":return new k.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"top-stacked-interval":return new W.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)});case"left-stacked-interval":return new Y.default(new W.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)}));case"viewport-projection-center":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?new be.default(this.svgElement,e.registerViewportChanged,e.removeViewportChanged,e.setDomainsCallback,e.options):new Z.default;case"viewport-projection-horizontal":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?new xe.default(this.svgElement,e.registerViewportChanged,e.removeViewportChanged,e.setDomainsCallback,e.options):new Z.default;case"viewport-projection-vertical":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?new ke.default(this.svgElement,e.registerViewportChanged,e.removeViewportChanged,e.setDomainsCallback,e.options):new Z.default;case"horizontal-gene-annotations":return new $.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"vertical-gene-annotations":return new Y.default(new $.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)}));case"2d-rectangle-domains":return new J.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"vertical-2d-rectangle-domains":return new Y.default(new te.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)}));case"horizontal-2d-rectangle-domains":return new te.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"arrowhead-domains":return new J.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"square-markers":return new re.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"combined":return new R.default(e.contents,this.createTrackObject.bind(this),n,e.options);case"2d-chromosome-labels":return new oe.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"2d-chromosome-grid":return new se.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},e.chromInfoPath);case"horizontal-chromosome-labels":return new fe.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},e.chromInfoPath);case"vertical-chromosome-labels":return new Y.default(new fe.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},e.chromInfoPath));case"horizontal-heatmap":return new de.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},this.svgElement,function(){return t.currentProps.onValueScaleChanged(e.uid)},function(n){return t.currentProps.onTrackOptionsChanged(e.uid,n)});case"vertical-heatmap":return new Y.default(new de.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},this.svgElement,function(){return t.currentProps.onValueScaleChanged(e.uid)},function(n){return t.currentProps.onTrackOptionsChanged(e.uid,n)}));case"2d-chromosome-annotations":return new le.default(this.pStage,e.chromInfoPath,e.options);case"horizontal-1d-value-interval":return new me.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"vertical-1d-value-interval":return new Y.default(new me.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)}));case"osm-tiles":return new Oe.default(this.pStage,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"mapbox-tiles":return new Ce.default(this.pStage,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"bedlike":return new L.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});default:return console.warn("WARNING: unknown track type:",e.type),new ve.default(this.pStage,{name:"Unknown Track Type"})}}return e}()},{key:"render",value:function(){function e(){var e=this;return c.default.createElement("div",{ref:function(){function t(t){return e.divTrackArea=t}return t}(),style:{height:this.currentProps.height,width:this.currentProps.width},className:"TrackRenderer-module_track-renderer-3TM7n"},this.currentProps.children)}return e}()}]),t}(c.default.Component);je.propTypes={canvasElement:p.default.object,centerHeight:p.default.number,centerWidth:p.default.number,children:p.default.array,height:p.default.number,initialXDomain:p.default.array,initialYDomain:p.default.array,isRangeSelection:p.default.bool,leftWidth:p.default.number,marginLeft:p.default.number,marginTop:p.default.number,onScalesChanged:p.default.func,pixiStage:p.default.object,positionedTracks:p.default.array,svgElement:p.default.object,topHeight:p.default.number,width:p.default.number},t.default=je},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownPixiTrack=void 0;var a=n(26),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=t.UnknownPixiTrack=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(s.default);t.default=u},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ValueIntervalTrack=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(13),c=n(64),f=r(c),h=n(82),d=r(h),p=n(3),v=t.ValueIntervalTrack=function(e){function t(e,n,r,i,s,u){o(this,t);var l=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i,s,u));return l.axis=new d.default(l),l.pBase.addChild(l.axis.pAxis),l}return s(t,e),u(t,[{key:"initTile",value:function(){function e(e){this.scale.minRawValue=this.minVisibleValue(),this.scale.maxRawValue=this.maxVisibleValue(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue,this.drawTile(e)}return e}()},{key:"drawTile",value:function(){function e(e){var t=this;if(e.graphics){var n=e.graphics;n.clear(),this.valueScale=(0,l.scaleLog)().domain([this.minValue()+.01,this.maxValue()]).range([this.dimensions[1]-3,3]);var r=(0,p.colorToHex)("black");n.lineStyle(1,r,.3),n.beginFill(r,.3),this.drawAxis(this.valueScale),e.tileData.forEach(function(e){var r=e.fields,i=+e.chrOffset,o=+r[1]+i,a=+r[2]+i,s=+r[3],u=t._xScale(o),l=t._xScale(a),c=Math.max(l-u,4),f=t.valueScale(s),h=(l+u)/2;n.drawRect(h-c/2,f-3,c,6)})}}return e}()},{key:"minVisibleValue",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds();return 0==t.length&&(t=Object.keys(this.fetchedTiles)),Math.min.apply(null,t.map(function(t){return+Math.min.apply(Math,i(e.fetchedTiles[t].tileData.filter(function(e){return!isNaN(e.fields[3])}).map(function(e){return+e.fields[3]})))}))}return e}()},{key:"maxVisibleValue",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds();return 0==t.length&&(t=Object.keys(this.fetchedTiles)),Math.max.apply(null,t.map(function(t){return+Math.max.apply(Math,i(e.fetchedTiles[t].tileData.filter(function(e){return!isNaN(e.fields[3])}).map(function(e){return+e.fields[3]})))}))}return e}()}]),t}(f.default);t.default=v},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalItem=void 0;var i=n(0),o=r(i),a=n(49),s=n(295),u=r(s),l=t.VerticalItem=(0,a.SortableElement)(function(e){return o.default.createElement(u.default,{className:e.className,controlAlignLeft:e.controlAlignLeft,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})});t.default=l},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalTiled1DPixiTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),u=n(147),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(7),f=t.VerticalTiled1DPixiTrack=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"calculateZoomLevel",value:function(){function e(){var e=c.tileProxy.calculateZoomLevel(this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);return Math.min(e,this.maxZoom)}return e}()},{key:"relevantScale",value:function(){function e(){return this._yScale}return e}()},{key:"zoomed",value:function(){function e(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n);var r=(n(1)-n(0))/(this._refYScale(1)-this._refYScale(0)),i=this.position[0],o=n(0)+this.position[1]-this._refYScale(1)*r;this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=1,this.pMain.scale.y=r}return e}()}]),t}(l.default);t.default=f},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalTiledPlot=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(28),l=r(u),c=n(2),f=r(c),h=n(0),d=r(h),p=n(29),v=n(4),g=n(9),m=r(g),y=n(142),b=r(y),w=n(292),x=r(w),_=n(146),k=r(_),S=n(3),O=n(6),T=n(512),C=(r(T),n(120)),E=r(C),P=n(121),M=(r(P),{styles:{"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4"}}),A=t.VerticalTiledPlot=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.brushBehavior=(0,p.brushY)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){this.props.isRangeSelectionActive&&this.addBrush()}return e}()},{key:"shouldComponentUpdate",value:function(){function e(e,t){if(this.rangeSelectionTriggered)return this.rangeSelectionTriggered=!1,this.state!==t;if(this.props.rangeSelection!==e.rangeSelection){var n=this.props.is1dRangeSelection?0:1;return this.props.chromInfo&&this.moveBrush(e.rangeSelection[n]?(0,S.genomeLociToPixels)(e.rangeSelection[n],this.props.chromInfo):null),this.state!==t}return!0}return e}()},{key:"componentDidUpdate",value:function(){function e(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}return e}()},{key:"addBrush",value:function(){function e(){this.brushEl&&this.brushElAddedBefore!==this.brushEl&&(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl)}return e}()},{key:"brushed",value:function(){function e(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,v.event.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(v.event.selection))}return e}()},{key:"brushStarted",value:function(){function e(){v.event.sourceEvent&&v.event.selection&&this.props.onRangeSelectionStart()}return e}()},{key:"brushedEnded",value:function(){function e(){!v.event.selection&&this.props.is1dRangeSelection&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionEnd())}return e}()},{key:"moveBrush",value:function(){function e(e){if(this.brushEl){var t=e?[this.props.scale(e[0]),this.props.scale(e[1])]:null;this.rangeSelectionMoved=!0,this.brushEl.call(this.brushBehavior.move,t)}}return e}()},{key:"removeBrush",value:function(){function e(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionEnd())}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.props.tracks.map(function(e){return e.width}).reduce(S.sum,0),n=this.props.tracks.map(function(e){return(0,O.IS_TRACK_RANGE_SELECTABLE)(e)}).reduce(S.or,!1),r=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return d.default.createElement("div",{className:"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},n&&d.default.createElement("svg",{ref:function(){function t(t){return e.brushEl=(0,v.select)(t)}return t}(),style:{height:this.props.height,width:t},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,M)}),d.default.createElement(b.default,{axis:"x",className:E.default.list+" "+E.default.stylizedList+" "+E.default.horizontalList,component:k.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:this.props.height,helperClass:E.default.stylizedHelper,itemClass:E.default.stylizedItem+" "+E.default.horizontalItem,itemControlAlignLeft:this.props.tracksControlAlignLeft,itemReactClass:x.default,items:this.props.tracks.map(function(t){return{configMenuVisible:t.uid===e.props.configTrackMenuId,uid:t.uid||m.default.nice(),height:e.props.height,width:t.width,value:t.value}}),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:t}))}return e}()}]),t}(d.default.Component);A.propTypes={configTrackMenuId:f.default.string,chromInfo:f.default.object,editable:f.default.bool,handleConfigTrack:f.default.func,handleResizeTrack:f.default.func,handleSortEnd:f.default.func,is1dRangeSelection:f.default.bool,isRangeSelectionActive:f.default.bool,height:f.default.number,onAddSeries:f.default.func,onCloseTrack:f.default.func,onCloseTrackMenuOpened:f.default.func,onConfigTrackMenuOpened:f.default.func,onRangeSelection:f.default.func,onRangeSelectionEnd:f.default.func,onRangeSelectionStart:f.default.func,rangeSelection:f.default.array,referenceAncestor:f.default.func,resizeHandles:f.default.object,scale:f.default.func,tracks:f.default.array,tracksControlAlignLeft:f.default.bool},t.default=A},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalTrack=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),c=n(143),f=r(c),h=n(86),d=r(h),p={pointerEvents:"all"},v=t.VerticalTrack=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getControls",value:function(){function e(e){return l.default.createElement(d.default,{imgStyleAdd:p,imgStyleClose:p,imgStyleMove:p,imgStyleSettings:p,isAlignLeft:this.props.controlAlignLeft,isMoveable:this.moveable,isVertical:!0,isVisible:e,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}return e}()}]),t}(f.default);t.default=v},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewHeader=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(28),l=r(u),c=n(0),f=r(c),h=n(2),d=n(84),p=n(50),v=r(p),g=n(260),m=n(248),y=n(6);n(203);var b={"../styles/ViewHeader.module.scss":{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF"}},w=t.ViewHeader=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.configImg=null,n.plusImg=null,n.state={addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null,configMenuUid:null,configMenuPosition:null,isFocused:!1,width:-1},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){this.setState({width:this.el.clientWidth})}return e}()},{key:"checkWidth",value:function(){function e(){var e=this.el.clientWidth;e!==this.state.width&&this.setState({width:e})}return e}()},{key:"handleConfigMenuOpened",value:function(){function e(e){this.setState({configMenuUid:e,configMenuPosition:this.configImg.getBoundingClientRect()})}return e}()},{key:"handleAddTrackPositionMenuOpened",value:function(){function e(e){this.setState({addTrackPositionMenuUid:e,addTrackPositionMenuPosition:this.plusImg.getBoundingClientRect()})}return e}()},{key:"handleTrackPositionChosen",value:function(){function e(e){this.props.onTrackPositionChosen(e),this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}return e}()},{key:"render",value:function(){function e(){var e=this,t=null,n=null;this.state.addTrackPositionMenuPosition&&(n=f.default.createElement(d.PopupMenu,{onMenuClosed:function(){function t(){e.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}return t}()},f.default.createElement(v.default,{orientation:"left",position:this.state.addTrackPositionMenuPosition},f.default.createElement(m.AddTrackPositionMenu,{onTrackPositionChosen:this.handleTrackPositionChosen.bind(this)})))),this.state.configMenuUid&&(t=f.default.createElement(d.PopupMenu,{onMenuClosed:function(){function t(){return e.setState({configMenuUid:null})}return t}()},f.default.createElement(v.default,{orientation:"left",position:this.state.configMenuPosition},f.default.createElement(g.ConfigViewMenu,{onExportSVG:function(){function t(){e.setState({configMenuUid:null}),e.props.onExportSVG()}return t}(),onClearView:function(){function t(){e.setState({configMenuUid:null}),e.props.onClearView()}return t}(),onExportViewAsJSON:function(){function t(){e.setState({configMenuUid:null}),e.props.onExportViewsAsJSON()}return t}(),onExportViewAsLink:function(){function t(){e.setState({configMenuUid:null}),e.props.onExportViewsAsLink()}return t}(),onLockLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onLockLocation(e.state.configMenuUid)}return t}(),onLockZoom:function(){function t(){e.setState({configMenuUid:null}),e.props.onLockZoom(e.state.configMenuUid)}return t}(),onLockZoomAndLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onLockZoomAndLocation(e.state.configMenuUid)}return t}(),onProjectViewport:function(){function t(){e.setState({configMenuUid:null}),e.props.onProjectViewport(e.state.configMenuUid)}return t}(),onTakeAndLockZoomAndLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onTakeAndLockZoomAndLocation(e.state.configMenuUid)}return t}(),onTogglePositionSearchBox:function(){function t(){e.setState({configMenuUid:null}),e.props.onTogglePositionSearchBox(e.state.configMenuUid)}return t}(),onUnlockLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onUnlockLocation(e.state.configMenuUid)}return t}(),onUnlockZoom:function(){function t(){e.setState({configMenuUid:null}),e.props.onUnlockZoom(e.state.configMenuUid)}return t}(),onUnlockZoomAndLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onUnlockZoomAndLocation(e.state.configMenuUid)}return t}(),onYankLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onYankLocation(e.state.configMenuUid)}return t}(),onYankZoom:function(){function t(){e.setState({configMenuUid:null}),e.props.onYankZoom(e.state.configMenuUid)}return t}(),onYankZoomAndLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onYankZoomAndLocation(e.state.configMenuUid)}return t}(),onZoomToData:function(){function t(){e.setState({configMenuUid:null}),e.props.onZoomToData(e.state.configMenuUid)}return t}()}))));var r=this.props.getGenomePositionSearchBox(this.state.isFocused,function(t){e.setState({isFocused:t})}),i=this.state.isFocused?"multitrack-header-focus":"multitrack-header",o=this.state.width<=y.VIEW_HEADER_MED_WIDTH_SEARCH_BAR?"multitrack-header-icon-squeazed":"multitrack-header-icon";return f.default.createElement("div",{ref:function(){function t(t){e.el=t}return t}(),className:(0,l.default)(i,b)},f.default.createElement("div",{className:"ViewHeader-module_multitrack-header-left-Qj9Sm"},f.default.createElement("div",{className:"ViewHeader-module_multitrack-header-grabber-3jrIz"},f.default.createElement("div",null),f.default.createElement("div",null),f.default.createElement("div",null)),this.state.width>y.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR&&f.default.createElement("div",{className:"ViewHeader-module_multitrack-header-search-1X_3_"},this.props.isGenomePositionSearchBoxVisible&&r)),f.default.createElement("nav",{className:"ViewHeader-module_multitrack-header-nav-list-2nvcu"},f.default.createElement("svg",{onClick:this.props.onAddView,className:(0,l.default)(o,b)},f.default.createElement("use",{xlinkHref:"#copy"})),f.default.createElement("svg",{ref:function(){function t(t){e.configImg=t}return t}(),onClick:function(){function t(){return e.handleConfigMenuOpened(e.props.viewUid)}return t}(),className:(0,l.default)(o,b)},f.default.createElement("use",{xlinkHref:"#cog"})),f.default.createElement("svg",{ref:function(){function t(t){e.plusImg=t}return t}(),onClick:function(){function t(){return e.handleAddTrackPositionMenuOpened(e.props.viewUid)}return t}(),className:(0,l.default)(o,b)},f.default.createElement("use",{xlinkHref:"#plus"})),f.default.createElement("svg",{onClick:this.props.onCloseView,className:(0,l.default)(o,b)},f.default.createElement("use",{xlinkHref:"#cross"}))),t,n)}return e}()}]),t}(f.default.Component);w.defaultProps={isGenomePositionSearchBoxVisible:!1},w.propTypes={getGenomePositionSearchBox:h.PropTypes.func.isRequired,isGenomePositionSearchBoxVisible:h.PropTypes.bool,onAddView:h.PropTypes.func.isRequired,onClearView:h.PropTypes.func.isRequired,onCloseView:h.PropTypes.func.isRequired,onExportSVG:h.PropTypes.func.isRequired,onExportViewsAsJSON:h.PropTypes.func.isRequired,onExportViewsAsLink:h.PropTypes.func.isRequired,onLockLocation:h.PropTypes.func.isRequired,onLockZoom:h.PropTypes.func.isRequired,onLockZoomAndLocation:h.PropTypes.func.isRequired,onProjectViewport:h.PropTypes.func.isRequired,onTakeAndLockZoomAndLocation:h.PropTypes.func.isRequired,onTogglePositionSearchBox:h.PropTypes.func.isRequired,onTrackPositionChosen:h.PropTypes.func.isRequired,onUnlockLocation:h.PropTypes.func.isRequired,onUnlockZoom:h.PropTypes.func.isRequired,onUnlockZoomAndLocation:h.PropTypes.func.isRequired,onYankLocation:h.PropTypes.func.isRequired,onYankZoom:h.PropTypes.func.isRequired,onYankZoomAndLocation:h.PropTypes.func.isRequired,onZoomToData:h.PropTypes.func.isRequired,viewUid:h.PropTypes.string.isRequired},t.default=w},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewportTracker2D=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),l=n(53),c=r(l),f=n(9),h=r(f),d=n(29),p=n(4),v=t.ViewportTracker2D=function(e){function t(e,n,r,a,s){i(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,!0)),l=h.default.nice();return u.uid=l,u.options=s,u.removeViewportChanged=r,u.setDomainsCallback=a,u.viewportXDomain=null,u.viewportYDomain=null,u.brush=(0,d.brush)(!0).extent([[-Number.MAX_VALUE/2,-Number.MAX_VALUE/2],[Number.MAX_VALUE/2,Number.MAX_VALUE/2]]).on("brush",u.brushed.bind(u)),u.gBrush=u.gMain.append("g").attr("id","brush-"+u.uid).call(u.brush),u.gBrush.selectAll(".overlay").style("pointer-events","none"),u.gBrush.selectAll(".handle--n").style("pointer-events","none"),u.gBrush.selectAll(".handle--s").style("pointer-events","none"),u.gBrush.selectAll(".handle--w").style("pointer-events","none"),u.gBrush.selectAll(".handle--e").style("pointer-events","none"),n(l,u.viewportChanged.bind(u)),u.draw(),u}return a(t,e),s(t,[{key:"brushed",value:function(){function e(){var e=p.event.selection;if(this._xScale&&this._yScale){var t=[this._xScale.invert(e[0][0]),this._xScale.invert(e[1][0])],n=[this._yScale.invert(e[0][1]),this._yScale.invert(e[1][1])];this.setDomainsCallback(t,n)}}return e}()},{key:"viewportChanged",value:function(){function e(e,t){var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}return e}()},{key:"remove",value:function(){function e(){this.removeViewportChanged(this.uid),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}return e}()},{key:"rerender",value:function(){function e(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity)}return e}()},{key:"draw",value:function(){function e(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=this._xScale(this.viewportXDomain[0]),t=this._yScale(this.viewportYDomain[0]),n=this._xScale(this.viewportXDomain[1]),r=this._yScale(this.viewportYDomain[1]),i=[[e,t],[n,r]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,i),this.brush.on("brush",this.brushed.bind(this))}}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"setPosition",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.draw()}return e}()}]),t}(c.default);t.default=v},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewportTrackerHorizontal=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),l=n(29),c=n(4),f=n(9),h=r(f),d=n(53),p=r(d),v=t.ViewportTrackerHorizontal=function(e){function t(e,n,r,a,s){i(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,!0)),c=h.default.nice();return u.uid=c,u.options=s,u.removeViewportChanged=r,u.setDomainsCallback=a,u.viewportXDomain=null,u.viewportYDomain=null,u.brush=(0,l.brush)(!0).on("brush",u.brushed.bind(u)),u.gBrush=u.gMain.append("g").attr("id","brush-"+u.uid).call(u.brush),u.gBrush.selectAll(".overlay").style("pointer-events","none"),u.gBrush.selectAll(".handle--ne").style("pointer-events","none"),u.gBrush.selectAll(".handle--nw").style("pointer-events","none"),u.gBrush.selectAll(".handle--sw").style("pointer-events","none"),u.gBrush.selectAll(".handle--se").style("pointer-events","none"),u.gBrush.selectAll(".handle--n").style("pointer-events","none"),u.gBrush.selectAll(".handle--s").style("pointer-events","none"),n(c,u.viewportChanged.bind(u)),u.draw(),u}return a(t,e),s(t,[{key:"brushed",value:function(){function e(){var e=c.event.selection;if(this._xScale&&this._yScale){var t=[this._xScale.invert(e[0][0]),this._xScale.invert(e[1][0])],n=this.viewportYDomain;this.setDomainsCallback(t,n)}}return e}()},{key:"viewportChanged",value:function(){function e(e,t){var n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],e.domain()),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}return e}()},{key:"remove",value:function(){function e(){this.removeViewportChanged(this.uid),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}return e}()},{key:"rerender",value:function(){function e(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity)}return e}()},{key:"draw",value:function(){function e(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=this._xScale(this.viewportXDomain[0]),t=this._xScale(this.viewportXDomain[1]),n=this.dimensions[1],r=[[e,0],[t,n]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,r),this.brush.on("brush",this.brushed.bind(this))}}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"setPosition",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.draw()}return e}()}]),t}(p.default);t.default=v},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewportTrackerVertical=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}return e}(),l=n(53),c=r(l),f=n(9),h=r(f),d=n(29),p=n(4),v=t.ViewportTrackerVertical=function(e){function t(e,n,r,a,s){i(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,!0)),l=h.default.nice();return u.uid=l,u.options=s,u.removeViewportChanged=r,u.setDomainsCallback=a,u.viewportXDomain=null,u.viewportYDomain=null,u.brush=(0,d.brush)(!0).on("brush",u.brushed.bind(u)),u.gBrush=u.gMain.append("g").attr("id","brush-"+u.uid).call(u.brush),u.gBrush.selectAll(".overlay").style("pointer-events","none"),u.gBrush.selectAll(".handle--ne").style("pointer-events","none"),u.gBrush.selectAll(".handle--nw").style("pointer-events","none"),u.gBrush.selectAll(".handle--sw").style("pointer-events","none"),u.gBrush.selectAll(".handle--se").style("pointer-events","none"),u.gBrush.selectAll(".handle--e").style("pointer-events","none"),u.gBrush.selectAll(".handle--w").style("pointer-events","none"),n(l,u.viewportChanged.bind(u)),u.draw(),u}return a(t,e),s(t,[{key:"brushed",value:function(){function e(){var e=p.event.selection;if(this._xScale&&this._yScale){var t=this.viewportXDomain,n=[this._yScale.invert(e[0][1]),this._yScale.invert(e[1][1])];this.setDomainsCallback(t,n)}}return e}()},{key:"viewportChanged",value:function(){function e(e,t){var n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],e.domain()),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}return e}()},{key:"remove",value:function(){function e(){this.removeViewportChanged(this.uid),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}return e}()},{key:"rerender",value:function(){function e(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity)}return e}()},{key:"draw",value:function(){function e(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=this._yScale(this.viewportYDomain[0]),t=this.dimensions[0],n=this._yScale(this.viewportYDomain[1]),r=[[0,e],[t,n]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,r),this.brush.on("brush",this.brushed.bind(this))}}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"setPosition",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.draw()}return e}()}]),t}(c.default);t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.api=void 0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(3),o=n(6),a=n(27),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=t.api=function(){function e(e){var t=e;return{setViewConfig:function(){function e(e){var n=this,r=t.processViewConfig(e);return new Promise(function(e,i){n.requestsInFlight=0,s.default.subscribe("requestSent",function(e){n.requestsInFlight+=1}),s.default.subscribe("requestReceived",function(t){n.requestsInFlight-=1,0==n.requestsInFlight&&e()}),t.setState({views:r},function(){})})}return e}(),zoomToDataExtent:function(){function e(e){t.handleZoomToData(e)}return e}(),activateTool:function(){function e(e){switch(e){case"select":t.setMouseTool(o.MOUSE_TOOL_SELECT);break;default:t.setMouseTool(o.MOUSE_TOOL_MOVE)}}return e}(),get:function(){function e(e,n){switch(e){case"location":return void 0===n?Promise.reject("Please provide the view UUID sweetheart "):t.getGenomeLocation(n);case"rangeSelection":return Promise.resolve(t.rangeSelection);case"viewConfig":return Promise.resolve(t.getViewsAsString());default:return Promise.reject('Propert "'+e+'" unknown')}}return e}(),goTo:function(){function e(e,n,o,a,s,u,l){var c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:3e3;if(!t.chromInfo)return void t.setChromInfo(t.state.views[e].chromInfoPath,function(){t.api().goTo(e,n,o,a,s,u,l,c,f)});var h=(0,i.relToAbsChromPos)(n,o,a,t.chromInfo),d=r(h,2),p=d[0],v=d[1],g=(0,i.relToAbsChromPos)(s,u,l,t.chromInfo),m=r(g,2),y=m[0],b=m[1],w=(0,i.scalesCenterAndK)(t.xScales[e].copy().domain([p,v]),t.yScales[e].copy().domain([y,b])),x=r(w,3),_=x[0],k=x[1],S=x[2];t.setCenters[e](_,k,S,!1,c,f)}return e}(),off:function(){function e(e,n,r){switch(e){case"location":t.offLocationChange(r,n);break;case"rangeSelection":t.offRangeSelection(n);break;case"viewConfig":t.offViewChange(n)}}return e}(),on:function(){function e(e,n,r,i){switch(e){case"location":t.onLocationChange(r,n,i);break;case"rangeSelection":return t.onRangeSelection(n);case"viewConfig":return t.onViewChange(n)}}return e}()}}return e}();t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AVAILABLE_TRACK_TYPES=void 0;var r=n(6),i=t.AVAILABLE_TRACK_TYPES=function(){function e(e,t){var n=(0,r.DATATYPE_TO_TRACK_TYPE)(t),i=e[0],o=!0,a=!0,s=!1,u=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done);a=!0)l.value!==i&&(o=!1)}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}return o?n[e[0]]:[]}return e}();t.default=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HEATED_OBJECT_MAP=[[0,0,0,255],[35,0,0,255],[52,0,0,255],[60,0,0,255],[63,1,0,255],[64,2,0,255],[68,5,0,255],[69,6,0,255],[72,8,0,255],[74,10,0,255],[77,12,0,255],[78,14,0,255],[81,16,0,255],[83,17,0,255],[85,19,0,255],[86,20,0,255],[89,22,0,255],[91,24,0,255],[92,25,0,255],[94,26,0,255],[95,28,0,255],[98,30,0,255],[100,31,0,255],[102,33,0,255],[103,34,0,255],[105,35,0,255],[106,36,0,255],[108,38,0,255],[109,39,0,255],[111,40,0,255],[112,42,0,255],[114,43,0,255],[115,44,0,255],[117,45,0,255],[119,47,0,255],[119,47,0,255],[120,48,0,255],[122,49,0,255],[123,51,0,255],[125,52,0,255],[125,52,0,255],[126,53,0,255],[128,54,0,255],[129,56,0,255],[129,56,0,255],[131,57,0,255],[132,58,0,255],[134,59,0,255],[134,59,0,255],[136,61,0,255],[137,62,0,255],[137,62,0,255],[139,63,0,255],[139,63,0,255],[140,65,0,255],[142,66,0,255],[142,66,0,255],[143,67,0,255],[143,67,0,255],[145,68,0,255],[145,68,0,255],[146,70,0,255],[146,70,0,255],[148,71,0,255],[148,71,0,255],[149,72,0,255],[149,72,0,255],[151,73,0,255],[151,73,0,255],[153,75,0,255],[153,75,0,255],[154,76,0,255],[154,76,0,255],[154,76,0,255],[156,77,0,255],[156,77,0,255],[157,79,0,255],[157,79,0,255],[159,80,0,255],[159,80,0,255],[159,80,0,255],[160,81,0,255],[160,81,0,255],[162,82,0,255],[162,82,0,255],[163,84,0,255],[163,84,0,255],[165,85,0,255],[165,85,0,255],[166,86,0,255],[166,86,0,255],[166,86,0,255],[168,87,0,255],[168,87,0,255],[170,89,0,255],[170,89,0,255],[171,90,0,255],[171,90,0,255],[173,91,0,255],[173,91,0,255],[174,93,0,255],[174,93,0,255],[176,94,0,255],[176,94,0,255],[177,95,0,255],[177,95,0,255],[179,96,0,255],[179,96,0,255],[180,98,0,255],[182,99,0,255],[182,99,0,255],[183,100,0,255],[183,100,0,255],[185,102,0,255],[185,102,0,255],[187,103,0,255],[187,103,0,255],[188,104,0,255],[188,104,0,255],[190,105,0,255],[191,107,0,255],[191,107,0,255],[193,108,0,255],[193,108,0,255],[194,109,0,255],[196,110,0,255],[196,110,0,255],[197,112,0,255],[197,112,0,255],[199,113,0,255],[200,114,0,255],[200,114,0,255],[202,116,0,255],[202,116,0,255],[204,117,0,255],[205,118,0,255],[205,118,0,255],[207,119,0,255],[208,121,0,255],[208,121,0,255],[210,122,0,255],[211,123,0,255],[211,123,0,255],[213,124,0,255],[214,126,0,255],[214,126,0,255],[216,127,0,255],[217,128,0,255],[217,128,0,255],[219,130,0,255],[221,131,0,255],[221,131,0,255],[222,132,0,255],[224,133,0,255],[224,133,0,255],[225,135,0,255],[227,136,0,255],[227,136,0,255],[228,137,0,255],[230,138,0,255],[230,138,0,255],[231,140,0,255],[233,141,0,255],[233,141,0,255],[234,142,0,255],[236,144,0,255],[236,144,0,255],[238,145,0,255],[239,146,0,255],[241,147,0,255],[241,147,0,255],[242,149,0,255],[244,150,0,255],[244,150,0,255],[245,151,0,255],[247,153,0,255],[247,153,0,255],[248,154,0,255],[250,155,0,255],[251,156,0,255],[251,156,0,255],[253,158,0,255],[255,159,0,255],[255,159,0,255],[255,160,0,255],[255,161,0,255],[255,163,0,255],[255,163,0,255],[255,164,0,255],[255,165,0,255],[255,167,0,255],[255,167,0,255],[255,168,0,255],[255,169,0,255],[255,169,0,255],[255,170,0,255],[255,172,0,255],[255,173,0,255],[255,173,0,255],[255,174,0,255],[255,175,0,255],[255,177,0,255],[255,178,0,255],[255,179,0,255],[255,181,0,255],[255,181,0,255],[255,182,0,255],[255,183,0,255],[255,184,0,255],[255,187,7,255],[255,188,10,255],[255,189,14,255],[255,191,18,255],[255,192,21,255],[255,193,25,255],[255,195,29,255],[255,197,36,255],[255,198,40,255],[255,200,43,255],[255,202,51,255],[255,204,54,255],[255,206,61,255],[255,207,65,255],[255,210,72,255],[255,211,76,255],[255,214,83,255],[255,216,91,255],[255,219,98,255],[255,221,105,255],[255,223,109,255],[255,225,116,255],[255,228,123,255],[255,232,134,255],[255,234,142,255],[255,237,149,255],[255,239,156,255],[255,240,160,255],[255,243,167,255],[255,246,174,255],[255,248,182,255],[255,249,185,255],[255,252,193,255],[255,253,196,255],[255,255,204,255],[255,255,207,255],[255,255,211,255],[255,255,218,255],[255,255,222,255],[255,255,225,255],[255,255,229,255],[255,255,233,255],[255,255,236,255],[255,255,240,255],[255,255,244,255],[255,255,247,255],[255,255,255,0]]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DATATYPE_TO_TRACK_TYPE=void 0;var r=n(6),i=t.DATATYPE_TO_TRACK_TYPE=function(){function e(e){var t={};return r.TRACKS_INFO.filter(function(t){return t.orientation==e}).forEach(function(e){var n=e.datatype;Array.isArray(e.datatype)||(n=[n]),n.forEach(function(n){n in t||(t[n]=[]),t[n].push(e)})}),t.none=[],t}return e}();t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.IS_TRACK_RANGE_SELECTABLE=void 0;var r=n(3),i=t.IS_TRACK_RANGE_SELECTABLE=function(){function e(t){switch(t.type){case"heatmap":case"horizontal-line":case"vertical-line":case"horizontal-1d-tiles":case"vertical-1d-tiles":case"2d-tiles":case"horizontal-gene-annotations":case"vertical-gene-annotations":case"horizontal-heatmap":case"vertical-heatmap":case"osm-tiles":case"mapbox-tiles":return!0;case"combined":return t.contents.map(function(t){return e(t)}).reduce(r.or,!1);default:return!1}}return e}();t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.OPTIONS_INFO=void 0;var r=n(45),i=n(266),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a={black:{name:"Black",value:"black"},blue:{name:"Blue",value:"blue"},brown:{name:"Brown",value:"brown"},cyan:{name:"Cyan",value:"cyan"},green:{name:"Green",value:"green"},grey:{name:"Grey",value:"grey"},orange:{name:"Orange",value:"orange"},purple:{name:"Purple",value:"purple"},turquoise:{name:"Turquoise",value:"turquoise"},red:{name:"Red",value:"red"},white:{name:"White",value:"white"}},s={1:{name:"1",value:1},2:{name:"2",value:2},3:{name:"3",value:3},5:{name:"5",value:5},8:{name:"8",value:8},13:{name:"13",value:13}},u=Object.assign(s,{none:{name:"none",value:"none"}}),l={0:{name:"0%",value:0},.2:{name:"20%",value:.2},.4:{name:"40%",value:.4},.6:{name:"60%",value:.6},.8:{name:"80%",value:.8},"1.0":{name:"100%",value:1}},c=t.OPTIONS_INFO={heatmapValueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},valueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},lineStrokeWidth:{name:"Stroke Width",inlineOptions:s},trackBorderWidth:{name:"Track Border Width",inlineOptions:s},minSquareSize:{name:"Minimum size",inlineOptions:u},pointSize:{name:"Point Size",inlineOptions:s},pointColor:{name:"Point Color",inlineOptions:a},trackBorderColor:{name:"Track Border Color",inlineOptions:a},minusStrandColor:{name:"- Strand Color",inlineOptions:a},plusStrandColor:{name:"+ Strand Color",inlineOptions:a},lineStrokeColor:{name:"Stroke color",inlineOptions:a},projectionStrokeColor:{name:"Stroke color",inlineOptions:a},projectionFillColor:{name:"Fill color",inlineOptions:a},barFillColor:{name:"Fill color",inlineOptions:a},barFillColorTop:{name:"Top Fill color",inlineOptions:a},barFillColorBottom:{name:"Bottom Fill color",inlineOptions:a},barOpacity:{name:"Bar opacity",inlineOptions:l},rectangleDomainStrokeColor:{name:"Stroke color",inlineOptions:a},rectangleDomainFillColor:{name:"Fill color",inlineOptions:a},rectangleDomainOpacity:{name:"Opacity",inlineOptions:l},mapboxStyle:{name:"Map style",inlineOptions:{streets:{name:"streets",value:"mapbox.streets"},light:{name:"light",value:"mapbox.light"},dark:{name:"dark",
value:"mapbox.dark"},satellite:{name:"satellite",value:"mapbox.satellite"},"streets-satellite":{name:"streets-satellite",value:"mapbox.streets-satellite"},wheatpaste:{name:"wheatpaste",value:"mapbox.wheatpaste"},"streets-basic":{name:"streets-basic",value:"mapbox.streets-basic"},comic:{name:"comic",value:"mapbox.comic"},outdoors:{name:"outdoors",value:"mapbox.outdoors"},"run-bike-hike":{name:"run-bike-hike",value:"mapbox.run-bike-hike"},pencil:{name:"pencil",value:"mapbox.pencil"},pirates:{name:"pirates",value:"mapbox.pirates"},emerald:{name:"emerald",value:"mapbox.emerald"},"high-contrast":{name:"high-contrast",value:"mapbox.high-contrast"}}},oneDHeatmapFlipped:{name:"Flip Heatmap",inlineOptions:{yes:{name:"Yes",value:"yes"},no:{name:"No",value:null}}},axisPositionHorizontal:{name:"Axis Position",inlineOptions:{left:{name:"Left",value:"left"},outsideLeft:{name:"Outside left",value:"outsideLeft"},right:{name:"Right",value:"right"},outsideRight:{name:"Outside right",value:"outsideRight"},hidden:{name:"Hidden",value:null}}},axisPositionVertical:{name:"Axis Position",inlineOptions:{top:{name:"Top",value:"top"},outsideTop:{name:"Outside top",value:"outsideTop"},bottom:{name:"Bottom",value:"bottom"},outsideBottom:{name:"Outside bottom",value:"outsideBottom"},hidden:{name:"Hidden",value:null}}},colorbarPosition:{name:"Colorbar Position",inlineOptions:{topLeft:{name:"Top Left",value:"topLeft"},topRight:{name:"Top Right",value:"topRight"},bottomLeft:{name:"Bottom Left",value:"bottomLeft"},bottomRight:{name:"Bottom Right",value:"bottomRight"},hidden:{name:"Hidden",value:null}}},colorbarLabelsPosition:{name:"Colorbar Labels Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},labelColor:{name:"Label Color",inlineOptions:a},labelPosition:{name:"Label Position",inlineOptions:{ol:{name:"Outer left",value:"outerLeft"},or:{name:"Outer right",value:"outerRight"},ot:{name:"Outer top",value:"outerTop"},ob:{name:"Outer bottom",value:"outerBottom"},tl:{name:"Top left",value:"topLeft"},tr:{name:"Top right",value:"topRight"},bl:{name:"Bottom left",value:"bottomLeft"},br:{name:"Bottom right",value:"bottomRight"},hidden:{name:"Hidden",value:"hidden"}}},labelTextOpacity:{name:"Label Text Opacity",inlineOptions:l},labelBackgroundOpacity:{name:"Label Background Opacity",inlineOptions:l},colorRange:{name:"Color map",inlineOptions:{afmhot:{name:"afmhot",value:["rgba(0,0,0,1.0)","rgba(128,0,0,1.0)","rgba(256,129,1,1.0)","rgba(256,256,129,1.0)","rgba(256,256,256,1.0)"]},fall:{name:"fall",value:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"]},hot:{name:"hot",value:["rgba(10,0,0,1.0)","rgba(179,0,0,1.0)","rgba(256,91,0,1.0)","rgba(256,256,6,1.0)","rgba(256,256,256,1.0)"]},jet:{name:"jet",value:["rgba(0,0,128,1.0)","rgba(0,129,256,1.0)","rgba(125,256,122,1.0)","rgba(256,148,0,1.0)","rgba(128,0,0,1.0)"]},bwr:{name:"bwr",value:["rgba(0,0,256,1.0)","rgba(128,128,256,1.0)","rgba(256,254,254,1.0)","rgba(256,126,126,1.0)","rgba(256,0,0,1.0)"]},cubehelix:{name:"cubehelix",value:["rgba(0,0,0,1.0)","rgba(21,83,76,1.0)","rgba(162,121,74,1.0)","rgba(199,180,238,1.0)","rgba(256,256,256,1.0)"]},rainbow:{name:"rainbow",value:["rgba(128,0,256,1.0)","rgba(0,181,236,1.0)","rgba(129,255,180,1.0)","rgba(256,179,96,1.0)","rgba(256,0,0,1.0)"]},gray:{name:"greys",value:["rgba(255,255,255,1)","rgba(0,0,0,1)"]},red:{name:"White to red",value:["rgba(255,255,255,1)","rgba(255,0,0,1)"]},green:{name:"White to green",value:["rgba(255,255,255,1)","rgba(0,255,0,1)"]},blue:{name:"White to blue",value:["rgba(255,255,255,1)","rgba(0,0,255,1)"]},custard:{name:"custard",value:["#FFFFFF","#F8E71C","rgba(245,166,35,1)","rgba(0,0,0,1)"]},custom:{name:"Custom...",componentPickers:{heatmap:o.default,"horizontal-heatmap":o.default}}}},dataTransform:{name:"Transforms",inlineOptions:{default:{name:"Default",value:"default"},None:{name:"None",value:"None"}},generateOptions:function(){function e(e){var t=[];if(e.transforms){var n=!0,r=!1,i=void 0;try{for(var o,a=e.transforms[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.push({name:s.name,value:s.value})}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}return t}return e}()},maxZoom:{name:"Zoom limit",inlineOptions:{none:{name:"None",value:null}},generateOptions:function(){function e(e){if(e.maxZoom){for(var t=[],n=0;n<=e.maxZoom;n++){var i=e.maxWidth,o=e.binsPerDimension,a=e.maxZoom,s=e.maxWidth/(Math.pow(2,n)*e.binsPerDimension),u=i/(Math.pow(2,a)*o),l=(0,r.precisionPrefix)(u,s),c=(0,r.formatPrefix)("."+l,s),f=c(s);t.push({name:f,value:n.toString()})}return t}return[]}return e}()},valueColumn:{name:"Value column",inlineOptions:{none:{name:"None",value:null}},generateOptions:function(){function e(e){if(!e.header)return[];for(var t=e.header.split("\t"),n=[],r=0;r<t.length;r++)n.push({name:t[r],value:r+1});return n}return e}()}};t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TRACKS_INFO_BY_TYPE=void 0;var r=n(6),i=t.TRACKS_INFO_BY_TYPE=r.TRACKS_INFO.reduce(function(e,t){return e[t.type]=t,e},{});t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TRACKS_INFO=void 0;var r=n(148),i=t.TRACKS_INFO=[{type:"left-axis",datatype:["axis"],local:!0,orientation:"1d-vertical",name:"Left Axis",thumbnail:r.svgVertical1DAxisIcon,minWidth:100},{type:"top-axis",datatype:["axis"],local:!0,orientation:"1d-horizontal",name:"Top Axis",thumbnail:r.svg1DAxisIcon,defaultOptions:{}},{type:"heatmap",datatype:["matrix"],local:!1,minHeight:100,minWidth:100,orientation:"2d",thumbnail:r.svg2DHeatmapIcon,defaultOptions:{labelPosition:"bottomRight",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,colorbarPosition:"topRight",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log"},availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","dataTransform","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"horizontal-heatmap",datatype:["matrix"],local:!1,minHeight:40,minWidth:100,orientation:"1d-horizontal",thumbnail:r.svg2DHeatmapIcon,defaultOptions:{labelPosition:"bottomRight",labelColor:"black",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,trackBorderWidth:0,trackBorderColor:"black"},availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","dataTransform","oneDHeatmapFlipped","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"vertical-heatmap",datatype:["matrix"],local:!1,minWidth:50,minHeight:100,orientation:"1d-vertical",thumbnail:r.svg2DHeatmapIcon,defaultOptions:{labelPosition:"bottomRight",labelColor:"black",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,colorbarPosition:"topRight",trackBorderWidth:0,trackBorderColor:"black"},availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","dataTransform","oneDHeatmapFlipped","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"horizontal-line",datatype:["vector"],local:!1,orientation:"1d-horizontal",thumbnail:r.svgHorizontalLineIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","lineStrokeWidth","lineStrokeColor","valueScaling","trackBorderWidth","trackBorderColor","trackType"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",axisPositionHorizontal:"right",lineStrokeColor:"blue",lineStrokeWidth:1,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"vertical-line",datatype:["vector"],local:!1,orientation:"1d-vertical",thumbnail:r.svgVerticalLineIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionVertical","lineStrokeWidth","lineStrokeColor","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",axisPositionVertical:"top",lineStrokeWidth:1,lineStrokeColor:"blue",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"horizontal-point",datatype:["vector"],local:!1,orientation:"1d-horizontal",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","pointColor","pointSize","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",axisPositionHorizontal:"right",pointColor:"red",pointSize:3,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"horizontal-divergent-bar",datatype:["vector"],local:!1,orientation:"1d-horizontal",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","barFillColorTop","barFillColorBottom","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",axisPositionHorizontal:"right",barFillColorBottom:"red",barFillColorTop:"green",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"horizontal-bar",datatype:["vector"],local:!1,orientation:"1d-horizontal",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","barFillColor","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",axisPositionHorizontal:"right",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"vertical-bar",datatype:["vector"],local:!1,orientation:"1d-vertical",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","barFillColor","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",axisPositionHorizontal:"right",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"vertical-point",datatype:["vector"],local:!1,orientation:"1d-vertical",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","lineStrokeWidth","lineStrokeColor","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",axisPositionHorizontal:"right",lineStrokeColor:"red",lineStrokeWidth:1,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"2d-tiles",datatype:["matrix"],local:!1,orientation:"2d",name:"2D Tile Outlines",thumbnail:r.svg2DTilesIcon},{type:"horizontal-1d-value-interval",datatype:["bed-value"],local:!1,orientation:["1d-horizontal"],name:"1D Rectangles",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",axisPositionHorizontal:"left",lineStrokeColor:"blue",valueScaling:"linear"}},{type:"vertical-1d-value-interval",datatype:["bed-value"],local:!1,orientation:["1d-vertical"],name:"1D Rectangles",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionVertical"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",axisPositionVertical:"top",lineStrokeColor:"blue",valueScaling:"linear"}},{type:"top-stacked-interval",datatype:["stacked-interval"],local:!1,orientation:"1d-horizontal",thumbnail:"horizontal-stacked-interval.png",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity"]},{type:"left-stacked-interval",datatype:["stacked-interval"],local:!1,orientation:"1d-vertical",thumbnail:"vertical-stacked-interval.png",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity"]},{type:"viewport-projection-vertical",datatype:["1d-projection"],local:!0,hidden:!0,orientation:"1d-vertical",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.3}},{type:"viewport-projection-horizontal",datatype:["1d-projection"],local:!0,hidden:!0,orientation:"1d-horizontal",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.3}},{type:"viewport-projection-center",datatype:["2d-projection"],local:!0,hidden:!0,orientation:"2d",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.3}},{type:"horizontal-gene-annotations",datatype:["gene-annotation"],local:!1,minHeight:55,orientation:"1d-horizontal",name:"Gene Annotations",thumbnail:r.svgGeneAnnotationsIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","plusStrandColor","minusStrandColor","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",plusStrandColor:"blue",minusStrandColor:"red",trackBorderWidth:0,trackBorderColor:"black"}},{type:"vertical-gene-annotations",datatype:["gene-annotation"],local:!1,minWidth:55,orientation:"1d-vertical",name:"Gene Annotations",thumbnail:r.svgVerticalGeneAnnotationsIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","plusStrandColor","minusStrandColor","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",plusStrandColor:"blue",minusStrandColor:"red",trackBorderWidth:0,trackBorderColor:"black"}},{type:"arrowhead-domains",datatype:["arrowhead-domains"],local:!1,orientation:"2d",name:"Arrowhead Domains",thumbnail:r.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",trackBorderWidth:0,trackBorderColor:"black"}},{type:"vertical-2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"1d-vertical",name:"Vertical 2D Rectangle Domains",thumbnail:r.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",trackBorderWidth:0,trackBorderColor:"black"}},{type:"horizontal-2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"1d-horizontal",name:"Horizontal 2D Rectangle Domains",thumbnail:r.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"2d",name:"2D Rectangle Domains",thumbnail:r.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{labelColor:"black",labelPosition:"hidden",trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"square-markers",datatype:["bedpe"],local:!1,orientation:"2d",name:"Square Markers",thumbnail:r.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",trackBorderWidth:0,trackBorderColor:"black"}},{type:"combined",datatype:"any",local:!0,orientation:"any"},{type:"2d-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"2d",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey"}},{type:"2d-chromosome-annotations",local:!0,orientation:"2d",name:"2D Chromosome Annotations",thumbnail:null,hidden:!0},{type:"2d-chromosome-labels",datatype:["chromsizes"],local:!0,orientation:"2d",name:"Pairwise Chromosome Labels",thumbnail:null},{type:"horizontal-chromosome-labels",datatype:["chromsizes"],orientation:"1d-horizontal",minHeight:30,name:"Chromosome Axis",thumbnail:null},{type:"vertical-chromosome-labels",datatype:["chromsizes"],orientation:"1d-vertical",minWidth:20,minHeight:30,name:"Chromosome Axis",thumbnail:null},{type:"vertical-1d-tiles",datatype:["1d-tiles"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Tile Outlines",thumbnail:r.svgVertical1DTilesIcon},{type:"horizontal-1d-tiles",datatype:["vector","stacked-interval","gene-annotation"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Tile Outlines",thumbnail:r.svg1DTilesIcon},{type:"osm-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"OSM Tiles",thumbnail:null,defaultOptions:{minPos:0,maxPos:312e7}},{type:"mapbox-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Mapbox Tiles",thumbnail:null,availableOptions:["mapboxStyle"],defaultOptions:{mapboxStyle:"mapbox.streets"}},{type:"bedlike",datatype:["bedlike"],local:!1,minHeight:55,orientation:"1d-horizontal",name:"BED-like track",thumbnail:null,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","valueColumn"],defaultOptions:{axisPositionHorizontal:"right",labelColor:"black",labelPosition:"hidden",trackBorderWidth:0,trackBorderColor:"black",valueColumn:null}}];t.default=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.USED_SERVER="52.45.229.11"},function(e,t){function n(){this.root=null}function r(e,t,n){var r=new l(n[0],n[1]);if(r.max=n[1],r.parentNode=e,e[t]=r,e.max<n[1])for(;r;)r.max<n[1]&&(r.max=n[1]),r=r.parentNode}function i(e,t){e.interval[0]>t[0]?e.left?i(e.left,t):r(e,"left",t):e.right?i(e.right,t):r(e,"right",t)}function o(e,t){if(!t)return!1;if(t.interval[0]<=e&&t.interval[1]>=e)return!0;var n=!1,r=void 0;return["left","right"].forEach(function(i){(r=t[i])&&r.max>e&&(n=n||o(e,r))}),n}function a(e,t){return e[0]<=t[0]&&e[1]>=t[0]||e[0]<=t[1]&&e[1]>=t[1]||t[0]<=e[0]&&t[1]>=e[0]||t[0]<=e[1]&&t[1]>=e[1]}function s(e,t){if(!t)return!1;if(a(t.interval,e))return!0;var n=!1,r=void 0;return["left","right"].forEach(function(i){(r=t[i])&&r.max>=e[0]&&(n=n||s(e,r))}),n}function u(e){return e?1+Math.max(u(e.left),u(e.right)):0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var l=function(){function e(e,t,n,r){this.interval=[e,t],this.max=-1/0,this.parentNode=null,this.left=n,this.right=r}return e}();n.prototype.add=function(e){if(!this.root)return this.root=new l(e[0],e[1]),void(this.root.max=e[1]);i(this.root,e)},n.prototype.contains=function(e){return o(e,this.root)},n.prototype.intersects=function(e){return s(e,this.root)},n.prototype.height=function(){return u(this.root)},n.prototype.findMax=function(e){for(var t=[e],n=void 0,r=-1/0,i=void 0;t.length;)n=t.pop(),n.left&&t.push(n.left),n.right&&t.push(n.right),n.interval[1]>r&&(r=n.interval[1],i=n);return i},n.prototype._removeHelper=function(e,t){if(t)if(t.interval[0]===e[0]&&t.interval[1]===e[1]){if(t.left&&t.right){for(var n=t.left;n.left;)n=n.left;var r=n.interval;n.interval=t.interval,t.interval=r,this._removeHelper(n.interval,t)}else{var i="left";t.right&&(i="right");var o=t.parentNode;o?(o.left===t?o.left=t[i]:o.right=t[i],t[i]&&(t[i].parentNode=o)):(this.root=t[i],this.root&&(this.root.parentNode=null))}var a=t.parentNode;if(a)for(var s=this.findMax(a),u=s.interval[1];s;)s.max===t.interval[1]?(s.max=u,s=s.parentNode):s=!1}else this._removeHelper(e,t.left),this._removeHelper(e,t.right)},n.prototype.remove=function(e){return this._removeHelper(e,this.root)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(32),i={},o=function(){function e(e,t){return i[e]?Promise.resolve(i[e]):t(e)}return e}(),a=function(){function e(e){for(var t=(0,r.tsvParseRows)(e),n=[],i={},o={},a=0,s=0;s<t.length;s++){var u=Number(t[s][1]);a+=u;var l={id:s,chr:t[s][0],pos:a-u};n.push(l),o[l.chr]=l,i[t[s][0]]=u}return{cumPositions:n,chrPositions:o,totalLength:a,chromLengths:i}}return e}(),s=function(){function e(e){return fetch(e).then(function(e){return e.text()}).then(function(e){return a(e)}).catch(function(e){console.error("Could not retrieve or parse chrom info.",e)})}return e}(),u=function(){function e(e,t,n){return t(e,n).then(function(t){return i[e]=t,i[e]})}return e}(),l=function(){function e(e){return u(e,o,s)}return e}(),c={get:l};t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o={},a=function(){function e(e){return o[e]?o[e]:function(t){return i.default.publish(e,t)}}return e}(),s={},u=function(){function e(e,t){(s[e]||s[e]===t)&&(s[e].removeEventListener(e,a(e)),s[e]=void 0,delete s[e])}return e}(),l=function(){function e(e,t){t&&s[e]!==t&&(s[e]&&u(s[e]),s[e]=t,s[e].addEventListener(e,a(e)))}return e}(),c={register:l,unregister:u};t.default=c},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,n){t.requestsInFlight=v+=1,h.default.publish("requestSent",e),(0,s.text)(e,function(r,i){n(r,i),h.default.publish("requestReceived",e),t.requestsInFlight=v-=1})}function o(e,n){t.requestsInFlight=v+=1,h.default.publish("requestSent",e),(0,s.json)(e,function(r,i){h.default.publish("requestReceived",e),n(r,i),t.requestsInFlight=v-=1})}Object.defineProperty(t,"__esModule",{value:!0}),t.tileDataToPixData=t.trackInfo=t.calculateTilesFromResolution=t.calculateTiles=t.calculateZoomLevel=t.calculateZoomLevelFromResolutions=t.fetchTiles=t.fetchTilesDebounced=t.requestsInFlight=void 0;var a=n(8),s=n(34),u=n(9),l=r(u),c=n(63),f=n(27),h=r(f),d=n(6),p=l.default.nice(),v=t.requestsInFlight=0,g=function(){function e(e,t){var n=void 0,r=[],i={},o=function(){function e(e){var t=i[e.id];t&&r[t]?r[t].ids=r[t].ids.concat(e.ids):(i[e.id]=r.length,r.push(e))}return e}(),a=function(){function e(){n=null,r=[],i={}}return e}(),s=function(){function i(i){o(i);var s=function(){function t(){e({sessionId:p,requests:r}),a()}return t}();clearTimeout(n),n=setTimeout(s,t)}return i}();return s.cancel=function(){clearTimeout(n),a()},s.immediate=function(){e({sessionId:p,requests:r})},s}return e}(),m=g(c.workerFetchMultiRequestTiles,d.TILE_FETCH_DEBOUNCE),y=t.fetchTilesDebounced=function(){function e(e){return m(e)}return e}(),b=t.fetchTiles=function(){function e(e,t,n){return(0,c.workerFetchTiles)(e,t,(void 0).sessionId,function(e){n(e)})}return e}(),w=t.calculateZoomLevelFromResolutions=function(){function e(e,t,n,r){var i=e.map(function(e){return+e}).sort(function(e,t){return t-e}),o=t.range()[1]-t.range()[0],a=i.map(function(e){return(t.domain()[1]-t.domain()[0])/e}),s=a.map(function(e){return e/o}),u=s.filter(function(e){return e<1});return 0==u.length?0:s.indexOf(u[u.length-1])}return e}(),x=t.calculateZoomLevel=function(){function e(e,t,n){var r=e.range()[1]-e.range()[0],i=Math.max((n-t)/(e.domain()[1]-e.domain()[0]),1),o=Math.max(0,Math.ceil(Math.log(r/384)/Math.LN2));return Math.round(Math.log(i)/Math.LN2)+o}return e}(),_=t.calculateTiles=function(){function e(e,t,n,r,i,o){var s=e>i?i:e,u=o/Math.pow(2,s);return(0,a.range)(Math.max(0,Math.floor((t.domain()[0]-n)/u)),Math.min(Math.pow(2,s),Math.ceil((t.domain()[1]-n-1e-7)/u)))}return e}(),k=t.calculateTilesFromResolution=function(){function e(e,t,n,r){var i=256*e;return(0,a.range)(Math.max(0,Math.floor((t.domain()[0]-n)/i)),Math.ceil(Math.min(r,t.domain()[1]-n-1e-7)/i))}return e}(),S=t.trackInfo=function(){function e(e,t,n){var r=e+"/tileset_info/?d="+t+"&s="+p;(0,c.workerGetTilesetInfo)(r,n)}return e}(),O=t.tileDataToPixData=function(){function e(e,t,n,r,i){var o=e.tileData;if(o.dense){var a=new Float32Array(o.dense.length);a.set(o.dense),i((0,c.workerSetPix)(a.length,a,t,n,r))}}return e}(),T={calculateTiles:_,calculateTilesFromResolution:k,calculateZoomLevel:x,calculateZoomLevelFromResolutions:w,fetchTiles:b,fetchTilesDebounced:y,json:o,text:i,tileDataToPixData:O,trackInfo:S};t.default=T},function(e,t){function n(e,t,n,r){var i=e.append("symbol").attr("id",t).attr("viewBox",r);n.forEach(function(e){return i.append("path").attr("d",e).attr("fill","currentColor")})}Object.defineProperty(t,"__esModule",{value:!0}),t.createSymbolIcon=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e,t){var n=(0,r.chromInfoBisector)(t.cumPositions,e),i=t.cumPositions[t.cumPositions.length-1].chr,o=t.chromLengths[i];n-=n>0&&1;var a=Math.floor(e-t.cumPositions[n].pos),s=0;return a<0&&(s=a-1,a=1),n==t.cumPositions.length-1&&a>o&&(s=a-o,a=o),[t.cumPositions[n].chr,a,s,n]}return e}();t.default=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n){return n.chrPositions[e].pos+t}return e}();t.default=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=(0,r.bisector)(function(e){return e.pos}).left;t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=n(8),o=n(14),a=function(){function e(e){var t=e.map(function(t,n){return n*(255/(e.length-1))}),n=(0,r.scaleLinear)().domain(t).range(e),a=(0,i.range)(254,-1,-1).map(n).map(function(e){var t=(0,o.rgb)(e);return[t.r,t.g,t.b,255]});return a.push([255,255,255,0]),a}return e}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),i=n(10),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),a=function(){function e(e){var t=(0,r.color)(e);return o.utils.rgb2hex([t.r/255,t.g/255,t.b/255])}return e}();t.default=a},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.debounce=function(){function e(t,n,r){var i=void 0,o=function(){function e(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];var s=function(){function e(){i=null,r||t.apply(void 0,o)}return e}(),u=r&&!i;clearTimeout(i),i=setTimeout(s,n),u&&t.apply(void 0,o)}return e}();return e.cancel=function(){clearTimeout(i),i=null},o}return e}();t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t={};return e.forEach(function(e){t[e[0]]=e[1]}),t}return e}();t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push([n,e[n]]);return t}return e}();t.default=n},function(e,t){function n(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){function n(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){function n(e,t){var n=new Blob([t],{type:"text/csv"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(n,e);else{var r=window.document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.download=n,t.default=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e,t){return[(0,r.chrToAbs)(e[0],e[1],t),(0,r.chrToAbs)(e[2],e[3],t)]}return e}();t.default=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n in e){var r=e[n];if(r.filter){var i=r.filter(function(e){return e.uid==t});if(i.length)return i[0];var o=r.filter(function(e){return"combined"==e.type});if(o.length)for(var a=0;a<o.length;a++){var s=o[a],u=s.contents.filter(function(e){return e.uid==t});if(u.length)return u[0]}}}return null}return e}();t.default=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(150),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(){function e(e,t){return(0,i.default)(e).filter(function(e){return e.uid==t})[0].position}return e}();t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(3),o=function(){function e(e){return(0,i.objVals)(e).map(function(e){return e.chromInfoPath}).forEach(function(e){return r.chromInfo.get(e)})}return e}();t.default=o},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){return function(t){return Array.prototype.map.call(t,e)}}return e}();t.default=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e){return(0,r.map)(function(t){return e[t]})(Object.keys(e))}return e}();t.default=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){return e||t}return e}();t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.pixiTextToSvg=function(){function e(e){var t=document.createElement("g"),n=document.createElement("text");return n.setAttribute("text-anchor","middle"),n.setAttribute("font-family",e.style.fontFamily),n.setAttribute("font-size",e.style.fontSize),t.setAttribute("transform","scale("+e.scale.x+",1)"),n.setAttribute("fill",e.style.fill),n.innerHTML=e.text,t.appendChild(n),t.setAttribute("transform","translate("+e.x+","+e.y+")scale("+e.scale.x+",1)"),t}return e}();t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,r){return[r.chrPositions[e].pos+t,r.chrPositions[e].pos+n]}return e}();t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){return[e.invert((e.range()[0]+e.range()[1])/2),t.invert((t.range()[0]+t.range()[1])/2),e.invert(1)-e.invert(0)]}return e}();t.default=n},function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.scalesToGenomeLoci=void 0;var i=n(149),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=t.scalesToGenomeLoci=function(){function e(e,t,n){if(null!==n&&e&&t){var i=e.domain()[0],a=e.domain()[1],s=t.domain()[0],u=t.domain()[1];return[].concat(r((0,o.default)(i,a,n)),r((0,o.default)(s,u,n)))}}return e}();t.default=a},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){return e+t}return e}();t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.svgLine=function(){function e(e,t,n,r,i,o){var a=document.createElement("line");return a.setAttribute("x1",e),a.setAttribute("x2",n),a.setAttribute("y1",t),a.setAttribute("y2",r),i&&a.setAttribute("stroke-width",i),o&&a.setAttribute("stroke",o),a}return e}();t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){if(!e.tracks)return 0;var t=0
;return e.tracks.top&&(t+=e.tracks.top.map(function(e){return e.height}).reduce(function(e,t){return e+t},0)),e.tracks.center&&(t+=e.tracks.center.map(function(e){return e.height}).reduce(function(e,t){return e+t},0)),e.tracks.bottom&&(t+=e.tracks.bottom.map(function(e){return e.height}).reduce(function(e,t){return e+t},0)),t}return e}();t.default=n},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function o(e){var t,n,i,o,a,s=e.length;o=r(e),a=new f(3*s/4-o),n=o>0?s-4:s;var u=0;for(t=0;t<n;t+=4)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;return 2===o?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,a[u++]=255&i):1===o&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a}function a(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function s(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(r));return i.join("")}function u(e){for(var t,n=e.length,r=n%3,i="",o=[],a=0,u=n-r;a<u;a+=16383)o.push(s(e,a,a+16383>u?u:a+16383));return 1===r?(t=e[n-1],i+=l[t>>2],i+=l[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=l[t>>10],i+=l[t>>4&63],i+=l[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=i,t.toByteArray=o,t.fromByteArray=u;for(var l=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=h.length;d<p;++d)l[d]=h[d],c[h.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t,n){"use strict";function r(e,t,n){var r="bruteForce"+(e?"Red":"Blue")+(t?"Flip":"")+(n?"Full":""),i=["function ",r,"(",_.join(),"){","var ",l,"=2*",o,";"],u="for(var i="+c+","+p+"="+l+"*"+c+";i<"+f+";++i,"+p+"+="+l+"){var x0="+h+"["+a+"+"+p+"],x1="+h+"["+a+"+"+p+"+"+o+"],xi="+d+"[i];",k="for(var j="+v+","+b+"="+l+"*"+v+";j<"+g+";++j,"+b+"+="+l+"){var y0="+m+"["+a+"+"+b+"],"+(n?"y1="+m+"["+a+"+"+b+"+"+o+"],":"")+"yi="+y+"[j];";return e?i.push(u,x,":",k):i.push(k,x,":",u),n?i.push("if(y1<x0||x1<y0)continue;"):t?i.push("if(y0<=x0||x1<y0)continue;"):i.push("if(y0<x0||x1<y0)continue;"),i.push("for(var k="+a+"+1;k<"+o+";++k){var r0="+h+"[k+"+p+"],r1="+h+"[k+"+o+"+"+p+"],b0="+m+"[k+"+b+"],b1="+m+"[k+"+o+"+"+b+"];if(r1<b0||b1<r0)continue "+x+";}var "+w+"="+s+"("),t?i.push("yi,xi"):i.push("xi,yi"),i.push(");if("+w+"!==void 0)return "+w+";}}}"),{name:r,code:i.join("")}}function i(e){function t(t,n){var o=r(t,n,e);i.push(o.code),a.push("return "+o.name+"("+_.join()+");")}var n="bruteForce"+(e?"Full":"Partial"),i=[],o=_.slice();e||o.splice(3,0,u);var a=["function "+n+"("+o.join()+"){"];a.push("if("+f+"-"+c+">"+g+"-"+v+"){"),e?(t(!0,!1),a.push("}else{"),t(!1,!1)):(a.push("if("+u+"){"),t(!0,!0),a.push("}else{"),t(!0,!1),a.push("}}else{if("+u+"){"),t(!1,!0),a.push("}else{"),t(!1,!1),a.push("}")),a.push("}}return "+n);var s=i.join("")+a.join("");return new Function(s)()}var o="d",a="ax",s="vv",u="fp",l="es",c="rs",f="re",h="rb",d="ri",p="rp",v="bs",g="be",m="bb",y="bi",b="bp",w="rv",x="Q",_=[o,a,s,c,f,h,d,v,g,m,y];t.partial=i(!1),t.full=i(!0)},function(e,t,n){"use strict";function r(e,t){var n=8*l.log2(t+1)*(e+1)|0,r=l.nextPow2(O*n);C.length<r&&(u.free(C),C=u.mallocInt32(r));var i=l.nextPow2(T*n);E<i&&(u.free(E),E=u.mallocDouble(i))}function i(e,t,n,r,i,o,a,s,u){var l=O*e;C[l]=t,C[l+1]=n,C[l+2]=r,C[l+3]=i,C[l+4]=o,C[l+5]=a;var c=T*e;E[c]=s,E[c+1]=u}function o(e,t,n,r,i,o,a,s,u,l,c){var f=2*e,h=u*f,d=l[h+t];e:for(var p=i,v=i*f;p<o;++p,v+=f){var g=a[v+t],m=a[v+t+e];if(!(d<g||m<d||r&&d===g)){for(var y=s[p],b=t+1;b<e;++b){var g=a[v+b],m=a[v+b+e],w=l[h+b],x=l[h+b+e];if(m<w||x<g)continue e}var _;if(void 0!==(_=r?n(c,y):n(y,c)))return _}}}function a(e,t,n,r,i,o,a,s,u,l){var c=2*e,f=s*c,h=u[f+t];e:for(var d=r,p=r*c;d<i;++d,p+=c){var v=a[d];if(v!==l){var g=o[p+t],m=o[p+t+e];if(!(h<g||m<h)){for(var y=t+1;y<e;++y){var g=o[p+y],m=o[p+y+e],b=u[f+y],w=u[f+y+e];if(m<b||w<g)continue e}var x=n(v,l);if(void 0!==x)return x}}}}function s(e,t,n,s,u,l,c,v,P){r(e,s+c);var M,A=0,j=2*e;for(i(A++,0,0,s,0,c,n?16:0,-1/0,1/0),n||i(A++,0,0,c,0,s,1,-1/0,1/0);A>0;){A-=1;var R=A*O,I=C[R],L=C[R+1],D=C[R+2],N=C[R+3],B=C[R+4],F=C[R+5],V=A*T,z=E[V],H=E[V+1],U=1&F,q=!!(16&F),W=u,G=l,Y=v,X=P;if(U&&(W=v,G=P,Y=u,X=l),!(2&F&&(D=x(e,I,L,D,W,G,H),L>=D)||4&F&&(L=_(e,I,L,D,W,G,z))>=D)){var Z=D-L,K=B-N;if(q){if(e*Z*(Z+K)<y){if(void 0!==(M=d.scanComplete(e,I,t,L,D,W,G,N,B,Y,X)))return M;continue}}else{if(e*Math.min(Z,K)<g){if(void 0!==(M=f(e,I,t,U,L,D,W,G,N,B,Y,X)))return M;continue}if(e*Z*K<m){if(void 0!==(M=d.scanBipartite(e,I,t,U,L,D,W,G,N,B,Y,X)))return M;continue}}var $=b(e,I,L,D,W,G,z,H);if(L<$)if(e*($-L)<g){if(void 0!==(M=h(e,I+1,t,L,$,W,G,N,B,Y,X)))return M}else if(I===e-2){if(void 0!==(M=U?d.sweepBipartite(e,t,N,B,Y,X,L,$,W,G):d.sweepBipartite(e,t,L,$,W,G,N,B,Y,X)))return M}else i(A++,I+1,L,$,N,B,U,-1/0,1/0),i(A++,I+1,N,B,L,$,1^U,-1/0,1/0);if($<D){var Q=p(e,I,N,B,Y,X),J=Y[j*Q+I],ee=w(e,I,Q,B,Y,X,J);if(ee<B&&i(A++,I,$,D,ee,B,(4|U)+(q?16:0),J,H),N<Q&&i(A++,I,$,D,N,Q,(2|U)+(q?16:0),z,J),Q+1===ee){if(void 0!==(M=q?a(e,I,t,$,D,W,G,Q,Y,X[Q]):o(e,I,t,U,$,D,W,G,Q,Y,X[Q])))return M}else if(Q<ee){var te;if(q){if(te=k(e,I,$,D,W,G,J),$<te){var ne=w(e,I,$,te,W,G,J);if(I===e-2){if($<ne&&void 0!==(M=d.sweepComplete(e,t,$,ne,W,G,Q,ee,Y,X)))return M;if(ne<te&&void 0!==(M=d.sweepBipartite(e,t,ne,te,W,G,Q,ee,Y,X)))return M}else $<ne&&i(A++,I+1,$,ne,Q,ee,16,-1/0,1/0),ne<te&&(i(A++,I+1,ne,te,Q,ee,0,-1/0,1/0),i(A++,I+1,Q,ee,ne,te,1,-1/0,1/0))}}else te=U?S(e,I,$,D,W,G,J):k(e,I,$,D,W,G,J),$<te&&(I===e-2?M=U?d.sweepBipartite(e,t,Q,ee,Y,X,$,te,W,G):d.sweepBipartite(e,t,$,te,W,G,Q,ee,Y,X):(i(A++,I+1,$,te,Q,ee,U,-1/0,1/0),i(A++,I+1,Q,ee,$,te,1^U,-1/0,1/0)))}}}}}e.exports=s;var u=n(139),l=n(87),c=n(340),f=c.partial,h=c.full,d=n(152),p=n(342),v=n(151),g=128,m=1<<22,y=1<<22,b=v("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),w=v("lo===p0",["p0"]),x=v("lo<p0",["p0"]),_=v("hi<=p0",["p0"]),k=v("lo<=p0&&p0<=hi",["p0"]),S=v("lo<p0&&p0<=hi",["p0"]),O=6,T=2,C=u.mallocInt32(1024),E=u.mallocDouble(1024)},function(e,t,n){"use strict";function r(e,t,n,r,i,o){for(var a=2*e,s=a*(n+1)+t,u=n+1;u<r;++u,s+=a)for(var l=i[s],c=u,f=a*(u-1);c>n&&i[f+t]>l;--c,f-=a){for(var h=f,d=f+a,p=0;p<a;++p,++h,++d){var v=i[h];i[h]=i[d],i[d]=v}var g=o[c];o[c]=o[c-1],o[c-1]=g}}function i(e,t,n,i,o,u){if(i<=n+1)return n;for(var l=n,c=i,f=i+n>>>1,h=2*e,d=f,p=o[h*f+t];l<c;){if(c-l<s){r(e,t,l,c,o,u),p=o[h*f+t];break}var v=c-l,g=Math.random()*v+l|0,m=o[h*g+t],y=Math.random()*v+l|0,b=o[h*y+t],w=Math.random()*v+l|0,x=o[h*w+t];m<=b?x>=b?(d=y,p=b):m>=x?(d=g,p=m):(d=w,p=x):b>=x?(d=y,p=b):x>=m?(d=g,p=m):(d=w,p=x);for(var _=h*(c-1),k=h*d,S=0;S<h;++S,++_,++k){var O=o[_];o[_]=o[k],o[k]=O}var T=u[c-1];u[c-1]=u[d],u[d]=T,d=a(e,t,l,c-1,o,u,p);for(var _=h*(c-1),k=h*d,S=0;S<h;++S,++_,++k){var O=o[_];o[_]=o[k],o[k]=O}var T=u[c-1];if(u[c-1]=u[d],u[d]=T,f<d){for(c=d-1;l<c&&o[h*(c-1)+t]===p;)c-=1;c+=1}else{if(!(d<f))break;for(l=d+1;l<c&&o[h*l+t]===p;)l+=1}}return a(e,t,n,f,o,u,o[h*f+t])}e.exports=i;var o=n(151),a=o("lo<p0",["p0"]),s=8},function(e,t,n){"use strict";function r(e,t){t<=4*h?i(0,t-1,e):f(0,t-1,e)}function i(e,t,n){for(var r=2*(e+1),i=e+1;i<=t;++i){for(var o=n[r++],a=n[r++],s=i,u=r-2;s-- >e;){var l=n[u-2],c=n[u-1];if(l<o)break;if(l===o&&c<a)break;n[u]=l,n[u+1]=c,u-=2}n[u]=o,n[u+1]=a}}function o(e,t,n){e*=2,t*=2;var r=n[e],i=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=r,n[t+1]=i}function a(e,t,n){e*=2,t*=2,n[e]=n[t],n[e+1]=n[t+1]}function s(e,t,n,r){e*=2,t*=2,n*=2;var i=r[e],o=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=r[n],r[t+1]=r[n+1],r[n]=i,r[n+1]=o}function u(e,t,n,r,i){e*=2,t*=2,i[e]=i[t],i[t]=n,i[e+1]=i[t+1],i[t+1]=r}function l(e,t,n){e*=2,t*=2;var r=n[e],i=n[t];return!(r<i)&&(r!==i||n[e+1]>n[t+1])}function c(e,t,n,r){e*=2;var i=r[e];return i<t||i===t&&r[e+1]<n}function f(e,t,n){var r=(t-e+1)/6|0,d=e+r,p=t-r,v=e+t>>1,g=v-r,m=v+r,y=d,b=g,w=v,x=m,_=p,k=e+1,S=t-1,O=0;l(y,b,n)&&(O=y,y=b,b=O),l(x,_,n)&&(O=x,x=_,_=O),l(y,w,n)&&(O=y,y=w,w=O),l(b,w,n)&&(O=b,b=w,w=O),l(y,x,n)&&(O=y,y=x,x=O),l(w,x,n)&&(O=w,w=x,x=O),l(b,_,n)&&(O=b,b=_,_=O),l(b,w,n)&&(O=b,b=w,w=O),l(x,_,n)&&(O=x,x=_,_=O);for(var T=n[2*b],C=n[2*b+1],E=n[2*x],P=n[2*x+1],M=2*y,A=2*w,j=2*_,R=2*d,I=2*v,L=2*p,D=0;D<2;++D){var N=n[M+D],B=n[A+D],F=n[j+D];n[R+D]=N,n[I+D]=B,n[L+D]=F}a(g,e,n),a(m,t,n);for(var V=k;V<=S;++V)if(c(V,T,C,n))V!==k&&o(V,k,n),++k;else if(!c(V,E,P,n))for(;;){if(c(S,E,P,n)){c(S,T,C,n)?(s(V,k,S,n),++k,--S):(o(V,S,n),--S);break}if(--S<V)break}u(e,k-1,T,C,n),u(t,S+1,E,P,n),k-2-e<=h?i(e,k-2,n):f(e,k-2,n),t-(S+2)<=h?i(S+2,t,n):f(S+2,t,n),S-k<=h?i(k,S,n):f(k,S,n)}e.exports=r;var h=32},function(e,t,n){"use strict";var r,i,o;!function(a,s){i=[n(156)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}("undefined"!=typeof window&&window,function(e){var t=function(){function t(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function n(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function r(e,n){var r=n.split(/\d/),i=r[r.length-1];switch(n=parseFloat(n),i){case"px":return n;case"em":return n*t(e);case"rem":return n*t();case"vw":return n*document.documentElement.clientWidth/100;case"vh":return n*document.documentElement.clientHeight/100;case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,a=document.documentElement.clientHeight/100;return n*(0,Math["vmin"===i?"min":"max"])(o,a);default:return n}}function i(e,t){this.element=e;var i,o,a,s,u,l,c,f,h=["min-width","min-height","max-width","max-height"];this.call=function(){a=n(this.element),l={};for(i in p[t])p[t].hasOwnProperty(i)&&(o=p[t][i],s=r(this.element,o.value),u="width"===o.property?a.width:a.height,f=o.mode+"-"+o.property,c="","min"===o.mode&&u>=s&&(c+=o.value),"max"===o.mode&&u<=s&&(c+=o.value),l[f]||(l[f]=""),c&&-1===(" "+l[f]+" ").indexOf(" "+c+" ")&&(l[f]+=" "+c));for(var e in h)h.hasOwnProperty(e)&&(l[h[e]]?this.element.setAttribute(h[e],l[h[e]].substr(1)):this.element.removeAttribute(h[e]))}}function o(t,n){t.elementQueriesSetupInformation||(t.elementQueriesSetupInformation=new i(t,n)),t.elementQueriesSensor||(t.elementQueriesSensor=new e(t,function(){t.elementQueriesSetupInformation.call()})),t.elementQueriesSetupInformation.call()}function a(e,t,n,r){if(void 0===p[e]){p[e]=[];var i=v.length;d.innerHTML+="\n"+e+" {animation: 0.1s element-queries;}",d.innerHTML+="\n"+e+" > .resize-sensor {min-width: "+i+"px;}",v.push(e)}p[e].push({mode:t,property:n,value:r})}function s(e){var t;if(document.querySelectorAll&&(t=e?e.querySelectorAll.bind(e):document.querySelectorAll.bind(document)),t||"undefined"==typeof $$||(t=$$),t||"undefined"==typeof jQuery||(t=jQuery),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function u(e){var t=s(e);for(var n in p)if(p.hasOwnProperty(mode))for(var r=t(n,e),i=0,a=r.length;i<a;i++)o(r[i],n)}function l(t){function n(){var e,n=!1;for(e in r)r.hasOwnProperty(e)&&i[e].minWidth&&t.offsetWidth>i[e].minWidth&&(n=e);if(n||(n=a),s!==n)if(u[n])r[s].style.display="none",r[n].style.display="block",s=n;else{var l=new Image;l.onload=function(){r[n].src=o[n],r[s].style.display="none",r[n].style.display="block",u[n]=!0,s=n},l.src=o[n]}else r[n].src=o[n]}var r=[],i=[],o=[],a=0,s=-1,u=[];for(var l in t.children)if(t.children.hasOwnProperty(l)&&t.children[l].tagName&&"img"===t.children[l].tagName.toLowerCase()){r.push(t.children[l]);var c=t.children[l].getAttribute("min-width")||t.children[l].getAttribute("data-min-width"),f=t.children[l].getAttribute("data-src")||t.children[l].getAttribute("url");o.push(f);var h={minWidth:c};i.push(h),c?t.children[l].style.display="none":(a=r.length-1,t.children[l].style.display="block")}s=a,t.resizeSensor=new e(t,n),n()}function c(){for(var e=s(),t=e("[data-responsive-image],[responsive-image]"),n=0,r=t.length;n<r;n++)l(t[n])}function f(e){var t,n,r,i;for(e=e.replace(/'/g,'"');null!==(t=g.exec(e));)for(n=t[1]+t[3],r=t[2];null!==(i=m.exec(r));)a(n,i[1],i[2],i[3])}function h(e){var t="";if(e)if("string"==typeof e)e=e.toLowerCase(),-1===e.indexOf("min-width")&&-1===e.indexOf("max-width")||f(e);else for(var n=0,r=e.length;n<r;n++)1===e[n].type?(t=e[n].selectorText||e[n].cssText,-1!==t.indexOf("min-height")||-1!==t.indexOf("max-height")?f(t):-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")||f(t)):4===e[n].type?h(e[n].cssRules||e[n].rules):3===e[n].type&&h(e[n].styleSheet.cssRules)}var d,p={},v=[],g=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,m=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim,y=!1;this.init=function(){var t="animationstart";void 0!==document.documentElement.style.webkitAnimationName?t="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?t="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(t="oanimationstart"),document.body.addEventListener(t,function(t){var n=t.target;if(-1!==window.getComputedStyle(n,null).getPropertyValue("animation-name").indexOf("element-queries")){n.elementQueriesSensor=new e(n,function(){n.elementQueriesSetupInformation&&n.elementQueriesSetupInformation.call()});var r=window.getComputedStyle(n.resizeSensor,null),i=r.getPropertyValue("min-width");i=parseInt(i.replace("px","")),o(t.target,v[i])}}),y||(d=document.createElement("style"),d.type="text/css",d.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",d.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(d),y=!0);for(var n=0,r=document.styleSheets.length;n<r;n++)try{document.styleSheets[n].href&&0===document.styleSheets[n].href.indexOf("file://")&&console.log("CssElementQueries: unable to parse local css files, "+document.styleSheets[n].href),h(document.styleSheets[n].cssRules||document.styleSheets[n].rules||document.styleSheets[n].cssText)}catch(e){}c()},this.findElementQueriesElements=function(e){u(e)},this.update=function(){this.init()}};t.update=function(){t.instance.update()},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensor&&(e.resizeSensor.detach(),delete e.resizeSensor)},t.init=function(){t.instance||(t.instance=new t),t.instance.init()};var n=function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))},10);else window.onload=e};return t.findElementQueriesElements=function(e){t.instance.findElementQueriesElements(e)},t.listen=function(){n(t.init)},t})},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var r=n(163);t.a=function(e,t,n){var i,o,a,s,u=e.length,l=t.length,c=new Array(u*l);for(null==n&&(n=r.b),i=a=0;i<u;++i)for(s=e[i],o=0;o<l;++o,++a)c[a]=n(s,t[o]);return c}},function(e,t,n){"use strict";t.a=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}},function(e,t,n){"use strict";var r=n(157),i=n(158),o=n(345),a=n(161),s=n(349),u=n(164),l=n(166),c=n(165);t.a=function(){function e(e){var r,o,a=e.length,s=new Array(a);for(r=0;r<a;++r)s[r]=t(e[r],r,e);var c=f(s),d=c[0],p=c[1],v=h(s,d,p);Array.isArray(v)||(v=n.i(l.c)(d,p,v),v=n.i(u.a)(Math.ceil(d/v)*v,Math.floor(p/v)*v,v));for(var g=v.length;v[0]<=d;)v.shift(),--g;for(;v[g-1]>p;)v.pop(),--g;var m,y=new Array(g+1);for(r=0;r<=g;++r)m=y[r]=[],m.x0=r>0?v[r-1]:d,m.x1=r<g?v[r]:p;for(r=0;r<a;++r)o=s[r],d<=o&&o<=p&&y[n.i(i.a)(v,o,0,g)].push(e[r]);return y}var t=s.a,f=a.a,h=c.a;return e.value=function(r){return arguments.length?(t="function"==typeof r?r:n.i(o.a)(r),e):t},e.domain=function(t){return arguments.length?(f="function"==typeof t?t:n.i(o.a)([t[0],t[1]]),e):f},e.thresholds=function(t){return arguments.length?(h="function"==typeof t?t:Array.isArray(t)?n.i(o.a)(r.b.call(t)):n.i(o.a)(t),e):h},e}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r}},function(e,t,n){"use strict";var r=n(54);t.a=function(e,t){var i,o=e.length,a=o,s=-1,u=0;if(null==t)for(;++s<o;)isNaN(i=n.i(r.a)(e[s]))?--a:u+=i;else for(;++s<o;)isNaN(i=n.i(r.a)(t(e[s],s,e)))?--a:u+=i;if(a)return u/a}},function(e,t,n){"use strict";var r=n(44),i=n(54),o=n(88);t.a=function(e,t){var a,s=e.length,u=-1,l=[];if(null==t)for(;++u<s;)isNaN(a=n.i(i.a)(e[u]))||l.push(a);else for(;++u<s;)isNaN(a=n.i(i.a)(t(e[u],u,e)))||l.push(a);return n.i(o.a)(l.sort(r.a),.5)}},function(e,t,n){"use strict";t.a=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r}},function(e,t,n){"use strict";var r=n(44);t.a=function(e,t){if(n=e.length){var n,i,o=0,a=0,s=e[a];for(null==t&&(t=r.a);++o<n;)(t(i=e[o],s)<0||0!==t(s,s))&&(s=i,a=o);return 0===t(s,s)?a:void 0}}},function(e,t,n){"use strict";t.a=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e}},function(e,t,n){"use strict";t.a=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o}},function(e,t,n){"use strict";var r=n(157),i=n(44),o=n(54),a=n(88);t.a=function(e,t,s){return e=r.a.call(e,o.a).sort(i.a),Math.ceil((s-t)/(2*(n.i(a.a)(e,.75)-n.i(a.a)(e,.25))*Math.pow(e.length,-1/3)))}},function(e,t,n){"use strict";var r=n(160);t.a=function(e,t,i){return Math.ceil((i-t)/(3.5*n.i(r.a)(e)*Math.pow(e.length,-1/3)))}},function(e,t,n){"use strict";var r=n(167);t.a=function(){return n.i(r.a)(arguments)}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=Array.prototype.slice},function(e,t,n){"use strict";function r(e){return"translate("+(e+.5)+",0)"}function i(e){return"translate(0,"+(e+.5)+")"}function o(e){return function(t){return+e(t)}}function a(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function s(){return!this.__axis}function u(e,t){function n(n){var r=null==l?t.ticks?t.ticks.apply(t,u):t.domain():l,i=null==c?t.tickFormat?t.tickFormat.apply(t,u):p.a:c,d=Math.max(f,0)+w,S=t.range(),O=+S[0]+.5,T=+S[S.length-1]+.5,C=(t.bandwidth?a:o)(t.copy()),E=n.selection?n.selection():n,P=E.selectAll(".domain").data([null]),M=E.selectAll(".tick").data(r,t).order(),A=M.exit(),j=M.enter().append("g").attr("class","tick"),R=M.select("line"),I=M.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),M=M.merge(j),R=R.merge(j.append("line").attr("stroke","#000").attr(_+"2",x*f)),I=I.merge(j.append("text").attr("fill","#000").attr(_,x*d).attr("dy",e===v?"0em":e===m?"0.71em":"0.32em")),n!==E&&(P=P.transition(n),M=M.transition(n),R=R.transition(n),I=I.transition(n),A=A.transition(n).attr("opacity",b).attr("transform",function(e){return isFinite(e=C(e))?k(e):this.getAttribute("transform")}),j.attr("opacity",b).attr("transform",function(e){var t=this.parentNode.__axis;return k(t&&isFinite(t=t(e))?t:C(e))})),A.remove(),P.attr("d",e===y||e==g?"M"+x*h+","+O+"H0.5V"+T+"H"+x*h:"M"+O+","+x*h+"V0.5H"+T+"V"+x*h),M.attr("opacity",1).attr("transform",function(e){return k(C(e))}),R.attr(_+"2",x*f),I.attr(_,x*d).text(i),E.filter(s).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===g?"start":e===y?"end":"middle"),E.each(function(){this.__axis=C})}var u=[],l=null,c=null,f=6,h=6,w=3,x=e===v||e===y?-1:1,_=e===y||e===g?"x":"y",k=e===v||e===m?r:i;return n.scale=function(e){return arguments.length?(t=e,n):t},n.ticks=function(){return u=d.a.call(arguments),n},n.tickArguments=function(e){return arguments.length?(u=null==e?[]:d.a.call(e),n):u.slice()},n.tickValues=function(e){return arguments.length?(l=null==e?null:d.a.call(e),n):l&&l.slice()},n.tickFormat=function(e){return arguments.length?(c=e,n):c},n.tickSize=function(e){return arguments.length?(f=h=+e,n):f},n.tickSizeInner=function(e){return arguments.length?(f=+e,n):f},n.tickSizeOuter=function(e){return arguments.length?(h=+e,n):h},n.tickPadding=function(e){return arguments.length?(w=+e,n):w},n}function l(e){return u(v,e)}function c(e){return u(g,e)}function f(e){return u(m,e)}function h(e){return u(y,e)}t.a=l,t.b=c,t.c=f,t.d=h;var d=n(361),p=n(363),v=1,g=2,m=3,y=4,b=1e-6},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";function r(e){return{type:e}}function i(){return!v.event.button}function o(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function a(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function s(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function u(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function l(e,t,n){return f(S,e,t,n)}function c(e,t,n){return f(O,e,t,n)}function f(e,t,u,l){function c(t){var i=t.property("__brush",I).selectAll(".overlay").data([r("overlay")]);i.enter().append("rect").attr("class","overlay").attr("pointer-events",l?"auto":"all").attr("cursor",u?"default":C.overlay).merge(i).each(function(){var e=a(this).extent;n.i(v.select)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])}),t.selectAll(".selection").data([r("selection")]).enter().append("rect").attr("class","selection").attr("cursor",C.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var o=t.selectAll(".handle").data(e.handles,function(e){return e.type});o.exit().remove(),o.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return C[e.type]}),t.each(f).attr("fill","none").attr("pointer-events",l?"auto":"all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)"),u?t.on("mousedown.brush touchstart.brush",function(){"overlay"!==v.event.target.__data__.type&&R.apply(this,arguments)}):t.on("mousedown.brush touchstart.brush",R)}function f(){var e=n.i(v.select)(this),t=a(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?t[1][0]-F/2:t[0][0]-F/2}).attr("y",function(e){return"s"===e.type[0]?t[1][1]-F/2:t[0][1]-F/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+F:F}).attr("height",function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+F:F})):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function T(e,t){return e.__brush.emitter||new j(e,t)}function j(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function R(){function r(){var e=n.i(v.mouse)(H);!ee||V||z||(Math.abs(e[0]-ne[0])>Math.abs(e[1]-ne[1])?z=!0:V=!0),ne=e,F=!0,n.i(b.a)(),i()}function i(){var e;switch(D=ne[0]-te[0],B=ne[1]-te[1],q){case x:case w:W&&(D=Math.max(K-c,Math.min(Q-y,D)),h=c+D,j=y+D),G&&(B=Math.max($-p,Math.min(J-R,B)),m=p+B,I=R+B);break;case _:W<0?(D=Math.max(K-c,Math.min(Q-c,D)),h=c+D,j=y):W>0&&(D=Math.max(K-y,Math.min(Q-y,D)),h=c,j=y+D),G<0?(B=Math.max($-p,Math.min(J-p,B)),m=p+B,I=R):G>0&&(B=Math.max($-R,Math.min(J-R,B)),m=p,I=R+B);break;case k:W&&(h=Math.max(K,Math.min(Q,c-D*W)),j=Math.max(K,Math.min(Q,y+D*W))),G&&(m=Math.max($,Math.min(J,p-B*G)),I=Math.max($,Math.min(J,R+B*G)))}j<h&&(W*=-1,e=c,c=y,y=e,e=h,h=j,j=e,U in E&&oe.attr("cursor",C[U=E[U]])),I<m&&(G*=-1,e=p,p=R,R=e,e=m,m=I,I=e,U in P&&oe.attr("cursor",C[U=P[U]])),Y.selection&&(Z=Y.selection),V&&(h=Z[0][0],j=Z[1][0]),z&&(m=Z[0][1],I=Z[1][1]),Z[0][0]===h&&Z[0][1]===m&&Z[1][0]===j&&Z[1][1]===I||(Y.selection=[[h,m],[j,I]],f.call(H),re.brush())}function o(){if(n.i(b.b)(),v.event.touches){if(v.event.touches.length)return;L&&clearTimeout(L),L=setTimeout(function(){L=null},500),ie.on("touchmove.brush touchend.brush touchcancel.brush",null)}else n.i(d.dragEnable)(v.event.view,F),ae.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ie.attr("pointer-events","all"),oe.attr("cursor",C.overlay),Y.selection&&(Z=Y.selection),s(Z)&&(Y.selection=null,f.call(H)),re.end()}function u(){switch(v.event.keyCode){case 16:ee=W&&G;break;case 18:q===_&&(W&&(y=j-D*W,c=h+D*W),G&&(R=I-B*G,p=m+B*G),q=k,i());break;case 32:q!==_&&q!==k||(W<0?y=j-D:W>0&&(c=h-D),G<0?R=I-B:G>0&&(p=m-B),q=x,oe.attr("cursor",C.selection),i());break;default:return}n.i(b.a)()}function l(){switch(v.event.keyCode){case 16:ee&&(V=z=ee=!1,i());break;case 18:q===k&&(W<0?y=j:W>0&&(c=h),G<0?R=I:G>0&&(p=m),q=_,i());break;case 32:q===x&&(v.event.altKey?(W&&(y=j-D*W,c=h+D*W),G&&(R=I-B*G,p=m+B*G),q=k):(W<0?y=j:W>0&&(c=h),G<0?R=I:G>0&&(p=m),q=_),oe.attr("cursor",C[U]),i());break;default:return}n.i(b.a)()}if(v.event.touches){if(v.event.changedTouches.length<v.event.touches.length)return n.i(b.a)()}else if(L)return;if(N.apply(this,arguments)){var c,h,p,m,y,j,R,I,D,B,F,V,z,H=this,U=v.event.target.__data__.type,q="selection"===(v.event.metaKey&&!t?U="overlay":U)?w:v.event.altKey&&!t?k:_,W=e===O?null:M[U],G=e===S?null:A[U],Y=a(H),X=Y.extent,Z=Y.selection,K=X[0][0],$=X[0][1],Q=X[1][0],J=X[1][1],ee=W&&G&&v.event.shiftKey,te=n.i(v.mouse)(H),ne=te,re=T(H,arguments).beforestart();"overlay"===U?Y.selection=Z=[[c=e===O?K:te[0],p=e===S?$:te[1]],[y=e===O?Q:c,R=e===S?J:p]]:(c=Z[0][0],p=Z[0][1],y=Z[1][0],R=Z[1][1]),h=c,m=p,j=y,I=R;var ie=n.i(v.select)(H).attr("pointer-events","none"),oe=ie.selectAll(".overlay").attr("cursor",C[U]);if(v.event.touches)ie.on("touchmove.brush",r,!0).on("touchend.brush touchcancel.brush",o,!0);else{var ae=n.i(v.select)(v.event.view).on("mousemove.brush",r,!0).on("mouseup.brush",o,!0);t||ae.on("keydown.brush",u,!0).on("keyup.brush",l,!0),n.i(d.dragDisable)(v.event.view)}n.i(b.b)(),n.i(g.a)(H),f.call(H),re.start()}}function I(){var t=this.__brush||{selection:null};return t.extent=D.apply(this,arguments),t.dim=e,t}var L,D=o,N=i,B=n.i(h.a)(c,"start","brush","end"),F=6;return c.move=function(t,r){t.selection?t.on("start.brush",function(){T(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){T(this,arguments).end()}).tween("brush",function(){function t(e){o.selection=1===e&&s(l)?null:c(e),f.call(i),a.brush()}var i=this,o=i.__brush,a=T(i,arguments),u=o.selection,l=e.input("function"==typeof r?r.apply(this,arguments):r,o.extent),c=n.i(p.a)(u,l);return u&&l?t:t(1)}):t.each(function(){var t=this,i=arguments,o=t.__brush,a=e.input("function"==typeof r?r.apply(t,i):r,o.extent),u=T(t,i).beforestart();n.i(g.a)(t),o.selection=null==a||s(a)?null:a,f.call(t),u.start().brush().end()})},j.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){n.i(v.customEvent)(new y.a(c,t,e.output(this.state.selection)),B.apply,B,[t,this.that,this.args])}},c.extent=function(e){return arguments.length?(D="function"==typeof e?e:n.i(m.a)([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),c):D},c.filter=function(e){return arguments.length?(N="function"==typeof e?e:n.i(m.a)(!!e),c):N},c.handleSize=function(e){return arguments.length?(F=+e,c):F},c.on=function(){var e=B.on.apply(B,arguments);return e===B?c:e},c}t.d=u,t.b=l,t.c=c;var h=n(31),d=n(97),p=n(19),v=n(4),g=n(197),m=n(365),y=n(366),b=n(367),w={name:"drag"},x={name:"space"},_={name:"handle"},k={name:"center"},S={name:"x",handles:["e","w"].map(r),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},O={name:"y",handles:["n","s"].map(r),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},T={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(r),input:function(e){return e},output:function(e){return e}},C={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},E={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},P={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},M={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},A={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};t.a=function(e,t,n){return f(T,e,t,n)}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";t.a=function(e,t,n){this.target=e,this.type=t,this.selection=n}},function(e,t,n){"use strict";function r(){i.event.stopImmediatePropagation()}t.b=r;var i=n(4);t.a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},function(e,t,n){"use strict";function r(e){if(e instanceof o)return new o(e.h,e.s,e.l,e.opacity);e instanceof s.d||(e=n.i(s.e)(e));var t=e.r/255,r=e.g/255,i=e.b/255,a=(g*i+p*t-v*r)/(g+p-v),l=i-a,c=(d*(r-a)-f*l)/h,m=Math.sqrt(c*c+l*l)/(d*a*(1-a)),y=m?Math.atan2(c,l)*u.a-120:NaN;return new o(y<0?y+360:y,m,a,e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new o(e,t,n,null==i?1:i)}function o(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}t.a=i;var a=n(95),s=n(94),u=n(170),l=-.14861,c=1.78277,f=-.29227,h=-.90649,d=1.97294,p=d*h,v=d*c,g=c*f-h*l;n.i(a.a)(o,i,n.i(a.b)(s.f,{brighter:function(e){return e=null==e?s.g:Math.pow(s.g,e),new o(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?s.h:Math.pow(s.h,e),new o(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*u.b,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new s.d(255*(t+n*(l*r+c*i)),255*(t+n*(f*r+h*i)),255*(t+n*(d*r)),this.opacity)}}))},function(e,t,n){"use strict";function r(e){if(e instanceof o)return new o(e.l,e.a,e.b,e.opacity);if(e instanceof h){var t=e.h*v.b;return new o(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof p.d||(e=n.i(p.e)(e));var r=l(e.r),i=l(e.g),s=l(e.b),u=a((.4124564*r+.3575761*i+.1804375*s)/g),c=a((.2126729*r+.7151522*i+.072175*s)/m);return new o(116*c-16,500*(u-c),200*(c-a((.0193339*r+.119192*i+.9503041*s)/y)),e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new o(e,t,n,null==i?1:i)}function o(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function a(e){return e>_?Math.pow(e,1/3):e/x+b}function s(e){return e>w?e*e*e:x*(e-b)}function u(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function l(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function c(e){if(e instanceof h)return new h(e.h,e.c,e.l,e.opacity);e instanceof o||(e=r(e));var t=Math.atan2(e.b,e.a)*v.a;return new h(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function f(e,t,n,r){return 1===arguments.length?c(e):new h(e,t,n,null==r?1:r)}function h(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}t.a=i,t.b=f;var d=n(95),p=n(94),v=n(170),g=.95047,m=1,y=1.08883,b=4/29,w=6/29,x=3*w*w,_=w*w*w;n.i(d.a)(o,i,n.i(d.b)(p.f,{brighter:function(e){
return new o(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new o(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=m*s(e),t=g*s(t),n=y*s(n),new p.d(u(3.2404542*t-1.5371385*e-.4985314*n),u(-.969266*t+1.8760108*e+.041556*n),u(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),n.i(d.a)(h,f,n.i(d.b)(p.f,{brighter:function(e){return new h(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new h(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return r(this).rgb()}}))},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(){return!u.event.button}function i(){return this.parentNode}function o(e){return null==e?{x:u.event.x,y:u.event.y}:e}function a(){return"ontouchstart"in this}var s=n(31),u=n(4),l=n(171),c=n(172),f=n(370),h=n(372);t.a=function(){function e(e){e.on("mousedown.drag",t).filter(T).on("touchstart.drag",v).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function t(){if(!_&&k.apply(this,arguments)){var e=y("mouse",S.apply(this,arguments),u.mouse,this,arguments);e&&(n.i(u.select)(u.event.view).on("mousemove.drag",d,!0).on("mouseup.drag",p,!0),n.i(l.a)(u.event.view),n.i(c.b)(),x=!1,b=u.event.clientX,w=u.event.clientY,e("start"))}}function d(){if(n.i(c.a)(),!x){var e=u.event.clientX-b,t=u.event.clientY-w;x=e*e+t*t>M}C.mouse("drag")}function p(){n.i(u.select)(u.event.view).on("mousemove.drag mouseup.drag",null),n.i(l.b)(u.event.view,x),n.i(c.a)(),C.mouse("end")}function v(){if(k.apply(this,arguments)){var e,t,r=u.event.changedTouches,i=S.apply(this,arguments),o=r.length;for(e=0;e<o;++e)(t=y(r[e].identifier,i,u.touch,this,arguments))&&(n.i(c.b)(),t("start"))}}function g(){var e,t,r=u.event.changedTouches,i=r.length;for(e=0;e<i;++e)(t=C[r[e].identifier])&&(n.i(c.a)(),t("drag"))}function m(){var e,t,r=u.event.changedTouches,i=r.length;for(_&&clearTimeout(_),_=setTimeout(function(){_=null},500),e=0;e<i;++e)(t=C[r[e].identifier])&&(n.i(c.b)(),t("end"))}function y(t,r,i,o,a){var s,l,c,f=i(r,t),d=E.copy();if(n.i(u.customEvent)(new h.a(e,"beforestart",s,t,P,f[0],f[1],0,0,d),function(){return null!=(u.event.subject=s=O.apply(o,a))&&(l=s.x-f[0]||0,c=s.y-f[1]||0,!0)}))return function p(v){var g,m=f;switch(v){case"start":C[t]=p,g=P++;break;case"end":delete C[t],--P;case"drag":f=i(r,t),g=P}n.i(u.customEvent)(new h.a(e,v,s,t,g,f[0]+l,f[1]+c,f[0]-m[0],f[1]-m[1],d),d.apply,d,[v,o,a])}}var b,w,x,_,k=r,S=i,O=o,T=a,C={},E=n.i(s.a)("start","drag","end"),P=0,M=0;return e.filter=function(t){return arguments.length?(k="function"==typeof t?t:n.i(f.a)(!!t),e):k},e.container=function(t){return arguments.length?(S="function"==typeof t?t:n.i(f.a)(t),e):S},e.subject=function(t){return arguments.length?(O="function"==typeof t?t:n.i(f.a)(t),e):O},e.touchable=function(t){return arguments.length?(T="function"==typeof t?t:n.i(f.a)(!!t),e):T},e.on=function(){var t=E.on.apply(E,arguments);return t===E?e:t},e.clickDistance=function(t){return arguments.length?(M=(t=+t)*t,e):Math.sqrt(M)},e}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s,u,l){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}t.a=r,r.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}},function(e,t,n){"use strict";var r=(n(380),n(382),n(377));n.d(t,"a",function(){return r.a}),n(381),n(383),n(379),n(376),n(375),n(374),n(378)},function(e,t,n){"use strict";(function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n})(1.70158),function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158)},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}t.a=r},function(e,t,n){"use strict";var r=2*Math.PI;(function e(t,n){function i(e){return t*Math.pow(2,10*--e)*Math.sin((o-e)/n)}var o=Math.asin(1/(t=Math.max(1,t)))*(n/=r);return i.amplitude=function(t){return e(t,n*r)},i.period=function(n){return e(t,n)},i})(1,.3),function e(t,n){function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+o)/n)}var o=Math.asin(1/(t=Math.max(1,t)))*(n/=r);return i.amplitude=function(t){return e(t,n*r)},i.period=function(n){return e(t,n)},i}(1,.3),function e(t,n){function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((o-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((o+e)/n))/2}var o=Math.asin(1/(t=Math.max(1,t)))*(n/=r);return i.amplitude=function(t){return e(t,n*r)},i.period=function(n){return e(t,n)},i}(1,.3)},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";(function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n})(3),function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3)},function(e,t,n){"use strict"},function(e,t,n){"use strict";Math.PI},function(e,t,n){"use strict";function r(e){return i=n.i(s.a)(e),o=i.format,a=i.formatPrefix,i}n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),t.a=r;var i,o,a,s=n(176);r({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},function(e,t,n){"use strict";t.a=function(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,o=-1;i<r;++i)switch(e[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e}},function(e,t,n){"use strict";t.a=function(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}},function(e,t,n){"use strict";var r=n(100);t.a=function(e,t){var i=n.i(r.a)(e,t);if(!i)return e+"";var o=i[0],a=i[1];return a<0?"0."+new Array(-a).join("0")+o:o.length>a+1?o.slice(0,a+1)+"."+o.slice(a+1):o+new Array(a-o.length+2).join("0")}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";var r=n(68);t.a=function(e){return Math.max(0,-n.i(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";var r=n(68);t.a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n.i(r.a)(t)/3)))-n.i(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";var r=n(68);t.a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,n.i(r.a)(t)-n.i(r.a)(e))+1}},function(e,t,n){"use strict";function r(e){return function t(r){function a(t,a){var s=e((t=n.i(i.cubehelix)(t)).h,(a=n.i(i.cubehelix)(a)).h),u=n.i(o.a)(t.s,a.s),l=n.i(o.a)(t.l,a.l),c=n.i(o.a)(t.opacity,a.opacity);return function(e){return t.h=s(e),t.s=u(e),t.l=l(Math.pow(e,r)),t.opacity=c(e),t+""}}return r=+r,a.gamma=t,a}(1)}n.d(t,"a",function(){return a});var i=n(14),o=n(55),a=(r(o.b),r(o.a))},function(e,t,n){"use strict";function r(e){return function(t,r){var a=e((t=n.i(i.hcl)(t)).h,(r=n.i(i.hcl)(r)).h),s=n.i(o.a)(t.c,r.c),u=n.i(o.a)(t.l,r.l),l=n.i(o.a)(t.opacity,r.opacity);return function(e){return t.h=a(e),t.c=s(e),t.l=u(e),t.opacity=l(e),t+""}}}var i=n(14),o=n(55);r(o.b),r(o.a)},function(e,t,n){"use strict";function r(e){return function(t,r){var a=e((t=n.i(i.hsl)(t)).h,(r=n.i(i.hsl)(r)).h),s=n.i(o.a)(t.s,r.s),u=n.i(o.a)(t.l,r.l),l=n.i(o.a)(t.opacity,r.opacity);return function(e){return t.h=a(e),t.s=s(e),t.l=u(e),t.opacity=l(e),t+""}}}var i=n(14),o=n(55);r(o.b),r(o.a)},function(e,t,n){"use strict";n(14),n(55)},function(e,t,n){"use strict"},function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};t.b=function(e,t,n,i,o,a){var s,u,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,l/=u),e*i<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*r,skewX:Math.atan(l)*r,scaleX:s,scaleY:u}}},function(e,t,n){"use strict";function r(e,t,r,o){function a(e){return e.length?e.pop()+" ":""}function s(e,o,a,s,u,l){if(e!==a||o!==s){var c=u.push("translate(",null,t,null,r);l.push({i:c-4,x:n.i(i.a)(e,a)},{i:c-2,x:n.i(i.a)(o,s)})}else(a||s)&&u.push("translate("+a+t+s+r)}function u(e,t,r,s){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),s.push({i:r.push(a(r)+"rotate(",null,o)-2,x:n.i(i.a)(e,t)})):t&&r.push(a(r)+"rotate("+t+o)}function l(e,t,r,s){e!==t?s.push({i:r.push(a(r)+"skewX(",null,o)-2,x:n.i(i.a)(e,t)}):t&&r.push(a(r)+"skewX("+t+o)}function c(e,t,r,o,s,u){if(e!==r||t!==o){var l=s.push(a(s)+"scale(",null,",",null,")");u.push({i:l-4,x:n.i(i.a)(e,r)},{i:l-2,x:n.i(i.a)(t,o)})}else 1===r&&1===o||s.push(a(s)+"scale("+r+","+o+")")}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),s(t.translateX,t.translateY,n.translateX,n.translateY,r,i),u(t.rotate,n.rotate,r,i),l(t.skewX,n.skewX,r,i),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t,n=-1,o=i.length;++n<o;)r[(t=i[n]).i]=t.x(e);return r.join("")}}}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var i=n(69),o=n(401),a=r(o.a,"px, ","px)","deg)"),s=r(o.b,", ",")",")")},function(e,t,n){"use strict";function r(e){return"none"===e?l.a:(o||(o=document.createElement("DIV"),a=document.documentElement,s=document.defaultView),o.style.transform=e,e=s.getComputedStyle(a.appendChild(o),null).getPropertyValue("transform"),a.removeChild(o),e=e.slice(7,-1).split(","),n.i(l.b)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function i(e){return null==e?l.a:(u||(u=document.createElementNS("http://www.w3.org/2000/svg","g")),u.setAttribute("transform",e),(e=u.transform.baseVal.consolidate())?(e=e.matrix,n.i(l.b)(e.a,e.b,e.c,e.d,e.e,e.f)):l.a)}t.a=r,t.b=i;var o,a,s,u,l=n(399)},function(e,t,n){"use strict";function r(e){return((e=Math.exp(e))+1/e)/2}function i(e){return((e=Math.exp(e))-1/e)/2}function o(e){return((e=Math.exp(2*e))-1)/(e+1)}var a=Math.SQRT2;t.a=function(e,t){var n,s,u=e[0],l=e[1],c=e[2],f=t[0],h=t[1],d=t[2],p=f-u,v=h-l,g=p*p+v*v;if(g<1e-12)s=Math.log(d/c)/a,n=function(e){return[u+e*p,l+e*v,c*Math.exp(a*e*s)]};else{var m=Math.sqrt(g),y=(d*d-c*c+4*g)/(2*c*2*m),b=(d*d-c*c-4*g)/(2*d*2*m),w=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(b*b+1)-b);s=(x-w)/a,n=function(e){var t=e*s,n=r(w),f=c/(2*m)*(n*o(a*t+w)-i(w));return[u+f*p,l+f*v,c*n/r(a*t+w)]}}return n.duration=1e3*s,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(405);n.d(t,"queue",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=[].slice},function(e,t,n){"use strict";function r(e){this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function i(e){if(!e._start)try{o(e)}catch(t){if(e._tasks[e._ended+e._active-1])s(e,t);else if(!e._data)throw t}}function o(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,n=e._tasks[t],r=n.length-1,i=n[r];n[r]=a(e,t),--e._waiting,++e._active,n=i.apply(null,n),e._tasks[t]&&(e._tasks[t]=n||f)}}function a(e,t){return function(n,r){e._tasks[t]&&(--e._active,++e._ended,e._tasks[t]=null,null==e._error&&(null!=n?s(e,n):(e._data[t]=r,e._waiting?i(e):u(e))))}}function s(e,t){var n,r=e._tasks.length;for(e._error=t,e._data=void 0,e._waiting=NaN;--r>=0;)if((n=e._tasks[r])&&(e._tasks[r]=null,n.abort))try{n.abort()}catch(t){}e._active=NaN,u(e)}function u(e){if(!e._active&&e._call){var t=e._data;e._data=void 0,e._call(e._error,t)}}function l(e){if(null==e)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new r(e)}t.a=l;var c=n(404),f={};r.prototype=l.prototype={constructor:r,defer:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var t=c.a.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),i(this),this},abort:function(){return null==this._error&&s(this,new Error("abort")),this},await:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,n){e.apply(null,[t].concat(n))},u(this),this},awaitAll:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=e,u(this),this}}},function(e,t,n){"use strict";function r(){function e(){var e=u().length,r=c[1]<c[0],o=c[r-0],s=c[1-r];t=(s-o)/Math.max(1,e-h+2*d),f&&(t=Math.floor(t)),o+=(s-o-t*(e-h))*p,i=t*(1-h),f&&(o=Math.round(o),i=Math.round(i));var v=n.i(a.range)(e).map(function(e){return o+t*e});return l(r?v.reverse():v)}var t,i,o=n.i(s.a)().unknown(void 0),u=o.domain,l=o.range,c=[0,1],f=!1,h=0,d=0,p=.5;return delete o.unknown,o.domain=function(t){return arguments.length?(u(t),e()):u()},o.range=function(t){return arguments.length?(c=[+t[0],+t[1]],e()):c.slice()},o.rangeRound=function(t){return c=[+t[0],+t[1]],f=!0,e()},o.bandwidth=function(){return i},o.step=function(){return t},o.round=function(t){return arguments.length?(f=!!t,e()):f},o.padding=function(t){return arguments.length?(h=d=Math.max(0,Math.min(1,t)),e()):h},o.paddingInner=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},o.paddingOuter=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},o.align=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),e()):p},o.copy=function(){return r().domain(u()).range(c).round(f).paddingInner(h).paddingOuter(d).align(p)},e()}function i(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return i(t())},e}function o(){return i(r().paddingInner(1))}t.a=r,t.b=o;var a=n(8),s=n(186)},function(e,t,n){"use strict";var r=n(57);t.a=n.i(r.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(e,t,n){"use strict";var r=n(57);t.a=n.i(r.a)("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")},function(e,t,n){"use strict";var r=n(57);t.a=n.i(r.a)("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")},function(e,t,n){"use strict";var r=n(57);t.a=n.i(r.a)("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")},function(e,t,n){"use strict";var r=n(14),i=n(19);t.a=n.i(i.i)(n.i(r.cubehelix)(300,.5,0),n.i(r.cubehelix)(-240,.5,1))},function(e,t,n){"use strict";function r(){function e(e){return+e}var t=[0,1];return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=i.a.call(n,a.a),e):t.slice()},e.copy=function(){return r().domain(t)},n.i(o.b)(e)}t.a=r;var i=n(36),o=n(58),a=n(185)},function(e,t,n){"use strict";function r(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:n.i(h.a)(t)}function i(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function o(e){return isFinite(e)?+("1e"+e):e<0?0:e}function a(e){return 10===e?o:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function s(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function u(e){return function(t){return-e(-t)}}function l(){function e(){return v=s(h),g=a(h),o()[0]<0&&(v=u(v),g=u(g)),t}var t=n.i(p.a)(r,i).domain([1,10]),o=t.domain,h=10,v=s(10),g=a(10);return t.base=function(t){return arguments.length?(h=+t,e()):h},t.domain=function(t){return arguments.length?(o(t),e()):o()},t.ticks=function(e){var t,r=o(),i=r[0],a=r[r.length-1];(t=a<i)&&(f=i,i=a,a=f);var s,u,l,f=v(i),d=v(a),p=null==e?10:+e,m=[];if(!(h%1)&&d-f<p){if(f=Math.round(f)-1,d=Math.round(d)+1,i>0){for(;f<d;++f)for(u=1,s=g(f);u<h;++u)if(!((l=s*u)<i)){if(l>a)break;m.push(l)}}else for(;f<d;++f)for(u=h-1,s=g(f);u>=1;--u)if(!((l=s*u)<i)){if(l>a)break;m.push(l)}}else m=n.i(c.ticks)(f,d,Math.min(d-f,p)).map(g);return t?m.reverse():m},t.tickFormat=function(e,r){if(null==r&&(r=10===h?".0e":","),"function"!=typeof r&&(r=n.i(f.format)(r)),e===1/0)return r;null==e&&(e=10);var i=Math.max(1,h*e/t.ticks().length);return function(e){var t=e/g(Math.round(v(e)));return t*h<h-.5&&(t*=h),t<=i?r(e):""}},t.nice=function(){return o(n.i(d.a)(o(),{floor:function(e){return g(Math.floor(v(e)))},ceil:function(e){return g(Math.ceil(v(e)))}}))},t.copy=function(){return n.i(p.c)(t,l().base(h))},t}t.a=l;var c=n(8),f=n(45),h=n(109),d=n(184),p=n(70)},function(e,t,n){"use strict";function r(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function i(){function e(e,t){return(t=r(t,o)-(e=r(e,o)))?function(n){return(r(n,o)-e)/t}:n.i(a.a)(t)}function t(e,t){return t=r(t,o)-(e=r(e,o)),function(n){return r(e+t*n,1/o)}}var o=1,l=n.i(u.a)(e,t),c=l.domain;return l.exponent=function(e){return arguments.length?(o=+e,c(c())):o},l.copy=function(){return n.i(u.c)(l,i().exponent(o))},n.i(s.b)(l)}function o(){return i().exponent(.5)}t.a=i,t.b=o;var a=n(109),s=n(58),u=n(70)},function(e,t,n){"use strict";function r(){function e(){var e=0,r=Math.max(1,s.length);for(u=new Array(r-1);++e<r;)u[e-1]=n.i(i.quantile)(a,e/r);return t}function t(e){if(!isNaN(e=+e))return s[n.i(i.bisect)(u,e)]}var a=[],s=[],u=[];return t.invertExtent=function(e){var t=s.indexOf(e);return t<0?[NaN,NaN]:[t>0?u[t-1]:a[0],t<u.length?u[t]:a[a.length-1]]},t.domain=function(t){if(!arguments.length)return a.slice();a=[];for(var n,r=0,o=t.length;r<o;++r)null==(n=t[r])||isNaN(n=+n)||a.push(n);return a.sort(i.ascending),e()},t.range=function(t){return arguments.length?(s=o.b.call(t),e()):s.slice()},t.quantiles=function(){return u.slice()},t.copy=function(){return r().domain(a).range(s)},t}t.a=r;var i=n(8),o=n(36)},function(e,t,n){"use strict";function r(){function e(e){if(e<=e)return f[n.i(i.bisect)(c,e,0,l)]}function t(){var t=-1;for(c=new Array(l);++t<l;)c[t]=((t+1)*u-(t-l)*s)/(l+1);return e}var s=0,u=1,l=1,c=[.5],f=[0,1];return e.domain=function(e){return arguments.length?(s=+e[0],u=+e[1],t()):[s,u]},e.range=function(e){return arguments.length?(l=(f=o.b.call(e)).length-1,t()):f.slice()},e.invertExtent=function(e){var t=f.indexOf(e);return t<0?[NaN,NaN]:t<1?[s,c[0]]:t>=l?[c[l-1],u]:[c[t-1],c[t]]},e.copy=function(){return r().domain([s,u]).range(f)},n.i(a.b)(e)}t.a=r;var i=n(8),o=n(36),a=n(58)},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});var r=n(14),i=n(19),o=n.i(i.i)(n.i(r.cubehelix)(-100,.75,.35),n.i(r.cubehelix)(80,1.5,.8)),a=n.i(i.i)(n.i(r.cubehelix)(260,.75,.35),n.i(r.cubehelix)(80,1.5,.8)),s=n.i(r.cubehelix)();t.a=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return s.h=360*e-100,s.s=1.5-1.5*t,s.l=.8-.9*t,s+""}},function(e,t,n){"use strict";function r(e){function t(t){var n=(t-o)/(a-o);return e(s?Math.max(0,Math.min(1,n)):n)}var o=0,a=1,s=!1;return t.domain=function(e){return arguments.length?(o=+e[0],a=+e[1],t):[o,a]},t.clamp=function(e){return arguments.length?(s=!!e,t):s},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return r(e).domain([o,a]).clamp(s)},n.i(i.b)(t)}t.a=r;var i=n(58)},function(e,t,n){"use strict";function r(){function e(e){if(e<=e)return a[n.i(i.bisect)(t,e,0,s)]}var t=[.5],a=[0,1],s=1;return e.domain=function(n){return arguments.length?(t=o.b.call(n),s=Math.min(t.length,a.length-1),e):t.slice()},e.range=function(n){return arguments.length?(a=o.b.call(n),s=Math.min(t.length,a.length-1),e):a.slice()},e.invertExtent=function(e){var n=a.indexOf(e);return[t[n-1],t[n]]},e.copy=function(){return r().domain(t).range(a)},e}t.a=r;var i=n(8),o=n(36)},function(e,t,n){"use strict";var r=n(8),i=n(45);t.a=function(e,t,o){var a,s=e[0],u=e[e.length-1],l=n.i(r.tickStep)(s,u,null==t?10:t);switch(o=n.i(i.formatSpecifier)(null==o?",f":o),o.type){case"s":var c=Math.max(Math.abs(s),Math.abs(u));return null!=o.precision||isNaN(a=n.i(i.precisionPrefix)(l,c))||(o.precision=a),n.i(i.formatPrefix)(o,c);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(a=n.i(i.precisionRound)(l,Math.max(Math.abs(s),Math.abs(u))))||(o.precision=a-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(a=n.i(i.precisionFixed)(l))||(o.precision=a-2*("%"===o.type))}return n.i(i.format)(o)}},function(e,t,n){"use strict";var r=n(187),i=n(193),o=n(118);t.a=function(){return n.i(r.b)(o.a,o.b,o.c,o.d,o.e,o.f,o.g,o.h,i.a).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}},function(e,t,n){"use strict";function r(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s});var i=n(57);t.a=r(n.i(i.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var o=r(n.i(i.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),a=r(n.i(i.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),s=r(n.i(i.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(){return new i}function i(){this._="@"+(++o).toString(36)}t.a=r;var o=0;i.prototype=r.prototype={constructor:i,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}},function(e,t,n){"use strict";var r=n(115),i=n(71);t.a=function(e){var t=n.i(r.a)();return t.changedTouches&&(t=t.changedTouches[0]),n.i(i.a)(e,t)}},function(e,t,n){"use strict";var r=n(16);t.a=function(e){return"string"==typeof e?new r.b([[document.querySelector(e)]],[document.documentElement]):new r.b([[e]],r.c)}},function(e,t,n){"use strict";var r=n(16);t.a=function(e){return"string"==typeof e?new r.b([document.querySelectorAll(e)],[document.documentElement]):new r.b([null==e?[]:e],r.c)}},function(e,t,n){"use strict";var r=n(110);t.a=function(e){var t="function"==typeof e?e:n.i(r.a)(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}},function(e,t,n){"use strict";function r(e){return function(){this.removeAttribute(e)}}function i(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t){return function(){this.setAttribute(e,t)}}function a(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function s(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function u(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var l=n(111);t.a=function(e,t){var c=n.i(l.a)(e);if(arguments.length<2){var f=this.node();return c.local?f.getAttributeNS(c.space,c.local):f.getAttribute(c)}return this.each((null==t?c.local?i:r:"function"==typeof t?c.local?u:s:c.local?a:o)(c,t))}},function(e,t,n){"use strict";t.a=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}},function(e,t,n){"use strict";function r(e){return e.trim().split(/^|\s+/)}function i(e){return e.classList||new o(e)}function o(e){this._node=e,this._names=r(e.getAttribute("class")||"")}function a(e,t){for(var n=i(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function s(e,t){for(var n=i(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function u(e){return function(){a(this,e)}}function l(e){return function(){s(this,e)}}function c(e,t){return function(){(t.apply(this,arguments)?a:s)(this,e)}}o.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}},t.a=function(e,t){var n=r(e+"");if(arguments.length<2){for(var o=i(this.node()),a=-1,s=n.length;++a<s;)if(!o.contains(n[a]))return!1;return!0}return this.each(("function"==typeof t?c:t?u:l)(n,t))}},function(e,t,n){"use strict";function r(e,t,n,r,i,o){for(var s,u=0,l=t.length,c=o.length;u<c;++u)(s=t[u])?(s.__data__=o[u],r[u]=s):n[u]=new a.b(e,o[u]);for(;u<l;++u)(s=t[u])&&(i[u]=s)}function i(e,t,n,r,i,o,s){var l,c,f,h={},d=t.length,p=o.length,v=new Array(d);for(l=0;l<d;++l)(c=t[l])&&(v[l]=f=u+s.call(c,c.__data__,l,t),f in h?i[l]=c:h[f]=c);for(l=0;l<p;++l)f=u+s.call(e,o[l],l,o),(c=h[f])?(r[l]=c,c.__data__=o[l],h[f]=null):n[l]=new a.b(e,o[l]);for(l=0;l<d;++l)(c=t[l])&&h[v[l]]===c&&(i[l]=c)}var o=n(16),a=n(189),s=n(423),u="$";t.a=function(e,t){if(!e)return y=new Array(this.size()),p=-1,this.each(function(e){y[++p]=e}),y;var a=t?i:r,u=this._parents,l=this._groups;"function"!=typeof e&&(e=n.i(s.a)(e));for(var c=l.length,f=new Array(c),h=new Array(c),d=new Array(c),p=0;p<c;++p){var v=u[p],g=l[p],m=g.length,y=e.call(v,v&&v.__data__,p,u),b=y.length,w=h[p]=new Array(b),x=f[p]=new Array(b);a(v,g,w,x,d[p]=new Array(m),y,t);for(var _,k,S=0,O=0;S<b;++S)if(_=w[S]){for(S>=O&&(O=S+1);!(k=x[O])&&++O<b;);_._next=k||null}}return f=new o.b(f,u),f._enter=h,f._exit=d,f}},function(e,t,n){"use strict";t.a=function(e){return arguments.length?this.property("__data__",e):this.node().__data__}},function(e,t,n){"use strict";function r(e,t,r){var i=n.i(a.a)(e),o=i.CustomEvent;"function"==typeof o?o=new o(t,r):(o=i.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function i(e,t){return function(){return r(this,e,t)}}function o(e,t){return function(){
return r(this,e,t.apply(this,arguments))}}var a=n(116);t.a=function(e,t){return this.each(("function"==typeof t?o:i)(e,t))}},function(e,t,n){"use strict";t.a=function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this}},function(e,t,n){"use strict";t.a=function(){return!this.node()}},function(e,t,n){"use strict";var r=n(190),i=n(16);t.a=function(){return new i.b(this._exit||this._groups.map(r.a),this._parents)}},function(e,t,n){"use strict";var r=n(16),i=n(188);t.a=function(e){"function"!=typeof e&&(e=n.i(i.a)(e));for(var t=this._groups,o=t.length,a=new Array(o),s=0;s<o;++s)for(var u,l=t[s],c=l.length,f=a[s]=[],h=0;h<c;++h)(u=l[h])&&e.call(u,u.__data__,h,l)&&f.push(u);return new r.b(a,this._parents)}},function(e,t,n){"use strict";function r(){this.innerHTML=""}function i(e){return function(){this.innerHTML=e}}function o(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}t.a=function(e){return arguments.length?this.each(null==e?r:("function"==typeof e?o:i)(e)):this.node().innerHTML}},function(e,t,n){"use strict";function r(){return null}var i=n(110),o=n(114);t.a=function(e,t){var a="function"==typeof e?e:n.i(i.a)(e),s=null==t?r:"function"==typeof t?t:n.i(o.a)(t);return this.select(function(){return this.insertBefore(a.apply(this,arguments),s.apply(this,arguments)||null)})}},function(e,t,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}t.a=function(){return this.each(r)}},function(e,t,n){"use strict";var r=n(16);t.a=function(e){for(var t=this._groups,n=e._groups,i=t.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=t[u],f=n[u],h=c.length,d=s[u]=new Array(h),p=0;p<h;++p)(l=c[p]||f[p])&&(d[p]=l);for(;u<i;++u)s[u]=t[u];return new r.b(s,this._parents)}},function(e,t,n){"use strict";t.a=function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}},function(e,t,n){"use strict";t.a=function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}},function(e,t,n){"use strict";t.a=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}},function(e,t,n){"use strict";function r(e){return function(){delete this[e]}}function i(e,t){return function(){this[e]=t}}function o(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}t.a=function(e,t){return arguments.length>1?this.each((null==t?r:"function"==typeof t?o:i)(e,t)):this.node()[e]}},function(e,t,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}t.a=function(){return this.each(r)}},function(e,t,n){"use strict";function r(){var e=this.parentNode;e&&e.removeChild(this)}t.a=function(){return this.each(r)}},function(e,t,n){"use strict";var r=n(16),i=n(114);t.a=function(e){"function"!=typeof e&&(e=n.i(i.a)(e));for(var t=this._groups,o=t.length,a=new Array(o),s=0;s<o;++s)for(var u,l,c=t[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(u=c[d])&&(l=e.call(u,u.__data__,d,c))&&("__data__"in u&&(l.__data__=u.__data__),h[d]=l);return new r.b(a,this._parents)}},function(e,t,n){"use strict";var r=n(16),i=n(192);t.a=function(e){"function"!=typeof e&&(e=n.i(i.a)(e));for(var t=this._groups,o=t.length,a=[],s=[],u=0;u<o;++u)for(var l,c=t[u],f=c.length,h=0;h<f;++h)(l=c[h])&&(a.push(e.call(l,l.__data__,h,c)),s.push(l));return new r.b(a,s)}},function(e,t,n){"use strict";t.a=function(){var e=0;return this.each(function(){++e}),e}},function(e,t,n){"use strict";function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var i=n(16);t.a=function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=r);for(var n=this._groups,o=n.length,a=new Array(o),s=0;s<o;++s){for(var u,l=n[s],c=l.length,f=a[s]=new Array(c),h=0;h<c;++h)(u=l[h])&&(f[h]=u);f.sort(t)}return new i.b(a,this._parents).order()}},function(e,t,n){"use strict";function r(){this.textContent=""}function i(e){return function(){this.textContent=e}}function o(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}t.a=function(e){return arguments.length?this.each(null==e?r:("function"==typeof e?o:i)(e)):this.node().textContent}},function(e,t,n){"use strict";var r=n(115),i=n(71);t.a=function(e,t,o){arguments.length<3&&(o=t,t=n.i(r.a)().changedTouches);for(var a,s=0,u=t?t.length:0;s<u;++s)if((a=t[s]).identifier===o)return n.i(i.a)(e,a);return null}},function(e,t,n){"use strict";var r=n(115),i=n(71);t.a=function(e,t){null==t&&(t=n.i(r.a)().touches);for(var o=0,a=t?t.length:0,s=new Array(a);o<a;++o)s[o]=n.i(i.a)(e,t[o]);return s}},function(e,t,n){"use strict";var r=n(194),i=n(117);+new Date("2000-01-01T00:00:00.000Z")||n.i(i.b)(r.a)},function(e,t,n){"use strict";var r=n(12),i=n(22),o=n.i(r.a)(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.d)/i.b},function(e){return e.getDate()-1});t.a=o,o.range},function(e,t,n){"use strict";var r=n(12),i=n(22),o=n.i(r.a)(function(e){var t=e.getTimezoneOffset()*i.d%i.c;t<0&&(t+=i.c),e.setTime(Math.floor((+e-t)/i.c)*i.c+t)},function(e,t){e.setTime(+e+t*i.c)},function(e,t){return(t-e)/i.c},function(e){return e.getHours()});t.a=o,o.range},function(e,t,n){"use strict";var r=n(12),i=n.i(r.a)(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?n.i(r.a)(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):i:null},t.a=i,i.range},function(e,t,n){"use strict";var r=n(12),i=n(22),o=n.i(r.a)(function(e){e.setTime(Math.floor(e/i.d)*i.d)},function(e,t){e.setTime(+e+t*i.d)},function(e,t){return(t-e)/i.d},function(e){return e.getMinutes()});t.a=o,o.range},function(e,t,n){"use strict";var r=n(12),i=n.i(r.a)(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});t.a=i,i.range},function(e,t,n){"use strict";var r=n(12),i=n(22),o=n.i(r.a)(function(e){e.setTime(Math.floor(e/i.e)*i.e)},function(e,t){e.setTime(+e+t*i.e)},function(e,t){return(t-e)/i.e},function(e){return e.getUTCSeconds()});t.a=o,o.range},function(e,t,n){"use strict";var r=n(12),i=n(22),o=n.i(r.a)(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/i.b},function(e){return e.getUTCDate()-1});t.a=o,o.range},function(e,t,n){"use strict";var r=n(12),i=n(22),o=n.i(r.a)(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*i.c)},function(e,t){return(t-e)/i.c},function(e){return e.getUTCHours()});t.a=o,o.range},function(e,t,n){"use strict";var r=n(12),i=n(22),o=n.i(r.a)(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*i.d)},function(e,t){return(t-e)/i.d},function(e){return e.getUTCMinutes()});t.a=o,o.range},function(e,t,n){"use strict";var r=n(12),i=n.i(r.a)(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});t.a=i,i.range},function(e,t,n){"use strict";function r(e){return n.i(i.a)(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/o.a})}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var i=n(12),o=n(22),a=r(0),s=r(1),u=r(2),l=r(3),c=r(4),f=r(5),h=r(6);a.range,s.range,u.range,l.range,c.range,f.range,h.range},function(e,t,n){"use strict";var r=n(12),i=n.i(r.a)(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?n.i(r.a)(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null},t.a=i,i.range},function(e,t,n){"use strict";function r(e){return n.i(i.a)(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*o.d)/o.a})}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var i=n(12),o=n(22),a=r(0),s=r(1),u=r(2),l=r(3),c=r(4),f=r(5),h=r(6);a.range,s.range,u.range,l.range,c.range,f.range,h.range},function(e,t,n){"use strict";var r=n(12),i=n.i(r.a)(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?n.i(r.a)(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null},t.a=i,i.range},function(e,t,n){"use strict";n(119)},function(e,t,n){"use strict";var r=n(119);t.a=function(e,t,n){var i=new r.b;return t=null==t?0:+t,i.restart(function(n){i.stop(),e(n+t)},t,n),i}},function(e,t,n){"use strict";n(24),n(17)},function(e,t,n){"use strict";var r=n(4),i=n(475),o=n(476);r.selection.prototype.interrupt=i.a,r.selection.prototype.transition=o.a},function(e,t,n){"use strict";var r=n(198);t.a=function(e){return this.each(function(){n.i(r.a)(this,e)})}},function(e,t,n){"use strict";function r(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))return u.time=n.i(s.c)(),u;return r}var i=n(24),o=n(17),a=n(373),s=n(196),u={time:null,delay:0,duration:250,ease:a.a};t.a=function(e){var t,a;e instanceof i.a?(t=e._id,e=e._name):(t=n.i(i.b)(),(a=u).time=n.i(s.c)(),e=null==e?null:e+"");for(var l=this._groups,c=l.length,f=0;f<c;++f)for(var h,d=l[f],p=d.length,v=0;v<p;++v)(h=d[v])&&n.i(o.h)(h,e,t,v,d,a||r(h,t));return new i.a(l,this._parents,e,t)}},function(e,t,n){"use strict";function r(e){return function(){this.removeAttribute(e)}}function i(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t,n){var r,i;return function(){var o=this.getAttribute(e);return o===n?null:o===r?i:i=t(r=o,n)}}function a(e,t,n){var r,i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===n?null:o===r?i:i=t(r=o,n)}}function s(e,t,n){var r,i,o;return function(){var a,s=n(this);return null==s?void this.removeAttribute(e):(a=this.getAttribute(e),a===s?null:a===r&&s===i?o:o=t(r=a,i=s))}}function u(e,t,n){var r,i,o;return function(){var a,s=n(this);return null==s?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),a===s?null:a===r&&s===i?o:o=t(r=a,i=s))}}var l=n(19),c=n(4),f=n(72),h=n(199);t.a=function(e,t){var d=n.i(c.namespace)(e),p="transform"===d?l.f:h.a;return this.attrTween(e,"function"==typeof t?(d.local?u:s)(d,p,n.i(f.b)(this,"attr."+e,t)):null==t?(d.local?i:r)(d):(d.local?a:o)(d,p,t+""))}},function(e,t,n){"use strict";function r(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttributeNS(e.space,e.local,r(t))}}return n._value=t,n}function i(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttribute(e,r(t))}}return n._value=t,n}var o=n(4);t.a=function(e,t){var a="attr."+e;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==t)return this.tween(a,null);if("function"!=typeof t)throw new Error;var s=n.i(o.namespace)(e);return this.tween(a,(s.local?r:i)(s,t))}},function(e,t,n){"use strict";function r(e,t){return function(){n.i(o.g)(this,e).delay=+t.apply(this,arguments)}}function i(e,t){return t=+t,function(){n.i(o.g)(this,e).delay=t}}var o=n(17);t.a=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?r:i)(t,e)):n.i(o.f)(this.node(),t).delay}},function(e,t,n){"use strict";function r(e,t){return function(){n.i(o.e)(this,e).duration=+t.apply(this,arguments)}}function i(e,t){return t=+t,function(){n.i(o.e)(this,e).duration=t}}var o=n(17);t.a=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?r:i)(t,e)):n.i(o.f)(this.node(),t).duration}},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t)throw new Error;return function(){n.i(i.e)(this,e).ease=t}}var i=n(17);t.a=function(e){var t=this._id;return arguments.length?this.each(r(t,e)):n.i(i.f)(this.node(),t).ease}},function(e,t,n){"use strict";var r=n(4),i=n(24);t.a=function(e){"function"!=typeof e&&(e=n.i(r.matcher)(e));for(var t=this._groups,o=t.length,a=new Array(o),s=0;s<o;++s)for(var u,l=t[s],c=l.length,f=a[s]=[],h=0;h<c;++h)(u=l[h])&&e.call(u,u.__data__,h,l)&&f.push(u);return new i.a(a,this._parents,this._name,this._id)}},function(e,t,n){"use strict";var r=n(24);t.a=function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=t[u],f=n[u],h=c.length,d=s[u]=new Array(h),p=0;p<h;++p)(l=c[p]||f[p])&&(d[p]=l);for(;u<i;++u)s[u]=t[u];return new r.a(s,this._parents,this._name,this._id)}},function(e,t,n){"use strict";function r(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}function i(e,t,n){var i,a,s=r(t)?o.g:o.e;return function(){var r=s(this,e),o=r.on;o!==i&&(a=(i=o).copy()).on(t,n),r.on=a}}var o=n(17);t.a=function(e,t){var r=this._id;return arguments.length<2?n.i(o.f)(this.node(),r).on.on(e):this.each(i(r,e,t))}},function(e,t,n){"use strict";function r(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}t.a=function(){return this.on("end.remove",r(this._id))}},function(e,t,n){"use strict";var r=n(4),i=n(24),o=n(17);t.a=function(e){var t=this._name,a=this._id;"function"!=typeof e&&(e=n.i(r.selector)(e));for(var s=this._groups,u=s.length,l=new Array(u),c=0;c<u;++c)for(var f,h,d=s[c],p=d.length,v=l[c]=new Array(p),g=0;g<p;++g)(f=d[g])&&(h=e.call(f,f.__data__,g,d))&&("__data__"in f&&(h.__data__=f.__data__),v[g]=h,n.i(o.h)(v[g],t,a,g,v,n.i(o.f)(f,a)));return new i.a(l,this._parents,t,a)}},function(e,t,n){"use strict";var r=n(4),i=n(24),o=n(17);t.a=function(e){var t=this._name,a=this._id;"function"!=typeof e&&(e=n.i(r.selectorAll)(e));for(var s=this._groups,u=s.length,l=[],c=[],f=0;f<u;++f)for(var h,d=s[f],p=d.length,v=0;v<p;++v)if(h=d[v]){for(var g,m=e.call(h,h.__data__,v,d),y=n.i(o.f)(h,a),b=0,w=m.length;b<w;++b)(g=m[b])&&n.i(o.h)(g,t,a,b,m,y);l.push(m),c.push(h)}return new i.a(l,c,t,a)}},function(e,t,n){"use strict";var r=n(4),i=r.selection.prototype.constructor;t.a=function(){return new i(this._groups,this._parents)}},function(e,t,n){"use strict";function r(e,t){var r,i,o;return function(){var a=n.i(u.style)(this,e),s=(this.style.removeProperty(e),n.i(u.style)(this,e));return a===s?null:a===r&&s===i?o:o=t(r=a,i=s)}}function i(e){return function(){this.style.removeProperty(e)}}function o(e,t,r){var i,o;return function(){var a=n.i(u.style)(this,e);return a===r?null:a===i?o:o=t(i=a,r)}}function a(e,t,r){var i,o,a;return function(){var s=n.i(u.style)(this,e),l=r(this);return null==l&&(this.style.removeProperty(e),l=n.i(u.style)(this,e)),s===l?null:s===i&&l===o?a:a=t(i=s,o=l)}}var s=n(19),u=n(4),l=n(72),c=n(199);t.a=function(e,t,u){var f="transform"==(e+="")?s.b:c.a;return null==t?this.styleTween(e,r(e,f)).on("end.style."+e,i(e)):this.styleTween(e,"function"==typeof t?a(e,f,n.i(l.b)(this,"style."+e,t)):o(e,f,t+""),u)}},function(e,t,n){"use strict";function r(e,t,n){function r(){var r=this,i=t.apply(r,arguments);return i&&function(t){r.style.setProperty(e,i(t),n)}}return r._value=t,r}t.a=function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,r(e,t,null==n?"":n))}},function(e,t,n){"use strict";function r(e){return function(){this.textContent=e}}function i(e){return function(){var t=e(this);this.textContent=null==t?"":t}}var o=n(72);t.a=function(e){return this.tween("text","function"==typeof e?i(n.i(o.b)(this,"text",e)):r(null==e?"":e+""))}},function(e,t,n){"use strict";var r=n(24),i=n(17);t.a=function(){for(var e=this._name,t=this._id,o=n.i(r.b)(),a=this._groups,s=a.length,u=0;u<s;++u)for(var l,c=a[u],f=c.length,h=0;h<f;++h)if(l=c[h]){var d=n.i(i.f)(l,t);n.i(i.h)(l,e,o,h,c,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new r.a(a,this._parents,e,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(497);n.d(t,"zoom",function(){return r.a});var i=n(200);n.d(t,"zoomTransform",function(){return i.a}),n.d(t,"zoomIdentity",function(){return i.b})},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(e,t,n){this.target=e,this.type=t,this.transform=n}t.a=r},function(e,t,n){"use strict";function r(){i.event.stopImmediatePropagation()}t.b=r;var i=n(4);t.a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},function(e,t,n){"use strict";function r(){return!h.event.button}function i(){var e,t,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,e=n.width.baseVal.value,t=n.height.baseVal.value):(e=n.clientWidth,t=n.clientHeight),[[0,0],[e,t]]}function o(){return this.__zoom||g.b}function a(){return-h.event.deltaY*(h.event.deltaMode?120:1)/500}function s(){return"ontouchstart"in this}function u(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var l=n(31),c=n(97),f=n(19),h=n(4),d=n(197),p=n(494),v=n(495),g=n(200),m=n(496);t.a=function(){function e(e){e.property("__zoom",o).on("wheel.zoom",k).on("mousedown.zoom",S).on("dblclick.zoom",O).filter(L).on("touchstart.zoom",T).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function t(e,t){return t=Math.max(D[0],Math.min(D[1],t)),t===e.k?e:new g.c(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new g.c(e.k,r,i)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n){e.on("start.zoom",function(){x(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).end()}).tween("zoom",function(){var e=this,r=arguments,i=x(e,r),o=j.apply(e,r),a=n||b(o),s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),u=e.__zoom,l="function"==typeof t?t.apply(e,r):t,c=F(u.invert(a).concat(s/u.k),l.invert(a).concat(s/l.k));return function(e){if(1===e)e=l;else{var t=c(e),n=s/t[2];e=new g.c(n,a[0]-t[0]*n,a[1]-t[1]*n)}i.zoom(null,e)}})}function x(e,t){for(var n,r=0,i=V.length;r<i;++r)if((n=V[r]).that===e)return n;return new _(e,t)}function _(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=j.apply(e,t)}function k(){function e(){r.wheel=null,r.end()}if(A.apply(this,arguments)){var r=x(this,arguments),i=this.__zoom,o=Math.max(D[0],Math.min(D[1],i.k*Math.pow(2,I.apply(this,arguments)))),a=n.i(h.mouse)(this);if(r.wheel)r.mouse[0][0]===a[0]&&r.mouse[0][1]===a[1]||(r.mouse[1]=i.invert(r.mouse[0]=a)),clearTimeout(r.wheel);else{if(i.k===o)return;r.mouse=[a,i.invert(a)],n.i(d.a)(this),r.start()}n.i(m.a)(),r.wheel=setTimeout(e,U),r.zoom("mouse",R(y(t(i,o),r.mouse[0],r.mouse[1]),r.extent,N))}}function S(){function e(){if(n.i(m.a)(),!r.moved){var e=h.event.clientX-a,t=h.event.clientY-s;r.moved=e*e+t*t>q}r.zoom("mouse",R(y(r.that.__zoom,r.mouse[0]=n.i(h.mouse)(r.that),r.mouse[1]),r.extent,N))}function t(){i.on("mousemove.zoom mouseup.zoom",null),n.i(c.dragEnable)(h.event.view,r.moved),n.i(m.a)(),r.end()}if(!M&&A.apply(this,arguments)){var r=x(this,arguments),i=n.i(h.select)(h.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",t,!0),o=n.i(h.mouse)(this),a=h.event.clientX,s=h.event.clientY;n.i(c.dragDisable)(h.event.view),n.i(m.b)(),r.mouse=[o,this.__zoom.invert(o)],n.i(d.a)(this),r.start()}}function O(){if(A.apply(this,arguments)){var r=this.__zoom,i=n.i(h.mouse)(this),o=r.invert(i),a=r.k*(h.event.shiftKey?.5:2),s=R(y(t(r,a),i,o),j.apply(this,arguments),N);n.i(m.a)(),B>0?n.i(h.select)(this).transition().duration(B).call(w,s,i):n.i(h.select)(this).call(e.transform,s)}}function T(){if(A.apply(this,arguments)){var e,t,r,i,o=x(this,arguments),a=h.event.changedTouches,s=a.length;for(n.i(m.b)(),t=0;t<s;++t)r=a[t],i=n.i(h.touch)(this,a,r.identifier),i=[i,this.__zoom.invert(i),r.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,e=!0);if(P&&(P=clearTimeout(P),!o.touch1))return o.end(),void((i=n.i(h.select)(this).on("dblclick.zoom"))&&i.apply(this,arguments));e&&(P=setTimeout(function(){P=null},H),n.i(d.a)(this),o.start())}}function C(){var e,r,i,o,a=x(this,arguments),s=h.event.changedTouches,u=s.length;for(n.i(m.a)(),P&&(P=clearTimeout(P)),e=0;e<u;++e)r=s[e],i=n.i(h.touch)(this,s,r.identifier),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var l=a.touch0[0],c=a.touch0[1],f=a.touch1[0],d=a.touch1[1],p=(p=f[0]-l[0])*p+(p=f[1]-l[1])*p,v=(v=d[0]-c[0])*v+(v=d[1]-c[1])*v;r=t(r,Math.sqrt(p/v)),i=[(l[0]+f[0])/2,(l[1]+f[1])/2],o=[(c[0]+d[0])/2,(c[1]+d[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],o=a.touch0[1]}a.zoom("touch",R(y(r,i,o),a.extent,N))}function E(){var e,t,r=x(this,arguments),i=h.event.changedTouches,o=i.length;for(n.i(m.b)(),M&&clearTimeout(M),M=setTimeout(function(){M=null},H),e=0;e<o;++e)t=i[e],r.touch0&&r.touch0[2]===t.identifier?delete r.touch0:r.touch1&&r.touch1[2]===t.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}var P,M,A=r,j=i,R=u,I=a,L=s,D=[0,1/0],N=[[-1/0,-1/0],[1/0,1/0]],B=250,F=f.g,V=[],z=n.i(l.a)("start","zoom","end"),H=500,U=150,q=0;return e.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",o),e!==n?w(e,t):n.interrupt().each(function(){x(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},e.scaleTo=function(n,r){e.transform(n,function(){var e=j.apply(this,arguments),n=this.__zoom,i=b(e),o=n.invert(i),a="function"==typeof r?r.apply(this,arguments):r;return R(y(t(n,a),i,o),e,N)})},e.translateBy=function(t,n,r){e.transform(t,function(){return R(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof r?r.apply(this,arguments):r),j.apply(this,arguments),N)})},e.translateTo=function(t,n,r){e.transform(t,function(){var e=j.apply(this,arguments),t=this.__zoom,i=b(e);return R(g.b.translate(i[0],i[1]).scale(t.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof r?-r.apply(this,arguments):-r),e,N)})},_.prototype={start:function(){return 1==++this.active&&(this.index=V.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(V.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){n.i(h.customEvent)(new v.a(e,t,this.that.__zoom),z.apply,z,[t,this.that,this.args])}},e.wheelDelta=function(t){return arguments.length?(I="function"==typeof t?t:n.i(p.a)(+t),e):I},e.filter=function(t){return arguments.length?(A="function"==typeof t?t:n.i(p.a)(!!t),e):A},e.touchable=function(t){return arguments.length?(L="function"==typeof t?t:n.i(p.a)(!!t),e):L},e.extent=function(t){return arguments.length?(j="function"==typeof t?t:n.i(p.a)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):j},e.scaleExtent=function(t){return arguments.length?(D[0]=+t[0],D[1]=+t[1],e):[D[0],D[1]]},e.translateExtent=function(t){return arguments.length?(N[0][0]=+t[0][0],N[1][0]=+t[1][0],N[0][1]=+t[0][1],N[1][1]=+t[1][1],e):[[N[0][0],N[0][1]],[N[1][0],N[1][1]]]},e.constrain=function(t){return arguments.length?(R=t,e):R},e.duration=function(t){return arguments.length?(B=+t,e):B},e.interpolate=function(t){return arguments.length?(F=t,e):F},e.on=function(){var t=z.on.apply(z,arguments);return t===z?e:t},e.clickDistance=function(t){return arguments.length?(q=(t=+t)*t,e):Math.sqrt(q)},e}},function(e,t,n){e.exports=n(499)},function(e,t,n){function r(e,t,n){n=n||{},9===t.nodeType&&(t=i.getWindow(t));var r=n.allowHorizontalScroll,o=n.onlyScrollIfNeeded,a=n.alignWithTop,s=n.alignWithLeft;r=void 0===r||r;var u,l,c,f,h,d,p,v,g,m,y=i.isWindow(t),b=i.offset(e),w=i.outerHeight(e),x=i.outerWidth(e);y?(p=t,m=i.height(p),g=i.width(p),v={left:i.scrollLeft(p),top:i.scrollTop(p)},h={left:b.left-v.left,top:b.top-v.top},d={left:b.left+x-(v.left+g),top:b.top+w-(v.top+m)},f=v):(u=i.offset(t),l=t.clientHeight,c=t.clientWidth,f={left:t.scrollLeft,top:t.scrollTop},h={left:b.left-(u.left+(parseFloat(i.css(t,"borderLeftWidth"))||0)),top:b.top-(u.top+(parseFloat(i.css(t,"borderTopWidth"))||0))},d={left:b.left+x-(u.left+c+(parseFloat(i.css(t,"borderRightWidth"))||0)),top:b.top+w-(u.top+l+(parseFloat(i.css(t,"borderBottomWidth"))||0))}),h.top<0||d.top>0?!0===a?i.scrollTop(t,f.top+h.top):!1===a?i.scrollTop(t,f.top+d.top):h.top<0?i.scrollTop(t,f.top+h.top):i.scrollTop(t,f.top+d.top):o||(a=void 0===a||!!a,a?i.scrollTop(t,f.top+h.top):i.scrollTop(t,f.top+d.top)),r&&(h.left<0||d.left>0?!0===s?i.scrollLeft(t,f.left+h.left):!1===s?i.scrollLeft(t,f.left+d.left):h.left<0?i.scrollLeft(t,f.left+h.left):i.scrollLeft(t,f.left+d.left):o||(s=void 0===s||!!s,s?i.scrollLeft(t,f.left+h.left):i.scrollLeft(t,f.left+d.left)))}var i=n(500);e.exports=r},function(e,t){function n(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),n=t.left,r=t.top,n-=a.clientLeft||o.clientLeft||0,r-=a.clientTop||o.clientTop||0,{left:n,top:r}}function r(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var i=e.document;"number"!=typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function i(e){return r(e)}function o(e){return r(e,!0)}function a(e){var t=n(e),r=e.ownerDocument,a=r.defaultView||r.parentWindow;return t.left+=i(a),t.top+=o(a),t}function s(e,t,n){var r="",i=e.ownerDocument;return(n=n||i.defaultView.getComputedStyle(e,null))&&(r=n.getPropertyValue(t)||n[t]),r}function u(e,t){var n=e[k]&&e[k][t];if(x.test(n)&&!_.test(t)){var r=e.style,i=r[O],o=e[S][O];e[S][O]=e[k][O],r[O]="fontSize"===t?"1em":n||0,n=r.pixelLeft+T,r[O]=i,e[S][O]=o}return""===n?"auto":n}function l(e,t){"static"===m(e,"position")&&(e.style.position="relative");var n,r,i=a(e),o={};for(r in t)n=parseFloat(m(e,r))||0,o[r]=n+t[r]-i[r];m(e,o)}function c(e,t){for(var n=0;n<e.length;n++)t(e[n])}function f(e){return"border-box"===b(e,"boxSizing")}function h(e,t,n){var r,i={},o=e.style;for(r in t)i[r]=o[r],o[r]=t[r];n.call(e);for(r in t)o[r]=i[r]}function d(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i])for(o=0;o<n.length;o++){var s;s="border"===r?r+n[o]+"Width":r+n[o],a+=parseFloat(b(e,s))||0}return a}function p(e){return null!=e&&e==e.window}function v(e,t,n){if(p(e))return"width"===t?A.viewportWidth(e):A.viewportHeight(e);if(9===e.nodeType)return"width"===t?A.docWidth(e):A.docHeight(e);var r="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.offsetWidth:e.offsetHeight,o=b(e),a=f(e,o),s=0;(null==i||i<=0)&&(i=void 0,s=b(e,t),(null==s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===n&&(n=a?M:E);var u=void 0!==i||a,l=i||s;return n===E?u?l-d(e,["border","padding"],r,o):s:u?l+(n===M?0:n===P?-d(e,["border"],r,o):d(e,["margin"],r,o)):s+d(e,C.slice(n),r,o)}function g(e){var t,n=arguments;return 0!==e.offsetWidth?t=v.apply(void 0,n):h(e,j,function(){t=v.apply(void 0,n)}),t}function m(e,t,n){if("object"!=typeof t){if(void 0===n)return b(e,t);"number"==typeof n&&(n+="px"),e.style[t]=n}else for(var r in t)m(e,r,t[r])}function y(e,t){for(var n in t)e[n]=t[n];return e}var b,w=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,x=new RegExp("^("+w+")(?!px)[a-z%]+$","i"),_=/^(top|right|bottom|left)$/,k="currentStyle",S="runtimeStyle",O="left",T="px";"undefined"!=typeof window&&(b=window.getComputedStyle?s:u);var C=["margin","border","padding"],E=-1,P=2,M=1,A={};c(["Width","Height"],function(e){A["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],A["viewport"+e](n))},A["viewport"+e]=function(t){var n="client"+e,r=t.document,i=r.body,o=r.documentElement,a=o[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}});var j={position:"absolute",visibility:"hidden",display:"block"};c(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);A["outer"+t]=function(t,n){return t&&g(t,e,n?0:M)};var n="width"===e?["Left","Right"]:["Top","Bottom"];A[e]=function(t,r){if(void 0===r)return t&&g(t,e,E);if(t){var i=b(t);return f(t)&&(r+=d(t,["padding","border"],n,i)),m(t,e,r)}}});var R=e.exports={getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return a(e);l(e,t)},isWindow:p,each:c,css:m,clone:function(e){var t={};for(var n in e)t[n]=e[n];if(e.overflow)for(n in e)t.overflow[n]=e.overflow[n];return t},mix:y,scrollLeft:function(e,t){if(p(e)){if(void 0===t)return i(e);window.scrollTo(t,o(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(p(e)){if(void 0===t)return o(e);window.scrollTo(i(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},merge:function(){for(var e={},t=0;t<arguments.length;t++)R.mix(e,arguments[t]);return e},viewportWidth:0,viewportHeight:0};y(R,A)},function(e,t,n){"use strict";function r(e,t,n){var i=0|e[n];if(i<=0)return[];var o,a=new Array(i);if(n===e.length-1)for(o=0;o<i;++o)a[o]=t;else for(o=0;o<i;++o)a[o]=r(e,t,n+1);return a}function i(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function o(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return i(0|e,t);break;case"object":if("number"==typeof e.length)return r(e,t,0)}return[]}e.exports=o},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports={"add-track-position-table":"AddTrackPositionMenu-module_add-track-position-table-RHODc","add-track-position-other":"AddTrackPositionMenu-module_add-track-position-other-lIGbb","add-track-position-top-center":"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e","add-track-position-middle-left":"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN","add-track-position-middle-right":"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn","add-track-position-middle-middle":"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd","add-track-position-bottom-middle":"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE","add-track-position-span":"AddTrackPositionMenu-module_add-track-position-span-2hbwE"}},function(e,t){e.exports={"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU",
"genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},function(e,t){e.exports={higlass:"HiGlass-module_higlass-1NHR2","higlass-canvas":"HiGlass-module_higlass-canvas-_mP9r","higlass-drawing-surface":"HiGlass-module_higlass-drawing-surface-3aQQo","higlass-svg":"HiGlass-module_higlass-svg-JJZbf","tiled-area":"HiGlass-module_tiled-area-22H1L"}},function(e,t){e.exports={"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"}},function(e,t){e.exports={"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb","track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},function(e,t){e.exports={"track-renderer":"TrackRenderer-module_track-renderer-3TM7n"}},function(e,t){e.exports={"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,u],f=0;l=new Error(t.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var i=function(e){};e.exports=r},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+f>=1?h/u:h*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+d]=255&a,d+=p,a/=256,l-=8);e[n+d-p]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(39),i=n(18),o=r(i,"DataView");e.exports=o},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(577),o=n(578),a=n(579),s=n(580),u=n(581);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){var r=n(39),i=n(18),o=r(i,"Promise");e.exports=o},function(e,t,n){var r=n(39),i=n(18),o=r(i,"Set");e.exports=o},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}var i=n(125),o=n(605),a=n(606);r.prototype.add=r.prototype.push=o,r.prototype.has=a,e.exports=r},function(e,t,n){var r=n(39),i=n(18),o=r(i,"WeakMap");e.exports=o},function(e,t){function n(e,t){return e.set(t[0],t[1]),e}e.exports=n},function(e,t){function n(e,t){return e.add(t),e}e.exports=n},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){function r(e,t){return e&&i(t,o(t),e)}var i=n(76),o=n(48);e.exports=r},function(e,t,n){function r(e,t){return e&&i(t,o(t),e)}var i=n(76),o=n(234);e.exports=r},function(e,t,n){function r(e,t,n,A,j,R){var I,L=t&k,D=t&S,N=t&O;if(n&&(I=j?n(e,A,j,R):n(e)),void 0!==I)return I;if(!x(e))return e;var B=b(e);if(B){if(I=g(e),!L)return c(e,I)}else{var F=v(e),V=F==C||F==E;if(w(e))return l(e,L);if(F==P||F==T||V&&!j){if(I=D||V?{}:y(e),!L)return D?h(e,u(I,e)):f(e,s(I,e))}else{if(!M[F])return j?e:{};I=m(e,F,r,L)}}R||(R=new i);var z=R.get(e);if(z)return z;R.set(e,I);var H=N?D?p:d:D?keysIn:_,U=B?void 0:H(e);return o(U||e,function(i,o){U&&(o=i,i=e[o]),a(I,o,r(i,t,n,o,e,R))}),I}var i=n(126),o=n(205),a=n(208),s=n(528),u=n(529),l=n(554),c=n(563),f=n(564),h=n(565),d=n(222),p=n(572),v=n(224),g=n(582),m=n(583),y=n(584),b=n(15),w=n(137),x=n(20),_=n(48),k=1,S=2,O=4,T="[object Arguments]",C="[object Function]",E="[object GeneratorFunction]",P="[object Object]",M={};M[T]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[P]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[C]=M["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){var r=n(20),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t){function n(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}e.exports=n},function(e,t,n){function r(e,t,n,a,s){var u=-1,l=e.length;for(n||(n=o),s||(s=[]);++u<l;){var c=e[u];t>0&&n(c)?t>1?r(c,t-1,n,a,s):i(s,c):a||(s[s.length]=c)}return s}var i=n(128),o=n(585);e.exports=r},function(e,t,n){var r=n(568),i=r();e.exports=i},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(38),o=n(40),a="[object Arguments]";e.exports=r},function(e,t,n){function r(e,t,n,r,g,y){var b=l(e),w=l(t),x=b?p:u(e),_=w?p:u(t);x=x==d?v:x,_=_==d?v:_;var k=x==v,S=_==v,O=x==_;if(O&&c(e)){if(!c(t))return!1;b=!0,k=!1}if(O&&!k)return y||(y=new i),b||f(e)?o(e,t,n,r,g,y):a(e,t,x,n,r,g,y);if(!(n&h)){var T=k&&m.call(e,"__wrapped__"),C=S&&m.call(t,"__wrapped__");if(T||C){var E=T?e.value():e,P=C?t.value():t;return y||(y=new i),g(E,P,n,r,y)}}return!!O&&(y||(y=new i),s(e,t,n,r,g,y))}var i=n(126),o=n(220),a=n(570),s=n(571),u=n(224),l=n(15),c=n(137),f=n(233),h=1,d="[object Arguments]",p="[object Array]",v="[object Object]",g=Object.prototype,m=g.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n,r){var u=n.length,l=u,c=!r;if(null==e)return!l;for(e=Object(e);u--;){var f=n[u];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++u<l;){f=n[u];var h=f[0],d=e[h],p=f[1];if(c&&f[2]){if(void 0===d&&!(h in e))return!1}else{var v=new i;if(r)var g=r(d,p,h,e,t,v);if(!(void 0===g?o(p,d,a|s,r,v):g))return!1}}return!0}var i=n(126),o=n(214),a=1,s=2;e.exports=r},function(e,t,n){function r(e){return!(!a(e)||o(e))&&(i(e)?p:l).test(s(e))}var i=n(232),o=n(588),a=n(20),s=n(230),u=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,h=c.toString,d=f.hasOwnProperty,p=RegExp("^"+h.call(d).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return a(e)&&o(e.length)&&!!s[i(e)]}var i=n(38),o=n(138),a=n(40),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){function r(e){if(!i(e))return o(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var i=n(134),o=n(600),a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){if(!i(e))return a(e);var t=o(e),n=[];for(var r in e)("constructor"!=r||!t&&u.call(e,r))&&n.push(r);return n}var i=n(20),o=n(134),a=n(601),s=Object.prototype,u=s.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}var i=n(538),o=n(573),a=n(227);e.exports=r},function(e,t,n){function r(e,t){return s(e)&&u(t)?l(c(e),t):function(n){var r=o(n,e);return void 0===r&&r===t?a(n,e):i(t,r,f|h)}}var i=n(214),o=n(621),a=n(622),s=n(133),u=n(225),l=n(227),c=n(79),f=1,h=2;e.exports=r},function(e,t,n){function r(e,t,n){var r=-1;t=i(t.length?t:[c],u(o));var f=a(e,function(e,n,o){return{criteria:i(t,function(t){return t(e)}),index:++r,value:e}});return s(f,function(e,t){return l(e,t,n)})}var i=n(127),o=n(75),a=n(215),s=n(550),u=n(216),l=n(562),c=n(59);e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function r(e){return function(t){return i(t,e)}}var i=n(212);e.exports=r},function(e,t,n){function r(e,t){return a(o(e,t,i),e+"")}var i=n(59),o=n(604),a=n(607);e.exports=r},function(e,t,n){var r=n(616),i=n(219),o=n(59),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){function n(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){function r(e){if("string"==typeof e)return e;if(a(e))return o(e,r)+"";if(s(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var i=n(46),o=n(127),a=n(15),s=n(60),u=1/0,l=i?i.prototype:void 0,c=l?l.toString:void 0;e.exports=r},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=l?l(n):new e.constructor(n);return e.copy(r),r}var i=n(18),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,u=s?i.Buffer:void 0,l=u?u.allocUnsafe:void 0;e.exports=r}).call(t,n(81)(e))},function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var i=n(129);e.exports=r},function(e,t,n){function r(e,t,n){var r=t?n(a(e),s):a(e);return o(r,i,new e.constructor)}var i=n(523),o=n(207),a=n(226),s=1;e.exports=r},function(e,t){function n(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}var r=/\w*$/;e.exports=n},function(e,t,n){function r(e,t,n){var r=t?n(a(e),s):a(e);return o(r,i,new e.constructor)}var i=n(524),o=n(207),a=n(229),s=1;e.exports=r},function(e,t,n){function r(e){return a?Object(a.call(e)):{}}var i=n(46),o=i?i.prototype:void 0,a=o?o.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var i=n(129);e.exports=r},function(e,t,n){function r(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e===e,a=i(e),s=void 0!==t,u=null===t,l=t===t,c=i(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!o)return 1;if(!r&&!a&&!c&&e<t||c&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!l)return-1}return 0}var i=n(60);e.exports=r},function(e,t,n){function r(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,s=o.length,u=n.length;++r<s;){var l=i(o[r],a[r]);if(l)return r>=u?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}var i=n(561);e.exports=r},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){function r(e,t){return i(e,o(e),t)}var i=n(76),o=n(131);e.exports=r},function(e,t,n){function r(e,t){return i(e,o(e),t)}var i=n(76),o=n(223);e.exports=r},function(e,t,n){var r=n(18),i=r["__core-js_shared__"];e.exports=i},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==r(s[a],a,s););return n}}var i=n(47);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}e.exports=n},function(e,t,n){function r(e){return function(t,n,r){var s=Object(t);if(!o(t)){var u=i(n,3);t=a(t),n=function(e){return u(s[e],e,s)}}var l=e(t,n,r);return l>-1?s[u?t[l]:l]:void 0}}var i=n(75),o=n(47),a=n(48);e.exports=r},function(e,t,n){function r(e,t,n,r,i,k,O){switch(n){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!k(new o(e),new o(t)));case h:case d:case g:return a(+e,+t);case p:return e.name==t.name&&e.message==t.message;case m:case b:return e==t+"";case v:var T=u;case y:var C=r&c;if(T||(T=l),e.size!=t.size&&!C)return!1;var E=O.get(e);if(E)return E==t;r|=f,O.set(e,t);var P=s(T(e),T(t),r,i,k,O);return O.delete(e),P;case w:if(S)return S.call(e)==S.call(t)}return!1}var i=n(46),o=n(204),a=n(80),s=n(220),u=n(226),l=n(229),c=1,f=2,h="[object Boolean]",d="[object Date]",p="[object Error]",v="[object Map]",g="[object Number]",m="[object RegExp]",y="[object Set]",b="[object String]",w="[object Symbol]",x="[object ArrayBuffer]",_="[object DataView]",k=i?i.prototype:void 0,S=k?k.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t,n,r,a,u){var l=n&o,c=i(e),f=c.length;if(f!=i(t).length&&!l)return!1;for(var h=f;h--;){var d=c[h];if(!(l?d in t:s.call(t,d)))return!1}var p=u.get(e);if(p&&u.get(t))return p==t;var v=!0;u.set(e,t),u.set(t,e);for(var g=l;++h<f;){d=c[h];var m=e[d],y=t[d];if(r)var b=l?r(y,m,d,t,e,u):r(m,y,d,e,t,u);if(!(void 0===b?m===y||a(m,y,n,r,u):b)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var w=e.constructor,x=t.constructor;w!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x)&&(v=!1)}return u.delete(e),u.delete(t),v}var i=n(222),o=1,a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){return i(e,a,o)}var i=n(213),o=n(223),a=n(234);e.exports=r},function(e,t,n){function r(e){for(var t=o(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,i(a)]}return t}var i=n(225),o=n(48);e.exports=r},function(e,t,n){function r(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var i=n(46),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function r(e,t,n){t=i(t,e);for(var r=-1,c=t.length,f=!1;++r<c;){var h=l(t[r]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++r!=c?f:!!(c=null==e?0:e.length)&&u(c)&&s(h,c)&&(a(e)||o(e))}var i=n(218),o=n(136),a=n(15),s=n(132),u=n(138),l=n(79);e.exports=r},function(e,t,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(78);e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(i){var n=t[e];return n===o?void 0:n}return s.call(t,e)?t[e]:void 0}var i=n(78),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return i?void 0!==t[e]:a.call(t,e)}var i=n(78),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?o:t,this}var i=n(78),o="__lodash_hash_undefined__";e.exports=r},function(e,t){function n(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,i=r.hasOwnProperty;e.exports=n},function(e,t,n){function r(e,t,n,r){var M=e.constructor;switch(t){case b:return i(e);case f:case h:return new M(+e);case w:return o(e,r);case x:case _:case k:case S:case O:case T:case C:case E:case P:return c(e,r);case d:return a(e,r,n);case p:case m:return new M(e);case v:return s(e);case g:return u(e,r,n);case y:return l(e)}}var i=n(129),o=n(555),a=n(556),s=n(557),u=n(558),l=n(559),c=n(560),f="[object Boolean]",h="[object Date]",d="[object Map]",p="[object Number]",v="[object RegExp]",g="[object Set]",m="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",x="[object Float32Array]",_="[object Float64Array]",k="[object Int8Array]",S="[object Int16Array]",O="[object Int32Array]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",E="[object Uint16Array]",P="[object Uint32Array]";e.exports=r},function(e,t,n){function r(e){return"function"!=typeof e.constructor||a(e)?{}:i(o(e))}var i=n(531),o=n(130),a=n(134);e.exports=r},function(e,t,n){function r(e){return a(e)||o(e)||!!(s&&e&&e[s])}var i=n(46),o=n(136),a=n(15),s=i?i.isConcatSpreadable:void 0;e.exports=r},function(e,t,n){function r(e,t,n){if(!s(n))return!1;var r=typeof t;return!!("number"==r?o(n)&&a(t,n.length):"string"==r&&t in n)&&i(n[t],e)}var i=n(80),o=n(47),a=n(132),s=n(20);e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return!!o&&o in e}var i=n(566),o=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))}var i=n(74),o=Array.prototype,a=o.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}var i=n(74);e.exports=r},function(e,t,n){function r(e){return i(this.__data__,e)>-1}var i=n(74);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var i=n(74);e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(518),o=n(73),a=n(124);e.exports=r},function(e,t,n){function r(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}var i=n(77);e.exports=r},function(e,t,n){function r(e){return i(this,e).get(e)}var i=n(77);e.exports=r},function(e,t,n){function r(e){return i(this,e).has(e)}var i=n(77);e.exports=r},function(e,t,n){function r(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var i=n(77);e.exports=r},function(e,t,n){function r(e){var t=i(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}var i=n(625),o=500;e.exports=r},function(e,t,n){var r=n(228),i=r(Object.keys,Object);e.exports=i},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){(function(e){var r=n(221),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a&&r.process,u=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=u}).call(t,n(81)(e))},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t,n){function r(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=o(r.length-t,0),u=Array(s);++a<s;)u[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(u),i(e,this,l)}}var i=n(525),o=Math.max;e.exports=r},function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){var r=n(549),i=n(608),o=i(r);e.exports=o},function(e,t){function n(e){var t=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;e.exports=n},function(e,t,n){function r(){this.__data__=new i,this.size=0}var i=n(73);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(e,t),this.size=n.size,this}var i=n(73),o=n(124),a=n(125),s=200;e.exports=r},function(e,t,n){var r=n(599),i=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=r(function(e){var t=[];return i.test(e)&&t.push(""),e.replace(o,function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)}),t});e.exports=s},function(e,t,n){function r(e){return i(e,o|a)}var i=n(530),o=1,a=4;e.exports=r},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){e.exports=n(620)},function(e,t,n){var r=n(569),i=n(619),o=r(i);e.exports=o},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var u=null==n?0:a(n);return u<0&&(u=s(r+u,0)),i(e,o(t,3),u)}var i=n(532),o=n(75),a=n(632),s=Math.max;e.exports=r},function(e,t,n){function r(e,t){return(s(e)?i:o)(e,a(t))}var i=n(205),o=n(210),a=n(217),s=n(15);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}var i=n(212);e.exports=r},function(e,t,n){function r(e,t){return null!=e&&o(e,t,i)}var i=n(535),o=n(576);e.exports=r},function(e,t,n){function r(e){if(!a(e)||i(e)!=s)return!1;var t=o(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==h}var i=n(38),o=n(130),a=n(40),s="[object Object]",u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,h=c.call(Object);e.exports=r},function(e,t,n){function r(e){return"string"==typeof e||!o(e)&&a(e)&&i(e)==s}var i=n(38),o=n(15),a=n(40),s="[object String]";e.exports=r},function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=n(125),o="Expected a function";r.Cache=i,e.exports=r},function(e,t,n){var r=n(18),i=function(){return r.Date.now()};e.exports=i},function(e,t,n){function r(e){return a(e)?i(s(e)):o(e)}var i=n(546),o=n(547),a=n(133),s=n(79);e.exports=r},function(e,t,n){var r=n(533),i=n(545),o=n(548),a=n(586),s=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])});e.exports=s},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e,t,n){var r=!0,s=!0;if("function"!=typeof e)throw new TypeError(a);return o(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),i(e,t,{leading:r,maxWait:t,trailing:s})}var i=n(231),o=n(20),a="Expected a function";e.exports=r},function(e,t,n){function r(e){return e?(e=i(e))===o||e===-o?(e<0?-1:1)*a:e===e?e:0:0===e?e:0}var i=n(236),o=1/0,a=1.7976931348623157e308;e.exports=r},function(e,t,n){function r(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}var i=n(631);e.exports=r},function(e,t,n){function r(e){return null==e?"":i(e)}var i=n(552);e.exports=r},function(e,t,n){"use strict";var r=n(513),i=n(514),o=n(635);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){return decodeURIComponent(e.replace(/\+/g," "))}function i(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,i={};t=n.exec(e);i[r(t[1])]=r(t[2]));return i}function o(e,t){t=t||"";var n=[];"string"!=typeof t&&(t="?");for(var r in e)a.call(e,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.length?t+n.join("&"):""}var a=Object.prototype.hasOwnProperty;t.stringify=o,t.parse=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=r(o),s=n(1),u=r(s),l=n(5),c=n(638),f=r(c),h=t.AlphaPicker=function(e){var t=e.rgb,n=e.hsl,r=e.width,o=e.height,s=e.onChange,c=e.direction,f=e.style,h=e.renderers,d=e.pointer,p=e.className,v=void 0===p?"":p,g=(0,u.default)({default:{picker:{position:"relative",width:r,height:o},alpha:{radius:"2px",style:f}}});return a.default.createElement("div",{style:g.picker,className:"alpha-picker "+v},a.default.createElement(l.Alpha,i({},g.alpha,{rgb:t,hsl:n,pointer:d,renderers:h,onChange:s,direction:c})))};h.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:f.default},t.default=(0,l.ColorWrap)(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=t.AlphaPointer=function(e){var t=e.direction,n=(0,s.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return o.default.createElement("div",{style:n.picker})};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),u=n(1),l=r(u),c=n(23),f=r(c),h=n(5),d=n(640),p=r(d),v=t.Block=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,a=e.width,s=e.triangle,u=e.className,c=void 0===u?"":u,d="transparent"===r,v=function(e,n){f.default.isValidHex(e)&&t({hex:e,source:"hex"},n)},g=(0,l.default)({default:{card:{width:a,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:d?"rgba(0,0,0,0.4)":"#fff",position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},{"hide-triangle":"hide"===s});return o.default.createElement("div",{style:g.card,className:"block-picker "+c},o.default.createElement("div",{style:g.triangle}),o.default.createElement("div",{style:g.head},d&&o.default.createElement(h.Checkboard,{borderRadius:"6px 6px 0 0"}),o.default.createElement("div",{style:g.label},r)),o.default.createElement("div",{style:g.body},o.default.createElement(p.default,{colors:i,onClick:v,onSwatchHover:n}),o.default.createElement(h.EditableInput,{style:{input:g.input},value:r,onChange:v})))};v.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.string),triangle:s.default.oneOf(["top","hide"])},v.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top"},t.default=(0,h.ColorWrap)(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(25),l=r(u),c=n(5),f=t.BlockSwatches=function(e){var t=e.colors,n=e.onClick,r=e.onSwatchHover,i=(0,s.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return o.default.createElement("div",{style:i.swatches},(0,l.default)(t,function(e){return o.default.createElement(c.Swatch,{key:e,color:e,style:i.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})}),o.default.createElement("div",{style:i.clear}))};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),u=n(1),l=r(u),c=n(5),f=n(642),h=r(f),d=n(643),p=r(d),v=n(644),g=r(v),m=t.Chrome=function(e){var t=e.onChange,n=e.disableAlpha,r=e.rgb,i=e.hsl,a=e.hsv,s=e.hex,u=e.renderers,f=e.className,d=void 0===f?"":f,v=(0,l.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},{disableAlpha:n});return o.default.createElement("div",{style:v.picker,className:"chrome-picker "+d},o.default.createElement("div",{style:v.saturation},o.default.createElement(c.Saturation,{style:v.Saturation,hsl:i,hsv:a,pointer:g.default,onChange:t})),o.default.createElement("div",{style:v.body},o.default.createElement("div",{style:v.controls,className:"flexbox-fix"
},o.default.createElement("div",{style:v.color},o.default.createElement("div",{style:v.swatch},o.default.createElement("div",{style:v.active}),o.default.createElement(c.Checkboard,{renderers:u}))),o.default.createElement("div",{style:v.toggles},o.default.createElement("div",{style:v.hue},o.default.createElement(c.Hue,{style:v.Hue,hsl:i,pointer:p.default,onChange:t})),o.default.createElement("div",{style:v.alpha},o.default.createElement(c.Alpha,{style:v.Alpha,rgb:r,hsl:i,pointer:p.default,renderers:u,onChange:t})))),o.default.createElement(h.default,{rgb:r,hsl:i,hex:s,onChange:t,disableAlpha:n})))};m.propTypes={disableAlpha:s.default.bool},m.defaultProps={disableAlpha:!1},t.default=(0,c.ColorWrap)(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),c=n(1),f=r(c),h=n(23),d=r(h),p=n(5),v=t.ChromeFields=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={view:""},r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?d.default.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&r.props.onChange({h:e.h||r.props.hsl.h,s:e.s&&e.s||r.props.hsl.s,l:e.l&&e.l||r.props.hsl.l,source:"hsl"},t)},r.showHighlight=function(e){e.target.style.background="#eee"},r.hideHighlight=function(e){e.target.style.background="transparent"},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var e=this,t=(0,f.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=l.default.createElement("div",{style:t.fields,className:"flexbox-fix"},l.default.createElement("div",{style:t.field},l.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=l.default.createElement("div",{style:t.fields,className:"flexbox-fix"},l.default.createElement("div",{style:t.field},l.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),l.default.createElement("div",{style:t.field},l.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),l.default.createElement("div",{style:t.field},l.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),l.default.createElement("div",{style:t.alpha},l.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=l.default.createElement("div",{style:t.fields,className:"flexbox-fix"},l.default.createElement("div",{style:t.field},l.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),l.default.createElement("div",{style:t.field},l.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),l.default.createElement("div",{style:t.field},l.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),l.default.createElement("div",{style:t.alpha},l.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),l.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,l.default.createElement("div",{style:t.toggle},l.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},l.default.createElement("svg",{style:t.svg,viewBox:"0 0 24 24",onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight},l.default.createElement("path",{ref:function(t){return e.iconUp=t},fill:"#333",d:"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}),l.default.createElement("path",{ref:function(t){return e.iconDown=t},fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"})))))}}]),t}(l.default.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=t.ChromePointer=function(){var e=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return o.default.createElement("div",{style:e.picker})};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=t.ChromePointerCircle=function(){var e=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return o.default.createElement("div",{style:e.picker})};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),u=n(1),l=r(u),c=n(25),f=r(c),h=n(237),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),p=n(5),v=n(646),g=r(v),m=t.Circle=function(e){var t=e.width,n=e.onChange,r=e.onSwatchHover,i=e.colors,a=e.hex,s=e.circleSize,u=e.circleSpacing,c=e.className,h=void 0===c?"":c,d=(0,l.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}}),p=function(e,t){return n({hex:e,source:"hex"},t)};return o.default.createElement("div",{style:d.card,className:"circle-picker "+h},(0,f.default)(i,function(e){return o.default.createElement(g.default,{key:e,color:e,onClick:p,onSwatchHover:r,active:a===e.toLowerCase(),circleSize:s,circleSpacing:u})}))};m.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),circleSize:s.default.number,circleSpacing:s.default.number},m.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[d.red[500],d.pink[500],d.purple[500],d.deepPurple[500],d.indigo[500],d.blue[500],d.lightBlue[500],d.cyan[500],d.teal[500],d.green[500],d.lightGreen[500],d.lime[500],d.yellow[500],d.amber[500],d.orange[500],d.deepOrange[500],d.brown[500],d.blueGrey[500]]},t.default=(0,p.ColorWrap)(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(5),l=t.CircleSwatch=function(e){var t=e.color,n=e.onClick,r=e.onSwatchHover,i=e.hover,a=e.active,l=e.circleSize,c=e.circleSpacing,f=(0,s.default)({default:{swatch:{width:l,height:l,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+l/2+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:i,active:a});return o.default.createElement("div",{style:f.swatch},o.default.createElement(u.Swatch,{style:f.Swatch,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:f.Swatch.boxShadow+", 0 0 5px "+t}}))};l.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,a.handleHover)(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),f=n(1),h=r(f),d=n(678),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),v=n(238),g=r(v),m=t.Alpha=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleChange=function(e,t){var n=p.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},a=n,o(r,a)}return a(t,e),u(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,h.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden"},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:s({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return c.default.createElement("div",{style:n.alpha},c.default.createElement("div",{style:n.checkboard},c.default.createElement(g.default,{renderers:this.props.renderers})),c.default.createElement("div",{style:n.gradient}),c.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},c.default.createElement("div",{style:n.pointer},this.props.pointer?c.default.createElement(this.props.pointer,this.props):c.default.createElement("div",{style:n.slider}))))}}]),t}(l.PureComponent||l.Component);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),f=n(1),h=r(f),d=t.EditableInput=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.props.label?n.props.onChange&&n.props.onChange(i({},n.props.label,e.target.value),e):n.props.onChange&&n.props.onChange(e.target.value,e),n.setState({value:e.target.value})},n.handleKeyDown=function(e){var t=String(e.target.value),r=t.indexOf("%")>-1,o=Number(t.replace(/%/g,""));if(!isNaN(o)){var a=n.props.arrowOffset||1;38===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(i({},n.props.label,o+a),e):n.props.onChange&&n.props.onChange(o+a,e),r?n.setState({value:o+a+"%"}):n.setState({value:o+a})),40===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(i({},n.props.label,o-a),e):n.props.onChange&&n.props.onChange(o-a,e),r?n.setState({value:o-a+"%"}):n.setState({value:o-a}))}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(i({},n.props.label,t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=(0,h.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return c.default.createElement("div",{style:t.wrap},c.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label?c.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(l.PureComponent||l.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),c=n(1),f=r(c),h=n(680),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),p=t.Hue=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleChange=function(e,t){var n=d.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,f.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%"},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return l.default.createElement("div",{style:r.hue},l.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),l.default.createElement("div",{style:r.pointer},this.props.pointer?l.default.createElement(this.props.pointer,this.props):l.default.createElement("div",{style:r.slider}))))}}]),t}(u.PureComponent||u.Component);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),u=n(1),l=r(u),c=t.Raised=function(e){var t=e.zDepth,n=e.radius,r=e.background,i=e.children,a=(0,l.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},{"zDepth-1":1===t});return o.default.createElement("div",{style:a.wrap},o.default.createElement("div",{style:a.bg}),o.default.createElement("div",{style:a.content},i))};c.propTypes={background:s.default.string,zDepth:s.default.oneOf([0,1,2,3,4,5]),radius:s.default.number},c.defaultProps={background:"#fff",zDepth:1,radius:2},t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),c=n(1),f=r(c),h=n(630),d=r(h),p=n(682),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),g=t.Saturation=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e,t){n.props.onChange&&n.throttle(n.props.onChange,v.calculateChange(e,t,n.props,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,d.default)(function(e,t,n){e(t,n)},50),n}return a(t,e),s(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,i=t.black,o=t.pointer,a=t.circle,s=(0,f.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:o,circle:a}},{custom:!!this.props.style});return l.default.createElement("div",{style:s.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),l.default.createElement("div",{style:s.white,className:"saturation-white"},l.default.createElement("div",{style:s.black,className:"saturation-black"}),l.default.createElement("div",{style:s.pointer},this.props.pointer?l.default.createElement(this.props.pointer,this.props):l.default.createElement("div",{style:s.circle}))))}}]),t}(u.PureComponent||u.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=r(o),s=n(1),u=r(s),l=n(681),c=n(5),f=t.Swatch=function(e){var t=e.color,n=e.style,r=e.onClick,o=void 0===r?function(){}:r,s=e.onHover,l=e.title,f=void 0===l?t:l,h=e.children,d=e.focus,p=e.focusStyle,v=void 0===p?{}:p,g="transparent"===t,m=(0,u.default)({default:{swatch:i({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,d?v:{})}}),y=function(e){return o(t,e)},b=function(e){return 13===e.keyCode&&o(t,e)},w=function(e){return s(t,e)},x={};return s&&(x.onMouseOver=w),a.default.createElement("div",i({style:m.swatch,onClick:y,title:f,tabIndex:0,onKeyDown:b},x),h,g&&a.default.createElement(c.Checkboard,{borderRadius:m.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,l.handleFocus)(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),u=n(1),l=r(u),c=n(25),f=r(c),h=n(23),d=r(h),p=n(5),v=n(654),g=r(v),m=n(655),y=r(m),b=t.Compact=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.colors,i=e.hex,a=e.rgb,s=e.className,u=void 0===s?"":s,c=(0,l.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}}),h=function(e,n){e.hex?d.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return o.default.createElement(p.Raised,{style:c.Compact},o.default.createElement("div",{style:c.compact,className:"compact-picker "+u},o.default.createElement("div",null,(0,f.default)(r,function(e){return o.default.createElement(g.default,{key:e,color:e,active:e.toLowerCase()===i,onClick:h,onSwatchHover:n})}),o.default.createElement("div",{style:c.clear})),o.default.createElement(y.default,{hex:i,rgb:a,onChange:h})))};b.propTypes={colors:s.default.arrayOf(s.default.string)},b.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]},t.default=(0,p.ColorWrap)(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(5),l=t.CompactColor=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,a=e.active,l=(0,s.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:"#fff",borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:a,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return o.default.createElement(u.Swatch,{style:l.color,color:t,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},o.default.createElement("div",{style:l.dot}))};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(5),l=t.CompactFields=function(e){var t=e.hex,n=e.rgb,r=e.onChange,i=(0,s.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),a=function(e,t){e.r||e.g||e.b?r({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):r({hex:e.hex,source:"hex"},t)};return o.default.createElement("div",{style:i.fields,className:"flexbox-fix"},o.default.createElement("div",{style:i.active}),o.default.createElement(u.EditableInput,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:t,onChange:a}),o.default.createElement(u.EditableInput,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:n.r,onChange:a}),o.default.createElement(u.EditableInput,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:n.g,onChange:a}),o.default.createElement(u.EditableInput,{
style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:n.b,onChange:a}))};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),u=n(1),l=r(u),c=n(25),f=r(c),h=n(5),d=n(657),p=r(d),v=t.Github=function(e){var t=e.width,n=e.colors,r=e.onChange,i=e.onSwatchHover,a=e.triangle,s=e.className,u=void 0===s?"":s,c=(0,l.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a,"bottom-right-triangle":"bottom-right"===a}),h=function(e,t){return r({hex:e,source:"hex"},t)};return o.default.createElement("div",{style:c.card,className:"github-picker "+u},o.default.createElement("div",{style:c.triangleShadow}),o.default.createElement("div",{style:c.triangle}),(0,f.default)(n,function(e){return o.default.createElement(p.default,{color:e,key:e,onClick:h,onSwatchHover:i})}))};v.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.string),triangle:s.default.oneOf(["hide","top-left","top-right"])},v.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left"},t.default=(0,h.ColorWrap)(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(5),l=t.GithubSwatch=function(e){var t=e.hover,n=e.color,r=e.onClick,i=e.onSwatchHover,a={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},l=(0,s.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:a}},{hover:t});return o.default.createElement("div",{style:l.swatch},o.default.createElement(u.Swatch,{color:n,onClick:r,onHover:i,focusStyle:a}))};t.default=(0,a.handleHover)(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=r(o),s=n(1),u=r(s),l=n(5),c=n(659),f=r(c),h=t.HuePicker=function(e){var t=e.width,n=e.height,r=e.onChange,o=e.hsl,s=e.direction,c=e.pointer,f=e.className,h=void 0===f?"":f,d=(0,u.default)({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}}),p=function(e){return r({a:1,h:e.h,l:.5,s:1})};return a.default.createElement("div",{style:d.picker,className:"hue-picker "+h},a.default.createElement(l.Hue,i({},d.hue,{hsl:o,pointer:c,onChange:p,direction:s})))};h.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:f.default},t.default=(0,l.ColorWrap)(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=t.SliderPointer=function(e){var t=e.direction,n=(0,s.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return o.default.createElement("div",{style:n.picker})};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(23),l=r(u),c=n(5),f=t.Material=function(e){var t=e.onChange,n=e.hex,r=e.rgb,i=e.className,a=void 0===i?"":i,u=(0,s.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}}),f=function(e,n){e.hex?l.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},n)};return o.default.createElement(c.Raised,null,o.default.createElement("div",{style:u.material,className:"material-picker "+a},o.default.createElement(c.EditableInput,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:n,onChange:f}),o.default.createElement("div",{style:u.split,className:"flexbox-fix"},o.default.createElement("div",{style:u.third},o.default.createElement(c.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:r.r,onChange:f})),o.default.createElement("div",{style:u.third},o.default.createElement(c.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:r.g,onChange:f})),o.default.createElement("div",{style:u.third},o.default.createElement(c.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:r.b,onChange:f})))))};t.default=(0,c.ColorWrap)(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),c=n(2),f=r(c),h=n(1),d=r(h),p=n(5),v=n(663),g=r(v),m=n(665),y=r(m),b=n(664),w=r(b),x=n(662),_=r(x),k=n(666),S=r(k),O=t.Photoshop=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.className,t=void 0===e?"":e,n=(0,d.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}});return l.default.createElement("div",{style:n.picker,className:"photoshop-picker "+t},l.default.createElement("div",{style:n.head},this.props.header),l.default.createElement("div",{style:n.body,className:"flexbox-fix"},l.default.createElement("div",{style:n.saturation},l.default.createElement(p.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:y.default,onChange:this.props.onChange})),l.default.createElement("div",{style:n.hue},l.default.createElement(p.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:w.default,onChange:this.props.onChange})),l.default.createElement("div",{style:n.controls},l.default.createElement("div",{style:n.top,className:"flexbox-fix"},l.default.createElement("div",{style:n.previews},l.default.createElement(S.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),l.default.createElement("div",{style:n.actions},l.default.createElement(_.default,{label:"OK",onClick:this.props.onAccept,active:!0}),l.default.createElement(_.default,{label:"Cancel",onClick:this.props.onCancel}),l.default.createElement(g.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(l.default.Component);O.propTypes={header:f.default.string},O.defaultProps={header:"Color Picker"},t.default=(0,p.ColorWrap)(O)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopBotton=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=t.PhotoshopBotton=function(e){var t=e.onClick,n=e.label,r=e.children,i=e.active,a=(0,s.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return o.default.createElement("div",{style:a.button,onClick:t},n||r)};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(23),l=r(u),c=n(5),f=t.PhotoshopPicker=function(e){var t=e.onChange,n=e.rgb,r=e.hsv,i=e.hex,a=(0,s.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),u=function(e,i){e["#"]?l.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},i):(e.h||e.s||e.v)&&t({h:e.h||r.h,s:e.s||r.s,v:e.v||r.v,source:"hsv"},i)};return o.default.createElement("div",{style:a.fields},o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"h",value:Math.round(r.h),onChange:u}),o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:u}),o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:u}),o.default.createElement("div",{style:a.divider}),o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:u}),o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:u}),o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:u}),o.default.createElement("div",{style:a.divider}),o.default.createElement(c.EditableInput,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"#",value:i.replace("#",""),onChange:u}),o.default.createElement("div",{style:a.fieldSymbols},o.default.createElement("div",{style:a.symbol},""),o.default.createElement("div",{style:a.symbol},"%"),o.default.createElement("div",{style:a.symbol},"%")))};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=t.PhotoshopPointerCircle=function(){var e=(0,s.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return o.default.createElement("div",{style:e.pointer},o.default.createElement("div",{style:e.left},o.default.createElement("div",{style:e.leftInside})),o.default.createElement("div",{style:e.right},o.default.createElement("div",{style:e.rightInside})))};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=t.PhotoshopPointerCircle=function(e){var t=e.hsl,n=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return o.default.createElement("div",{style:n.picker})};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=t.PhotoshopPreviews=function(e){var t=e.rgb,n=e.currentColor,r=(0,s.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return o.default.createElement("div",null,o.default.createElement("div",{style:r.label},"new"),o.default.createElement("div",{style:r.swatches},o.default.createElement("div",{style:r.new}),o.default.createElement("div",{style:r.current})),o.default.createElement("div",{style:r.label},"current"))};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),u=n(1),l=r(u),c=n(5),f=n(668),h=r(f),d=n(669),p=r(d),v=t.Sketch=function(e){var t=e.width,n=e.rgb,r=e.hex,i=e.hsv,a=e.hsl,s=e.onChange,u=e.onSwatchHover,f=e.disableAlpha,d=e.presetColors,v=e.renderers,g=e.className,m=void 0===g?"":g,y=(0,l.default)({default:{picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},{disableAlpha:f});return o.default.createElement("div",{style:y.picker,className:"sketch-picker "+m},o.default.createElement("div",{style:y.saturation},o.default.createElement(c.Saturation,{style:y.Saturation,hsl:a,hsv:i,onChange:s})),o.default.createElement("div",{style:y.controls,className:"flexbox-fix"},o.default.createElement("div",{style:y.sliders},o.default.createElement("div",{style:y.hue},o.default.createElement(c.Hue,{style:y.Hue,hsl:a,onChange:s})),o.default.createElement("div",{style:y.alpha},o.default.createElement(c.Alpha,{style:y.Alpha,rgb:n,hsl:a,renderers:v,onChange:s}))),o.default.createElement("div",{style:y.color},o.default.createElement(c.Checkboard,null),o.default.createElement("div",{style:y.activeColor}))),o.default.createElement(h.default,{rgb:n,hsl:a,hex:r,onChange:s,disableAlpha:f}),o.default.createElement(p.default,{colors:d,onClick:s,onSwatchHover:u}))};v.propTypes={disableAlpha:s.default.bool,width:s.default.oneOfType([s.default.string,s.default.number])},v.defaultProps={disableAlpha:!1,width:200,presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,c.ColorWrap)(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(23),l=r(u),c=n(5),f=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,i=e.hex,a=e.disableAlpha,u=(0,s.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:a}),f=function(e,i){e.hex?l.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},i):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:"rgb"},i))};return o.default.createElement("div",{style:u.fields,className:"flexbox-fix"},o.default.createElement("div",{style:u.double},o.default.createElement(c.EditableInput,{style:{input:u.input,label:u.label},label:"hex",value:i.replace("#",""),onChange:f})),o.default.createElement("div",{style:u.single},o.default.createElement(c.EditableInput,{style:{input:u.input,label:u.label},label:"r",value:n.r,onChange:f,dragLabel:"true",dragMax:"255"})),o.default.createElement("div",{style:u.single},o.default.createElement(c.EditableInput,{style:{input:u.input,label:u.label},label:"g",value:n.g,onChange:f,dragLabel:"true",dragMax:"255"})),o.default.createElement("div",{style:u.single},o.default.createElement(c.EditableInput,{style:{input:u.input,label:u.label},label:"b",value:n.b,onChange:f,dragLabel:"true",dragMax:"255"})),o.default.createElement("div",{style:u.alpha},o.default.createElement(c.EditableInput,{style:{input:u.input,label:u.label},label:"a",value:Math.round(100*n.a),onChange:f,dragLabel:"true",dragMax:"100"})))};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=r(o),s=n(2),u=r(s),l=n(1),c=r(l),f=n(5),h=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,s=(0,c.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),u=function(e,t){r({hex:e,source:"hex"},t)};return a.default.createElement("div",{style:s.colors,className:"flexbox-fix"},t.map(function(e){var t="string"==typeof e?{color:e}:e;return a.default.createElement("div",{key:t.color,style:s.swatchWrap},a.default.createElement(f.Swatch,i({},t,{style:s.swatch,onClick:u,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))}))};h.propTypes={colors:u.default.arrayOf(u.default.oneOfType([u.default.string,u.default.shape({color:u.default.string,title:u.default.string})])).isRequired},t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(5),l=n(673),c=r(l),f=n(671),h=r(f),d=t.Slider=function(e){var t=e.hsl,n=e.onChange,r=e.pointer,i=e.className,a=void 0===i?"":i,l=(0,s.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}});return o.default.createElement("div",{className:"slider-picker "+a},o.default.createElement("div",{style:l.hue},o.default.createElement(u.Hue,{style:l.Hue,hsl:t,pointer:r,onChange:n})),o.default.createElement("div",{style:l.swatches},o.default.createElement(c.default,{hsl:t,onClick:n})))};d.defaultProps={pointer:h.default},t.default=(0,u.ColorWrap)(d)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=t.SliderPointer=function(){var e=(0,s.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return o.default.createElement("div",{style:e.picker})};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=t.SliderSwatch=function(e){var t=e.hsl,n=e.offset,r=e.onClick,i=void 0===r?function(){}:r,a=e.active,u=e.first,l=e.last,c=(0,s.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:a,first:u,last:l}),f=function(e){return i({h:t.h,s:.5,l:n,source:"hsl"},e)};return o.default.createElement("div",{style:c.swatch,onClick:f})};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(672),l=r(u),c=t.SliderSwatches=function(e){var t=e.onClick,n=e.hsl,r=(0,s.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return o.default.createElement("div",{style:r.swatches},o.default.createElement("div",{style:r.swatch},o.default.createElement(l.default,{hsl:n,offset:".80",active:Math.round(100*n.l)/100==.8&&Math.round(100*n.s)/100==.5,onClick:t,first:!0})),o.default.createElement("div",{style:r.swatch},o.default.createElement(l.default,{hsl:n,offset:".65",active:Math.round(100*n.l)/100==.65&&Math.round(100*n.s)/100==.5,onClick:t})),o.default.createElement("div",{style:r.swatch},o.default.createElement(l.default,{hsl:n,offset:".50",active:Math.round(100*n.l)/100==.5&&Math.round(100*n.s)/100==.5,onClick:t})),o.default.createElement("div",{style:r.swatch},o.default.createElement(l.default,{hsl:n,offset:".35",active:Math.round(100*n.l)/100==.35&&Math.round(100*n.s)/100==.5,onClick:t})),o.default.createElement("div",{style:r.swatch},o.default.createElement(l.default,{hsl:n,offset:".20",active:Math.round(100*n.l)/100==.2&&Math.round(100*n.s)/100==.5,onClick:t,last:!0})),o.default.createElement("div",{style:r.clear}))};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),u=n(1),l=r(u),c=n(25),f=r(c),h=n(23),d=r(h),p=n(237),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),g=n(5),m=n(676),y=r(m),b=t.Swatches=function(e){var t=e.width,n=e.height,r=e.onChange,i=e.onSwatchHover,a=e.colors,s=e.hex,u=e.className,c=void 0===u?"":u,h=(0,l.default)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}}),p=function(e,t){d.default.isValidHex(e)&&r({hex:e,source:"hex"},t)};return o.default.createElement("div",{style:h.picker,className:"swatches-picker "+c},o.default.createElement(g.Raised,null,o.default.createElement("div",{style:h.overflow},o.default.createElement("div",{style:h.body},(0,f.default)(a,function(e){return o.default.createElement(y.default,{key:e.toString(),group:e,active:s,onClick:p,onSwatchHover:i})}),o.default.createElement("div",{style:h.clear})))))};b.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.arrayOf(s.default.string))},b.defaultProps={width:320,height:240,colors:[[v.red[900],v.red[700],v.red[500],v.red[300],v.red[100]],[v.pink[900],v.pink[700],v.pink[500],v.pink[300],v.pink[100]],[v.purple[900],v.purple[700],v.purple[500],v.purple[300],v.purple[100]],[v.deepPurple[900],v.deepPurple[700],v.deepPurple[500],v.deepPurple[300],v.deepPurple[100]],[v.indigo[900],v.indigo[700],v.indigo[500],v.indigo[300],v.indigo[100]],[v.blue[900],v.blue[700],v.blue[500],v.blue[300],v.blue[100]],[v.lightBlue[900],v.lightBlue[700],v.lightBlue[500],v.lightBlue[300],v.lightBlue[100]],[v.cyan[900],v.cyan[700],v.cyan[500],v.cyan[300],v.cyan[100]],[v.teal[900],v.teal[700],v.teal[500],v.teal[300],v.teal[100]],["#194D33",v.green[700],v.green[500],v.green[300],v.green[100]],[v.lightGreen[900],v.lightGreen[700],v.lightGreen[500],v.lightGreen[300],v.lightGreen[100]],[v.lime[900],v.lime[700],v.lime[500],v.lime[300],v.lime[100]],[v.yellow[900],v.yellow[700],v.yellow[500],v.yellow[300],v.yellow[100]],[v.amber[900],v.amber[700],v.amber[500],v.amber[300],v.amber[100]],[v.orange[900],v.orange[700],v.orange[500],v.orange[300],v.orange[100]],[v.deepOrange[900],v.deepOrange[700],v.deepOrange[500],v.deepOrange[300],v.deepOrange[100]],[v.brown[900],v.brown[700],v.brown[500],v.brown[300],v.brown[100]],[v.blueGrey[900],v.blueGrey[700],v.blueGrey[500],v.blueGrey[300],v.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]]},t.default=(0,g.ColorWrap)(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(5),l=t.SwatchesColor=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,a=e.first,l=e.last,c=e.active,f=(0,s.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{fill:"#fff",marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{fill:"#333"}},transparent:{check:{fill:"#333"}}},{first:a,last:l,active:c,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return o.default.createElement(u.Swatch,{color:t,style:f.color,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},o.default.createElement("div",{style:f.check},o.default.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},o.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(25),l=r(u),c=n(675),f=r(c),h=t.SwatchesGroup=function(e){var t=e.onClick,n=e.onSwatchHover,r=e.group,i=e.active,a=(0,s.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return o.default.createElement("div",{style:a.group},(0,l.default)(r,function(e,a){return o.default.createElement(f.default,{key:e,color:e,active:e.toLowerCase()===i,first:0===a,last:a===r.length-1,onClick:t,onSwatchHover:n})}))};t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),u=n(1),l=r(u),c=n(25),f=r(c),h=n(23),d=r(h),p=n(5),v=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,a=e.width,s=e.triangle,u=e.className,c=void 0===u?"":u,h=(0,l.default)({default:{card:{width:a,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{
clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},{"hide-triangle":"hide"===s,"top-left-triangle":"top-left"===s,"top-right-triangle":"top-right"===s}),v=function(e,n){d.default.isValidHex(e)&&t({hex:e,source:"hex"},n)};return o.default.createElement("div",{style:h.card,className:"twitter-picker "+c},o.default.createElement("div",{style:h.triangleShadow}),o.default.createElement("div",{style:h.triangle}),o.default.createElement("div",{style:h.body},(0,f.default)(i,function(e,t){return o.default.createElement(p.Swatch,{key:t,color:e,hex:e,style:h.swatch,onClick:v,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})}),o.default.createElement("div",{style:h.hash},"#"),o.default.createElement(p.EditableInput,{style:{input:h.input},value:r.replace("#",""),onChange:v}),o.default.createElement("div",{style:h.clear})))};v.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),triangle:s.default.oneOf(["hide","top-left","top-right"]),colors:s.default.arrayOf(s.default.string)},v.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left"},t.default=(0,p.ColorWrap)(v)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.clientWidth,o=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),l=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(c=l<0?0:l>o?1:Math.round(100*l/o)/100,n.hsl.a!==c)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:c,source:"rgb"}}else{var f=void 0;if(f=u<0?0:u>i?1:Math.round(100*u/i)/100,n.a!==f)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:f,source:"rgb"}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},i=t.render=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var o=i.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null};t.get=function(e,t,n,o){var a=e+"-"+t+"-"+n+(o?"-server":""),s=i(e,t,n,o);return r[a]?r[a]:(r[a]=s,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.clientWidth,o=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),l=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(l<0)c=359;else if(l>o)c=0;else{var f=-100*l/o+100;c=360*f/100}if(n.hsl.h!==c)return{h:c,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}else{var h=void 0;if(u<0)h=0;else if(u>i)h=359;else{var d=100*u/i;h=360*d/100}if(n.hsl.h!==h)return{h:h,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}return null}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s);t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function s(){var n,o,l,c;r(this,s);for(var f=arguments.length,h=Array(f),d=0;d<f;d++)h[d]=arguments[d];return o=l=i(this,(n=s.__proto__||Object.getPrototypeOf(s)).call.apply(n,[this].concat(h))),l.state={focus:!1},l.handleFocus=function(){return l.setState({focus:!0})},l.handleBlur=function(){return l.setState({focus:!1})},l.render=function(){return u.default.createElement(t,{onFocus:l.handleFocus,onBlur:l.handleBlur},u.default.createElement(e,a({},l.props,l.state)))},c=o,i(l,c)}return o(s,n),s}(u.default.Component)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.getBoundingClientRect(),o=i.width,a=i.height,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=s-(r.getBoundingClientRect().left+window.pageXOffset),c=u-(r.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>o?l=o:c<0?c=0:c>a&&(c=a);var f=100*l/o,h=-100*c/a+100;return{h:n.hsl.h,s:f,v:h,a:n.hsl.a,source:"rgb"}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),l=r(u),c=n(2),f=r(c),h=n(241),d=n(689),p=n(61),v=n(154),g=r(v),m=function(e){function t(){var n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=o(this,e.call.apply(e,[this].concat(u))),r.state={resizing:null,dragging:null,className:""},a=n,o(r,a)}return a(t,e),t.prototype.calcColWidth=function(){var e=this.props,t=e.margin,n=e.containerPadding,r=e.containerWidth,i=e.cols;return(r-t[0]*(i-1)-2*n[0])/i},t.prototype.calcPosition=function(e,t,n,r,i){var o=this.props,a=o.margin,s=o.containerPadding,u=o.rowHeight,l=this.calcColWidth(),c={left:Math.round((l+a[0])*e+s[0]),top:Math.round((u+a[1])*t+s[1]),width:n===1/0?n:Math.round(l*n+Math.max(0,n-1)*a[0]),height:r===1/0?r:Math.round(u*r+Math.max(0,r-1)*a[1])};return i&&i.resizing&&(c.width=Math.round(i.resizing.width),c.height=Math.round(i.resizing.height)),i&&i.dragging&&(c.top=Math.round(i.dragging.top),c.left=Math.round(i.dragging.left)),c},t.prototype.calcXY=function(e,t){var n=this.props,r=n.margin,i=n.cols,o=n.rowHeight,a=n.w,s=n.h,u=n.maxRows,l=this.calcColWidth(),c=Math.round((t-r[0])/(l+r[0])),f=Math.round((e-r[1])/(o+r[1]));return c=Math.max(Math.min(c,i-a),0),f=Math.max(Math.min(f,u-s),0),{x:c,y:f}},t.prototype.calcWH=function(e){var t=e.height,n=e.width,r=this.props,i=r.margin,o=r.maxRows,a=r.cols,s=r.rowHeight,u=r.x,l=r.y,c=this.calcColWidth(),f=Math.round((n+i[0])/(c+i[0])),h=Math.round((t+i[1])/(s+i[1]));return f=Math.max(Math.min(f,a-u),0),h=Math.max(Math.min(h,o-l),0),{w:f,h:h}},t.prototype.createStyle=function(e){var t=this.props,n=t.usePercentages,r=t.containerWidth,i=t.useCSSTransforms,o=void 0;return i?o=(0,p.setTransform)(e):(o=(0,p.setTopLeft)(e),n&&(o.left=(0,p.perc)(e.left/r),o.width=(0,p.perc)(e.width/r))),o},t.prototype.mixinDraggable=function(e){return l.default.createElement(h.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},e)},t.prototype.mixinResizable=function(e,t){var n=this.props,r=n.cols,i=n.x,o=n.minW,a=n.minH,s=n.maxW,u=n.maxH,c=this.calcPosition(0,0,r-i,0).width,f=this.calcPosition(0,0,o,a),h=this.calcPosition(0,0,s,u),p=[f.width,f.height],v=[Math.min(h.width,c),Math.min(h.height,1/0)];return l.default.createElement(d.Resizable,{width:t.width,height:t.height,minConstraints:p,maxConstraints:v,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},e)},t.prototype.onDragHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.deltaX,a=r.deltaY,s=t.props[e];if(s){var u={top:0,left:0};switch(e){case"onDragStart":var l=i.offsetParent;if(!l)return;var c=l.getBoundingClientRect(),f=i.getBoundingClientRect();u.left=f.left-c.left+l.scrollLeft,u.top=f.top-c.top+l.scrollTop,t.setState({dragging:u});break;case"onDrag":if(!t.state.dragging)throw new Error("onDrag called before onDragStart.");u.left=t.state.dragging.left+o,u.top=t.state.dragging.top+a,t.setState({dragging:u});break;case"onDragStop":if(!t.state.dragging)throw new Error("onDragEnd called before onDragStart.");u.left=t.state.dragging.left,u.top=t.state.dragging.top,t.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+e)}var h=t.calcXY(u.top,u.left),d=h.x,p=h.y;s.call(t,t.props.i,d,p,{e:n,node:i,newPosition:u})}}},t.prototype.onResizeHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.size,a=t.props[e];if(a){var s=t.props,u=s.cols,l=s.x,c=s.i,f=s.maxW,h=s.minW,d=s.maxH,p=s.minH,v=t.calcWH(o),g=v.w,m=v.h;g=Math.min(g,u-l),g=Math.max(g,1),g=Math.max(Math.min(g,f),h),m=Math.max(Math.min(m,d),p),t.setState({resizing:"onResizeStop"===e?null:o}),a.call(t,c,g,m,{e:n,node:i,size:o})}}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,r=e.w,i=e.h,o=e.isDraggable,a=e.isResizable,u=e.useCSSTransforms,c=this.calcPosition(t,n,r,i,this.state),f=l.default.Children.only(this.props.children),h=l.default.cloneElement(f,{className:(0,g.default)("react-grid-item",f.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":o,"react-draggable-dragging":Boolean(this.state.dragging),cssTransforms:u}),style:s({},this.props.style,f.props.style,this.createStyle(c))});return a&&(h=this.mixinResizable(h,c)),o&&(h=this.mixinDraggable(h)),h},t}(l.default.Component);m.propTypes={children:f.default.element,cols:f.default.number.isRequired,containerWidth:f.default.number.isRequired,rowHeight:f.default.number.isRequired,margin:f.default.array.isRequired,maxRows:f.default.number.isRequired,containerPadding:f.default.array.isRequired,x:f.default.number.isRequired,y:f.default.number.isRequired,w:f.default.number.isRequired,h:f.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:f.default.string.isRequired,onDragStop:f.default.func,onDragStart:f.default.func,onDrag:f.default.func,onResizeStop:f.default.func,onResizeStart:f.default.func,onResize:f.default.func,isDraggable:f.default.bool.isRequired,isResizable:f.default.bool.isRequired,static:f.default.bool,useCSSTransforms:f.default.bool.isRequired,className:f.default.string,handle:f.default.string,cancel:f.default.string},m.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0},t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(0),c=r(l),f=n(2),h=r(f),d=n(123),p=r(d),v=n(61),g=n(243),m=n(242),y=r(m),b=function(e){return Object.prototype.toString.call(e)},w=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=a(this,e.call.apply(e,[this].concat(l))),r.state=r.generateInitialState(),r.onLayoutChange=function(e){var t;r.props.onLayoutChange(e,u({},r.props.layouts,(t={},t[r.state.breakpoint]=e,t)))},i=n,a(r,i)}return s(t,e),t.prototype.generateInitialState=function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,i=e.cols,o=(0,g.getBreakpointFromWidth)(n,t),a=(0,g.getColsFromBreakpoint)(o,i),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,g.findOrGenerateResponsiveLayout)(r,n,o,o,a,s),breakpoint:o,cols:a}},t.prototype.componentWillReceiveProps=function(e){if(e.width==this.props.width&&e.breakpoint===this.props.breakpoint&&(0,p.default)(e.breakpoints,this.props.breakpoints)&&(0,p.default)(e.cols,this.props.cols)){if(!(0,p.default)(e.layouts,this.props.layouts)){var t=this.state,n=t.breakpoint,r=t.cols,i=(0,g.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType);this.setState({layout:i})}}else this.onWidthChange(e)},t.prototype.onWidthChange=function(e){var t=e.breakpoints,n=e.cols,r=e.layouts,i=e.compactType,o=e.breakpoint||(0,g.getBreakpointFromWidth)(e.breakpoints,e.width),a=this.state.breakpoint;if(a!==o||this.props.breakpoints!==t||this.props.cols!==n){a in r||(r[a]=(0,v.cloneLayout)(this.state.layout));var s=(0,g.getColsFromBreakpoint)(o,n),u=(0,g.findOrGenerateResponsiveLayout)(r,t,o,a,s,i);u=(0,v.synchronizeLayoutWithChildren)(u,e.children,s,i),r[o]=u,this.props.onLayoutChange(u,r),this.props.onBreakpointChange(o,s),this.props.onWidthChange(e.width,e.margin,s,e.containerPadding),this.setState({breakpoint:o,layout:u,cols:s})}},t.prototype.render=function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,i(e,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]));return c.default.createElement(y.default,u({},t,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))},t}(c.default.Component);w.propTypes={breakpoint:h.default.string,breakpoints:h.default.object,cols:h.default.object,layouts:function(e,t){if("[object Object]"!==b(e[t]))throw new Error("Layout property must be an object. Received: "+b(e[t]));Object.keys(e[t]).forEach(function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,v.validateLayout)(e.layouts[t],"layouts."+t)})},width:h.default.number.isRequired,onBreakpointChange:h.default.func,onLayoutChange:h.default.func,onWidthChange:h.default.func},w.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:v.noop,onLayoutChange:v.noop,onWidthChange:v.noop},t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),l=r(u),c=n(2),f=r(c),h=n(11),d=r(h),p=function(e){var t,n;return n=t=function(t){function n(){var e,r,a;i(this,n);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return e=r=o(this,t.call.apply(t,[this].concat(u))),r.state={width:1280},r.mounted=!1,r.onWindowResize=function(){if(r.mounted){var e=d.default.findDOMNode(r);e instanceof HTMLElement&&r.setState({width:e.offsetWidth})}},a=e,o(r,a)}return a(n,t),n.prototype.componentDidMount=function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},n.prototype.componentWillUnmount=function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)},n.prototype.render=function(){return this.props.measureBeforeMount&&!this.mounted?l.default.createElement("div",{className:this.props.className,style:this.props.style}):l.default.createElement(e,s({},this.props,this.state))},n}(l.default.Component),t.defaultProps={measureBeforeMount:!1},t.propTypes={measureBeforeMount:f.default.bool},n};t.default=p},function(e,t,n){e.exports=n(242).default,e.exports.utils=n(61),e.exports.Responsive=n(684).default,e.exports.Responsive.utils=n(243),e.exports.WidthProvider=n(685).default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(0),c=r(l),f=n(2),h=r(f),d=n(244),p=r(d),v=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=a(this,e.call.apply(e,[this].concat(u))),r.state={width:r.props.width,height:r.props.height},r.onResize=function(e,t){var n=t.size;n.width,n.height,r.props.onResize?(e.persist&&e.persist(),r.setState(n,function(){return r.props.onResize&&r.props.onResize(e,t)})):r.setState(n)},i=n,a(r,i)}return s(t,e),t.prototype.componentWillReceiveProps=function(e){e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.render=function(){var e=this.props,t=e.handleSize,n=(e.onResize,e.onResizeStart),r=e.onResizeStop,o=e.draggableOpts,a=e.minConstraints,s=e.maxConstraints,l=e.lockAspectRatio,f=e.axis,h=(e.width,e.height,i(e,["handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height"]));return c.default.createElement(p.default,{handleSize:t,width:this.state.width,height:this.state.height,onResizeStart:n,onResize:this.onResize,onResizeStop:r,draggableOpts:o,minConstraints:a,maxConstraints:s,lockAspectRatio:l,axis:f},c.default.createElement("div",u({style:{width:this.state.width+"px",height:this.state.height+"px"}},h)))},t}(c.default.Component);v.propTypes={height:h.default.number,width:h.default.number},v.defaultProps={handleSize:[20,20]},t.default=v},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=function(e,t){return t.style&&e.props.style&&(t.style=r({},e.props.style,t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),o.default.cloneElement(e,t)}},function(e,t,n){"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(244).default,e.exports.ResizableBox=n(687).default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(618),s=r(a),u=n(628),l=r(u),c=function(){function e(){i(this,e),this.refs={}}return o(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"getActive",value:function(){var e=this;return(0,s.default)(this.refs[this.active.collection],function(t){return t.node.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.active.collection:arguments[0];return(0,l.default)(this.refs[e],function(e){return e.node.sortableInfo.index})}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t,n,r=arguments.length<=1||void 0===arguments[1]?{withRef:!1}:arguments[1];return n=t=function(t){function n(e){o(this,n);var t=a(this,Object.getPrototypeOf(n).call(this,e));return t.handleStart=function(e){var n=t.props,r=n.distance,i=n.shouldCancelStart;if(2===e.button||i(e))return!1;t._touched=!0,t._pos={x:e.clientX,y:e.clientY};var o=(0,y.closest)(e.target,function(e){return null!=e.sortableInfo});if(o&&o.sortableInfo&&!t.state.sorting){var a=t.props.useDragHandle,s=o.sortableInfo,u=s.index,l=s.collection;if(a&&!(0,y.closest)(e.target,function(e){return null!=e.sortableHandle}))return;t.manager.active={index:u,collection:l},r||(t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}},t.handleMove=function(e){var n=t.props.distance;if(!t.state.sorting&&t._touched){t._delta={x:t._pos.x-e.clientX,y:t._pos.y-e.clientY};var r=Math.abs(t._delta.x)+Math.abs(t._delta.y);n?r>=n&&t.handlePress(e):t.cancel()}},t.handleEnd=function(){var e=t.props.distance;t._touched=!1,e||t.cancel()},t.cancel=function(){t.state.sorting||(clearTimeout(t.pressTimer),t.manager.active=null)},t.handlePress=function(e){var n=t.manager.getActive();if(n){var r=t.props,o=r.axis,a=r.onSortStart,s=r.helperClass,u=r.hideSortableGhost,l=r.useWindowAsScrollContainer,c=n.node,f=n.collection,h=c.sortableInfo.index,d=(0,y.getElementMargin)(c),p=t.container.getBoundingClientRect();t.node=c,t.margin=d,t.width=c.offsetWidth,t.height=c.offsetHeight,t.dimension="x"===o?t.width:t.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=c.getBoundingClientRect(),t.index=h,t.newIndex=h;var v=t.edge="x"===o?"Left":"Top";if(t.offsetEdge=t.getEdgeOffset(v,c),t.initialOffset=t.getOffset(e),t.initialScroll=t.scrollContainer["scroll"+v],t.helper=t.document.body.appendChild(c.cloneNode(!0)),t.helper.style.position="fixed",t.helper.style.top=t.boundingClientRect.top-d.top+"px",t.helper.style.left=t.boundingClientRect.left-d.left+"px",t.helper.style.width=t.width+"px",t.helper.style.boxSizing="border-box",u&&(t.sortableGhost=c,c.style.visibility="hidden"),"x"===o?(t.minTranslate=(l?0:p.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate=(l?t.contentWindow.innerWidth:p.left+p.width)-t.boundingClientRect.left-t.width/2):(t.minTranslate=(l?0:p.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate=(l?t.contentWindow.innerHeight:p.top+p.height)-t.boundingClientRect.top-t.height/2),s){var g;(g=t.helper.classList).add.apply(g,i(s.split(" ")))}t.listenerNode=e.touches?c:t.contentWindow,y.events.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),y.events.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}),t.setState({sorting:!0,sortingIndex:h}),a&&a({node:c,index:h,collection:f},e)}},t.handleSortMove=function(e){var n=t.props.onSortMove;e.preventDefault(),t.updatePosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)},t.handleSortEnd=function(e){var n=t.props,r=n.hideSortableGhost,i=n.onSortEnd,o=t.manager.active.collection;t.listenerNode&&(y.events.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),y.events.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&(t.sortableGhost.style.visibility="");for(var a=t.manager.refs[o],s=0,u=a.length;s<u;s++){var l=a[s],c=l.node;l.edgeOffset=null,c.style[y.vendorPrefix+"Transform"]="",c.style[y.vendorPrefix+"TransitionDuration"]=""}"function"==typeof i&&i({oldIndex:t.index,newIndex:t.newIndex,collection:o},e),clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.setState({sorting:!1,sortingIndex:null}),t._touched=!1},t.autoscroll=function(){var e=t.translate,n=0,r=1;e>=t.maxTranslate-t.dimension/2?(n=1,r=10*Math.abs((t.maxTranslate-t.dimension/2-e)/t.dimension)):e<=t.minTranslate+t.dimension/2&&(n=-1,r=10*Math.abs((e-t.dimension/2-t.minTranslate)/t.dimension)),t.autoscrollInterval&&(clearTimeout(t.autoscrollInterval),t.autoscrollInterval=null,t.isAutoScrolling=!1),0!==n&&(t.autoscrollInterval=setInterval(function(){t.isAutoScrolling=!0;var e=1*r*n;t.scrollContainer["scroll"+t.edge]+=e,t.translate+=e,t.animateNodes()},5))},t.manager=new m.default,t.events={start:t.handleStart,move:t.handleMove,end:t.handleEnd},(0,w.default)(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time."),t.state={},t}return s(n,t),f(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.contentWindow,r=t.getContainer,i=t.useWindowAsScrollContainer;this.container="function"==typeof r?r(this.getWrappedInstance()):v.default.findDOMNode(this),this.document=this.container.ownerDocument||document,this.scrollContainer=i?this.document.body:this.container,this.contentWindow="function"==typeof n?n():n;for(var o in this.events)!function(t){y.events[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})}(o)}},{key:"componentWillUnmount",value:function(){var e=this;for(var t in this.events)!function(t){y.events[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})}(t)}},{key:"getEdgeOffset",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(t)return t.parentNode!==this.container?this.getEdgeOffset(e,t.parentNode,n+t["offset"+e]):t["offset"+e]+n}},{key:"getOffset",value:function(e){return{x:e.touches?e.touches[0].clientX:e.clientX,y:e.touches?e.touches[0].clientY:e.clientY}}},{key:"getLockPixelOffsets",value:function(){var e=this.props.lockOffset;Array.isArray(e)||(e=[e,e]),(0,w.default)(2===e.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",e);var t=e,n=c(t,2),r=n[0],i=n[1];return[this.getLockPixelOffset(r),this.getLockPixelOffset(i)]}},{key:"getLockPixelOffset",value:function(e){var t=e,n="px";if("string"==typeof e){var r=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);(0,w.default)(null!==r,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',e),t=parseFloat(e),n=r[1]}return(0,w.default)(isFinite(t),"lockOffset value should be a finite. Given %s",e),"%"===n&&(t=t*this.dimension/100),t}},{key:"updatePosition",value:function(e){var t=this.props,n=t.axis,r=t.lockAxis,i=t.lockToContainerEdges,o=this.getOffset(e),a={x:o.x-this.initialOffset.x,y:o.y-this.initialOffset.y};if(this.translate=a[n],i){var s=this.getLockPixelOffsets(),u=c(s,2),l=u[0],f=u[1],h=this.dimension/2-l,d=this.dimension/2-f;a[n]=(0,y.limit)(this.minTranslate+h,this.maxTranslate-d,a[n])}switch(r){case"x":a.y=0;break;case"y":a.x=0}this.helper.style[y.vendorPrefix+"Transform"]="translate3d("+a.x+"px,"+a.y+"px, 0)"}},{key:"animateNodes",value:function(){var e=this.props,t=e.axis,n=e.transitionDuration,r=e.hideSortableGhost,i=this.manager.getOrderedRefs(),o=this.scrollContainer["scroll"+this.edge]-this.initialScroll,a=this.offsetEdge+this.translate+o;this.newIndex=null;for(var s=0,u=i.length;s<u;s++){var l=i[s],c=l.node,f=l.edgeOffset,h=c.sortableInfo.index,d="x"===t?c.offsetWidth:c.offsetHeight,p=this.dimension>d?d/2:this.dimension/2,v=0,g=0,m=0;null==f&&(i[s].edgeOffset=f=this.getEdgeOffset(this.edge,c)),h!==this.index?(n&&(c.style[y.vendorPrefix+"TransitionDuration"]=n+"ms"),h>this.index&&a+p>=f?(v=-(this.dimension+this.marginOffset[t]),this.newIndex=h):h<this.index&&a<=f+p&&(v=this.dimension+this.marginOffset[t],null==this.newIndex&&(this.newIndex=h)),"x"===t?g=v:m=v,c.style[y.vendorPrefix+"Transform"]="translate3d("+g+"px,"+m+"px,0)"):r&&(this.sortableGhost=c,c.style.visibility="hidden")}null==this.newIndex&&(this.newIndex=this.index)}},{key:"getWrappedInstance",value:function(){return(0,w.default)(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return d.default.createElement(e,l({ref:t},this.props,this.state))}}]),n}(h.Component),t.displayName=e.displayName?"SortableList("+e.displayName+")":"SortableList",t.WrappedComponent=e,t.defaultProps={axis:"y",transitionDuration:300,pressDelay:0,distance:0,useWindowAsScrollContainer:!1,hideSortableGhost:!0,contentWindow:"undefined"!=typeof window?window:null,
shouldCancelStart:function(e){if(-1!==["input","textarea","select","option"].indexOf(e.target.tagName.toLowerCase()))return!0},lockToContainerEdges:!1,lockOffset:"50%"},t.propTypes={axis:h.PropTypes.oneOf(["x","y"]),distance:h.PropTypes.number,lockAxis:h.PropTypes.string,helperClass:h.PropTypes.string,transitionDuration:h.PropTypes.number,contentWindow:h.PropTypes.any,onSortStart:h.PropTypes.func,onSortMove:h.PropTypes.func,onSortEnd:h.PropTypes.func,shouldCancelStart:h.PropTypes.func,pressDelay:h.PropTypes.number,useDragHandle:h.PropTypes.bool,useWindowAsScrollContainer:h.PropTypes.bool,hideSortableGhost:h.PropTypes.bool,lockToContainerEdges:h.PropTypes.bool,lockOffset:h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.string,h.PropTypes.arrayOf(h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.string]))]),getContainer:h.PropTypes.func},t.childContextTypes={manager:h.PropTypes.object.isRequired},n}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=u;var h=n(0),d=r(h),p=n(11),v=r(p),g=n(690),m=r(g),y=n(245),b=n(122),w=r(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n,r=arguments.length<=1||void 0===arguments[1]?{withRef:!1}:arguments[1];return n=t=function(t){function n(){return i(this,n),o(this,Object.getPrototypeOf(n).apply(this,arguments))}return a(n,t),l(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index;n||this.setDraggable(t,r)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.index!==e.index&&this.node&&(this.node.sortableInfo.index=e.index),this.props.disabled!==e.disabled){var t=e.collection,n=e.disabled,r=e.index;n?this.removeDraggable(t):this.setDraggable(t,r)}else this.props.collection!==e.collection&&(this.removeDraggable(this.props.collection),this.setDraggable(e.collection,e.index))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.collection;e.disabled||this.removeDraggable(t)}},{key:"setDraggable",value:function(e,t){var n=this.node=(0,h.findDOMNode)(this);n.sortableInfo={index:t,collection:e},this.ref={node:n},this.context.manager.add(e,this.ref)}},{key:"removeDraggable",value:function(e){this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return(0,p.default)(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return f.default.createElement(e,u({ref:t},this.props))}}]),n}(c.Component),t.displayName=e.displayName?"SortableElement("+e.displayName+")":"SortableElement",t.WrappedComponent=e,t.contextTypes={manager:c.PropTypes.object.isRequired},t.propTypes={index:c.PropTypes.number.isRequired,collection:c.PropTypes.oneOfType([c.PropTypes.number,c.PropTypes.string]),disabled:c.PropTypes.bool},t.defaultProps={collection:0},n}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=s;var c=n(0),f=r(c),h=n(11),d=n(122),p=r(d)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n,r=arguments.length<=1||void 0===arguments[1]?{withRef:!1}:arguments[1];return n=t=function(t){function n(){return i(this,n),o(this,Object.getPrototypeOf(n).apply(this,arguments))}return a(n,t),l(n,[{key:"componentDidMount",value:function(){(0,h.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return(0,p.default)(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return f.default.createElement(e,u({ref:t},this.props))}}]),n}(c.Component),t.displayName=e.displayName?"SortableHandle("+e.displayName+")":"SortableHandle",t.WrappedComponent=e,n}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=s;var c=n(0),f=r(c),h=n(11),d=n(122),p=r(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r=n(135),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){return t[e]||{extend:e}}},s=t.autoprefix=function(e){var t={};return(0,i.default)(e,function(e,n){var r={};(0,i.default)(e,function(e,t){var n=a[t];n?r=o({},r,n(e)):r[t]=e}),t[n]=r}),t};t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function s(){var n,o,l,c;r(this,s);for(var f=arguments.length,h=Array(f),d=0;d<f;d++)h[d]=arguments[d];return o=l=i(this,(n=s.__proto__||Object.getPrototypeOf(s)).call.apply(n,[this].concat(h))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return u.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},u.default.createElement(e,a({},l.props,l.state)))},c=o,i(l,c)}return o(s,n),s}(u.default.Component)};t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function s(){var n,o,l,c;r(this,s);for(var f=arguments.length,h=Array(f),d=0;d<f;d++)h[d]=arguments[d];return o=l=i(this,(n=s.__proto__||Object.getPrototypeOf(s)).call.apply(n,[this].concat(h))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return u.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},u.default.createElement(e,a({},l.props,l.state)))},c=o,i(l,c)}return o(s,n),s}(u.default.Component)};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var i=n(624),o=r(i),a=n(135),s=r(a),u=n(623),l=r(u),c=n(25),f=r(c),h=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,f.default)(t,function(t){Array.isArray(t)?e(t).map(function(e){return n.push(e)}):(0,l.default)(t)?(0,s.default)(t,function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)}):(0,o.default)(t)&&n.push(t)}),n};t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var i=n(135),o=r(i),a=n(615),s=r(a),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,s.default)(e.default)||{};return t.map(function(t){var r=e[t];return r&&(0,o.default)(r,function(e,t){n[t]||(n[t]={}),n[t]=u({},n[t],r[t])}),t}),n};t.default=l},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){(function(e){var r=n(705);t.encode=function(t){var n=r.parse(t);return new e(n).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.decode=function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/")+"==";return r.unparse(new e(n,"base64"))},t.v4=function(){return r.v4(null,new e(16)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.nice=function(){var t=r.v4(null,new e(16));return t[0]=127&t[0],t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)}}).call(t,n(153).Buffer)},function(e,t,n){var r;!function(i){function o(e,t){if(e=e||"",t=t||{},e instanceof o)return e;if(!(this instanceof o))return new o(e,t);var n=a(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=q(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=q(this._r)),this._g<1&&(this._g=q(this._g)),this._b<1&&(this._b=q(this._b)),this._ok=n.ok,this._tc_id=U++}function a(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,u=!1;return"string"==typeof e&&(e=F(e)),"object"==typeof e&&(B(e.r)&&B(e.g)&&B(e.b)?(t=s(e.r,e.g,e.b),a=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):B(e.h)&&B(e.s)&&B(e.v)?(r=L(e.s),i=L(e.v),t=f(e.h,r,i),a=!0,u="hsv"):B(e.h)&&B(e.s)&&B(e.l)&&(r=L(e.s),o=L(e.l),t=l(e.h,r,o),a=!0,u="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=E(n),{ok:a,format:e.format||u,r:W(255,G(t.r,0)),g:W(255,G(t.g,0)),b:W(255,G(t.b,0)),a:n}}function s(e,t,n){return{r:255*P(e,255),g:255*P(t,255),b:255*P(n,255)}}function u(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r,i,o=G(e,t,n),a=W(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function l(e,t,n){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var i,o,a;if(e=P(e,360),t=P(t,100),n=P(n,100),0===t)i=o=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;i=r(u,s,e+1/3),o=r(u,s,e),a=r(u,s,e-1/3)}return{r:255*i,g:255*o,b:255*a}}function c(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r,i,o=G(e,t,n),a=W(e,t,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function f(e,t,n){e=6*P(e,360),t=P(t,100),n=P(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),u=n*(1-(1-o)*t),l=r%6;return{r:255*[n,s,a,a,u,n][l],g:255*[u,n,n,s,a,a][l],b:255*[a,a,u,n,n,s][l]}}function h(e,t,n,r){var i=[I(q(e).toString(16)),I(q(t).toString(16)),I(q(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function d(e,t,n,r,i){var o=[I(q(e).toString(16)),I(q(t).toString(16)),I(q(n).toString(16)),I(D(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function p(e,t,n,r){return[I(D(r)),I(q(e).toString(16)),I(q(t).toString(16)),I(q(n).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s-=t/100,n.s=M(n.s),o(n)}function g(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s+=t/100,n.s=M(n.s),o(n)}function m(e){return o(e).desaturate(100)}function y(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l+=t/100,n.l=M(n.l),o(n)}function b(e,t){t=0===t?0:t||10;var n=o(e).toRgb();return n.r=G(0,W(255,n.r-q(-t/100*255))),n.g=G(0,W(255,n.g-q(-t/100*255))),n.b=G(0,W(255,n.b-q(-t/100*255))),o(n)}function w(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l-=t/100,n.l=M(n.l),o(n)}function x(e,t){var n=o(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,o(n)}function _(e){var t=o(e).toHsl();return t.h=(t.h+180)%360,o(t)}function k(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+120)%360,s:t.s,l:t.l}),o({h:(n+240)%360,s:t.s,l:t.l})]}function S(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+90)%360,s:t.s,l:t.l}),o({h:(n+180)%360,s:t.s,l:t.l}),o({h:(n+270)%360,s:t.s,l:t.l})]}function O(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+72)%360,s:t.s,l:t.l}),o({h:(n+216)%360,s:t.s,l:t.l})]}function T(e,t,n){t=t||6,n=n||30;var r=o(e).toHsl(),i=360/n,a=[o(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(o(r));return a}function C(e,t){t=t||6;for(var n=o(e).toHsv(),r=n.h,i=n.s,a=n.v,s=[],u=1/t;t--;)s.push(o({h:r,s:i,v:a})),a=(a+u)%1;return s}function E(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function P(e,t){j(e)&&(e="100%");var n=R(e);return e=W(t,G(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function M(e){return W(1,G(0,e))}function A(e){return parseInt(e,16)}function j(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function R(e){return"string"==typeof e&&-1!=e.indexOf("%")}function I(e){return 1==e.length?"0"+e:""+e}function L(e){return e<=1&&(e=100*e+"%"),e}function D(e){return i.round(255*parseFloat(e)).toString(16)}function N(e){return A(e)/255}function B(e){return!!K.CSS_UNIT.exec(e)}function F(e){e=e.replace(z,"").replace(H,"").toLowerCase();var t=!1;if(X[e])e=X[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=K.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=K.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=K.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=K.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=K.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=K.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=K.hex8.exec(e))?{r:A(n[1]),g:A(n[2]),b:A(n[3]),a:N(n[4]),format:t?"name":"hex8"}:(n=K.hex6.exec(e))?{r:A(n[1]),g:A(n[2]),b:A(n[3]),format:t?"name":"hex"}:(n=K.hex4.exec(e))?{r:A(n[1]+""+n[1]),g:A(n[2]+""+n[2]),b:A(n[3]+""+n[3]),a:N(n[4]+""+n[4]),format:t?"name":"hex8"}:!!(n=K.hex3.exec(e))&&{r:A(n[1]+""+n[1]),g:A(n[2]+""+n[2]),b:A(n[3]+""+n[3]),format:t?"name":"hex"}}function V(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var z=/^\s+/,H=/\s+$/,U=0,q=i.round,W=i.min,G=i.max,Y=i.random;o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r,o,a,s=this.toRgb();return e=s.r/255,t=s.g/255,n=s.b/255,r=e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4),o=t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4),a=n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4),.2126*r+.7152*o+.0722*a},setAlpha:function(e){return this._a=E(e),this._roundA=q(100*this._a)/100,this},toHsv:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=c(this._r,this._g,this._b),t=q(360*e.h),n=q(100*e.s),r=q(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=u(this._r,this._g,this._b),t=q(360*e.h),n=q(100*e.s),r=q(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return h(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return d(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:q(this._r),g:q(this._g),b:q(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+q(this._r)+", "+q(this._g)+", "+q(this._b)+")":"rgba("+q(this._r)+", "+q(this._g)+", "+q(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:q(100*P(this._r,255))+"%",g:q(100*P(this._g,255))+"%",b:q(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+q(100*P(this._r,255))+"%, "+q(100*P(this._g,255))+"%, "+q(100*P(this._b,255))+"%)":"rgba("+q(100*P(this._r,255))+"%, "+q(100*P(this._g,255))+"%, "+q(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Z[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+p(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=o(e);n="#"+p(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},o.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:L(e[r]));e=n}return o(e,t)},o.equals=function(e,t){return!(!e||!t)&&o(e).toRgbString()==o(t).toRgbString()},o.random=function(){return o.fromRatio({r:Y(),g:Y(),b:Y()})},o.mix=function(e,t,n){n=0===n?0:n||50;var r=o(e).toRgb(),i=o(t).toRgb(),a=n/100;return o({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},o.readability=function(e,t){var n=o(e),r=o(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},o.isReadable=function(e,t,n){var r,i,a=o.readability(e,t);switch(i=!1,r=V(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},o.mostReadable=function(e,t,n){var r,i,a,s,u=null,l=0;n=n||{},i=n.includeFallbackColors,a=n.level,s=n.size;for(var c=0;c<t.length;c++)(r=o.readability(e,t[c]))>l&&(l=r,u=o(t[c]));return o.isReadable(e,u,{level:a,size:s})||!i?u:(n.includeFallbackColors=!1,o.mostReadable(e,["#fff","#000"],n))};var X=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Z=o.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(X),K=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==e&&e.exports?e.exports=o:void 0!==(r=function(){return o}.call(t,n,t,e))&&(e.exports=r)}(Math)},function(e,t,n){"use strict";(function(t){function r(e){e=e||t.location||{};var n,r={},i=typeof e;if("blob:"===e.protocol)r=new a(unescape(e.pathname),{});else if("string"===i){r=new a(e,{});for(n in p)delete r[n]}else if("object"===i){for(n in e)n in p||(r[n]=e[n]);void 0===r.slashes&&(r.slashes=h.test(e.href))}return r}function i(e){var t=f.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function o(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);var s,u,f,h,p,v,g=d.slice(),m=typeof t,y=this,b=0;for("object"!==m&&"string"!==m&&(n=t,t=null),n&&"function"!=typeof n&&(n=c.parse),t=r(t),u=i(e||""),s=!u.protocol&&!u.slashes,y.slashes=u.slashes||s&&t.slashes,y.protocol=u.protocol||t.protocol||"",e=u.rest,u.slashes||(g[2]=[/(.*)/,"pathname"]);b<g.length;b++)h=g[b],f=h[0],v=h[1],f!==f?y[v]=e:"string"==typeof f?~(p=e.indexOf(f))&&("number"==typeof h[2]?(y[v]=e.slice(0,p),e=e.slice(p+h[2])):(y[v]=e.slice(p),e=e.slice(0,p))):(p=f.exec(e))&&(y[v]=p[1],e=e.slice(0,p.index)),y[v]=y[v]||(s&&h[3]?t[v]||"":""),h[4]&&(y[v]=y[v].toLowerCase());n&&(y.query=n(y.query)),s&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=o(y.pathname,t.pathname)),l(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(h=y.auth.split(":"),y.username=h[0]||"",y.password=h[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}function s(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||c.parse)(t)),r[e]=t;break;case"port":r[e]=t,l(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";r[e]=t.charAt(0)!==i?i+t:t}else r[e]=t;break;default:r[e]=t}for(var o=0;o<d.length;o++){var a=d[o];a[4]&&(r[a[1]]=r[a[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function u(e){e&&"function"==typeof e||(e=c.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(n.slashes?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,t="object"==typeof n.query?e(n.query):n.query,t&&(i+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(i+=n.hash),i}var l=n(700),c=n(636),f=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,h=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,d=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};a.prototype={set:s,toString:u},a.extractProtocol=i,a.location=r,a.qs=c,e.exports=a}).call(t,n(41))},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(t,n(41))},function(e,t,n){function r(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){i<16&&(t[r+i++]=l[e])
});i<16;)t[r+i++]=0;return t}function i(e,t){var n=t||0,r=u;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function o(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:d,s=void 0!==e.msecs?e.msecs:(new Date).getTime(),u=void 0!==e.nsecs?e.nsecs:v+1,l=s-p+(u-v)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||s>p)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=s,v=u,d=a,s+=122192928e5;var c=(1e4*(268435455&s)+u)%4294967296;o[r++]=c>>>24&255,o[r++]=c>>>16&255,o[r++]=c>>>8&255,o[r++]=255&c;var f=s/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var g=e.node||h,m=0;m<6;m++)o[r+m]=g[m];return t||i(o)}function a(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;a++)t[r+a]=o[a];return t||i(o)}for(var s=n(704),u=[],l={},c=0;c<256;c++)u[c]=(c+256).toString(16).substr(1),l[u[c]]=c;var f=s(),h=[1|f[0],f[1],f[2],f[3],f[4],f[5]],d=16383&(f[6]<<8|f[7]),p=0,v=0,g=a;g.v1=o,g.v4=a,g.parse=r,g.unparse=i,e.exports=g},function(e,t){function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],r=0;r<100;r++)n.push(n[r]+t);return n}function r(){this.step="    ",this.shift=n(this.step)}function i(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function o(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}r.prototype.xml=function(e,t){var r=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),i=r.length,o=!1,a=0,s="",u=0,l=t?n(t):this.shift;for(u=0;u<i;u++)r[u].search(/<!/)>-1?(s+=l[a]+r[u],o=!0,(r[u].search(/-->/)>-1||r[u].search(/\]>/)>-1||r[u].search(/!DOCTYPE/)>-1)&&(o=!1)):r[u].search(/-->/)>-1||r[u].search(/\]>/)>-1?(s+=r[u],o=!1):/^<\w/.exec(r[u-1])&&/^<\/\w/.exec(r[u])&&/^<[\w:\-\.\,]+/.exec(r[u-1])==/^<\/[\w:\-\.\,]+/.exec(r[u])[0].replace("/","")?(s+=r[u],o||a--):r[u].search(/<\w/)>-1&&-1==r[u].search(/<\//)&&-1==r[u].search(/\/>/)?s=s+=o?r[u]:l[a++]+r[u]:r[u].search(/<\w/)>-1&&r[u].search(/<\//)>-1?s=s+=o?r[u]:l[a]+r[u]:r[u].search(/<\//)>-1?s=s+=o?r[u]:l[--a]+r[u]:r[u].search(/\/>/)>-1?s=s+=o?r[u]:l[a]+r[u]:r[u].search(/<\?/)>-1?s+=l[a]+r[u]:r[u].search(/xmlns\:/)>-1||r[u].search(/xmlns\=/)>-1?s+=l[a]+r[u]:s+=r[u];return"\n"==s[0]?s.slice(1):s},r.prototype.json=function(e,t){var t=t||this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},r.prototype.css=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),i=r.length,o=0,a="",s=0,u=t?n(t):this.shift;for(s=0;s<i;s++)/\{/.exec(r[s])?a+=u[o++]+r[s]:/\}/.exec(r[s])?a+=u[--o]+r[s]:(/\*\\/.exec(r[s]),a+=u[o]+r[s]);return a.replace(/^\n{1,}/,"")},r.prototype.sql=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),a=r.length,s=[],u=0,l=this.step,c=0,f="",h=0,d=t?n(t):this.shift;for(h=0;h<a;h++)s=h%2?s.concat(r[h]):s.concat(o(r[h],l));for(a=s.length,h=0;h<a;h++)c=i(s[h],c),/\s{0,}\s{0,}SELECT\s{0,}/.exec(s[h])&&(s[h]=s[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\s{0,}SET\s{0,}/.exec(s[h])&&(s[h]=s[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(s[h])?(u++,f+=d[u]+s[h]):/\'/.exec(s[h])?(c<1&&u&&u--,f+=s[h]):(f+=d[u]+s[h],c<1&&u&&u--);return f=f.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},r.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},r.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},r.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},r.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new r},function(e,t,n){e.exports=n(246)}])}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Promise=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof _dereq_&&_dereq_;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new l(16),this._normalQueue=new l(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=u}function i(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function o(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function a(e){this._normalQueue._pushOne(e),this._queueTick()}var s;try{throw new Error}catch(e){s=e}var u=e("./schedule"),l=e("./queue"),c=e("./util");r.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){c.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},r.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},c.hasDevTools?(r.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?i.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},r.prototype.invoke=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},r.prototype.settlePromises=function(e){this._trampolineEnabled?a.call(this,e):this._schedule(function(){e._settlePromises()})}):(r.prototype.invokeLater=i,r.prototype.invoke=o,r.prototype.settlePromises=a),r.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},t.exports=r,t.exports.firstLineError=s},{"./queue":17,"./schedule":18,"./util":21}],2:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},u=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var l=n(o),c=new e(t);c._propagateFrom(this,1);var f=this._target();if(c._setBoundTo(l),l instanceof e){var h={promiseRejectionQueued:!1,promise:c,target:f,bindingPromise:l};f._then(t,a,void 0,c,h),l._then(s,u,void 0,c,h),c._setOnCancel(l)}else c._resolveCallback(f);return c},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],3:[function(e,t,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(e){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=e("./promise")();o.noConflict=r,t.exports=o},{"./promise":15}],4:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util"),a=o.tryCatch,s=o.errorObj,u=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=a(e).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":21}],5:[function(e,t,n){"use strict";t.exports=function(t){function n(e,n,s){return function(u){var l=s._boundValue();e:for(var c=0;c<e.length;++c){var f=e[c];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return o(n).call(l,u)}else if("function"==typeof f){var h=o(f).call(l,u);if(h===a)return h;if(h)return o(n).call(l,u)}else if(r.isObject(u)){for(var d=i(f),p=0;p<d.length;++p){var v=d[p];if(f[v]!=u[v])continue e}return o(n).call(l,u)}}return t}}var r=e("./util"),i=e("./es5").keys,o=r.tryCatch,a=r.errorObj;return n}},{"./es5":10,"./util":21}],6:[function(e,t,n){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(r())}function n(){return i?new t:void 0}function r(){var e=o.length-1;return e>=0?o[e]:void 0}var i=!1,o=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=o.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=n,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,u=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=u,i=!1},i=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],7:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,t){return{promise:t}}function i(){return!1}function o(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+B.toString(e));r._attachCancellationCallback(e)})}catch(e){return e}}function a(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?B.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function s(){return this._onCancelField}function u(e){this._onCancelField=e}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function c(e,t){if(0!=(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function f(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function h(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function d(){this._trace=new A(this._peekContext())}function p(e,t){if(F(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=k(e);B.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),B.notEnumerableProp(e,"__stackCleaned__",!0)}}}function v(e,t,n,r,i){if(void 0===e&&null!==t&&Z){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),u=x(s),l=u.length-1;l>=0;--l){var c=u[l];if(!z.test(c)){var f=c.match(H);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(u.length>0)for(var h=u[0],l=0;l<s.length;++l)if(s[l]===h){l>0&&(a="\n"+s[l-1]);break}}var d="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(d,!0,t)}}function g(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),m(n)}function m(e,n,r){if(oe.warnings){var i,o=new N(e);if(n)r._attachExtraTrace(o);else if(oe.longStackTraces&&(i=t._peekContext()))i.attachExtraTrace(o);else{var a=k(o);o.stack=a.message+"\n"+a.stack.join("\n")}ee("warning",o)||S(o,"",!0)}}function y(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function b(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function w(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var u=r[s];if(t[i]!==u)break;t.pop(),i--}t=r}}function x(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||U.test(r),o=i&&ne(r);i&&!o&&(W&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function _(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||U.test(r))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function k(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?_(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:x(t)}}function S(e,t,n){if("undefined"!=typeof console){var r;if(B.isObject(e)){var i=e.stack;r=t+q(i,e)}else r=t+String(e);"function"==typeof I?I(r,n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(r)}}function O(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(e){D.throwLater(e)}"unhandledRejection"===e?ee(e,n,r)||i||S(n,"Unhandled rejection "):ee(e,r)}function T(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():B.toString(e);if(/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+C(t)+">, no stack trace)"}function C(e){return e.length<41?e:e.substr(0,38)+"..."}function E(){return"function"==typeof ie}function P(e){var t=e.match(re);return t?{fileName:t[1],line:parseInt(t[2],10)}:void 0}function M(e,t){if(E()){for(var n,r,i=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,u=0;u<i.length;++u){var l=P(i[u]);if(l){n=l.fileName,a=l.line;break}}for(var u=0;u<o.length;++u){var l=P(o[u]);if(l){r=l.fileName,s=l.line;break}}0>a||0>s||!n||!r||n!==r||a>=s||(ne=function(e){if(V.test(e))return!0;var t=P(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}}function A(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);ie(this,A),t>32&&this.uncycle()}var j,R,I,L=t._getDomain,D=t._async,N=e("./errors").Warning,B=e("./util"),F=B.canAttachTrace,V=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,z=/\((?:timers\.js):\d+:\d+\)/,H=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,U=null,q=null,W=!1,G=!(0==B.env("BLUEBIRD_DEBUG")||!B.env("BLUEBIRD_DEBUG")&&"development"!==B.env("NODE_ENV")),Y=!(0==B.env("BLUEBIRD_WARNINGS")||!G&&!B.env("BLUEBIRD_WARNINGS")),X=!(0==B.env("BLUEBIRD_LONG_STACK_TRACES")||!G&&!B.env("BLUEBIRD_LONG_STACK_TRACES")),Z=0!=B.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(Y||!!B.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},t.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},t.prototype._notifyUnhandledRejectionIsHandled=function(){O("rejectionHandled",j,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),O("unhandledRejection",R,e,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(e,t,n){return m(e,t,n||this)},t.onPossiblyUnhandledRejection=function(e){var t=L();R="function"==typeof e?null===t?e:B.domainBind(t,e):void 0},t.onUnhandledRejectionHandled=function(e){var t=L();j="function"==typeof e?null===t?e:B.domainBind(t,e):void 0};var K=function(){};t.longStackTraces=function(){if(D.haveItemsQueued()&&!oe.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!oe.longStackTraces&&E()){var e=t.prototype._captureStackTrace,r=t.prototype._attachExtraTrace;oe.longStackTraces=!0,K=function(){if(D.haveItemsQueued()&&!oe.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e,t.prototype._attachExtraTrace=r,n.deactivateLongStackTraces(),D.enableTrampoline(),oe.longStackTraces=!1},t.prototype._captureStackTrace=d,t.prototype._attachExtraTrace=p,n.activateLongStackTraces(),D.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return oe.longStackTraces&&E()};var $=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return B.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!B.global.dispatchEvent(n)}}if("function"==typeof Event){var e=new Event("CustomEvent");return B.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!B.global.dispatchEvent(n)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),B.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!B.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),Q=function(){return B.isNode?function(){return process.emit.apply(process,arguments)}:B.global?function(e){var t="on"+e.toLowerCase(),n=B.global[t];return!!n&&(n.apply(B.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),J={promiseCreated:r,promiseFulfilled:r,promiseRejected:r,promiseResolved:r,promiseCancelled:r,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:r},ee=function(e){var t=!1;try{t=Q.apply(null,arguments)}catch(e){D.throwLater(e),t=!0}var n=!1;try{n=$(e,J[e].apply(null,arguments))}catch(e){D.throwLater(e),n=!0}return n||t};t.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&K()),"warnings"in e){var n=e.warnings;oe.warnings=!!n,Z=oe.warnings,B.isObject(n)&&"wForgottenReturn"in n&&(Z=!!n.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!oe.cancellation){if(D.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=l,t.prototype._propagateFrom=c,t.prototype._onCancel=s,t.prototype._setOnCancel=u,t.prototype._attachCancellationCallback=a,t.prototype._execute=o,te=c,oe.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!oe.monitoring?(oe.monitoring=!0,t.prototype._fireEvent=ee):!e.monitoring&&oe.monitoring&&(oe.monitoring=!1,t.prototype._fireEvent=i)),t},t.prototype._fireEvent=i,t.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(e){},t.prototype._attachCancellationCallback=function(e){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(e,t){};var te=f,ne=function(){return!1},re=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;B.inherits(A,Error),n.CapturedTrace=A,A.prototype.uncycle=function(){var e=this._length;if(!(2>e)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;e=this._length=r;for(var r=e-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;e>r;++r){var a=t[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var u=r>0?t[r-1]:this;e-1>s?(u._parent=t[s+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var l=u._length+1,c=r-2;c>=0;--c)t[c]._length=l,l++;return}}}},A.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=k(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(x(i.stack.split("\n"))),i=i._parent;w(r),b(r),B.notEnumerableProp(e,"stack",y(n,r)),B.notEnumerableProp(e,"__stackCleaned__",!0)}};var ie=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():T(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,U=e,q=t;var n=Error.captureStackTrace;return ne=function(e){return V.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return U=/@/,q=t,W=!0,function(e){e.stack=(new Error).stack};var i;try{throw new Error}catch(e){i="stack"in e}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(q=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?T(t):t.toString()},null):(U=e,q=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(I=function(e){console.warn(e)},B.isNode&&process.stderr.isTTY?I=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:B.isNode||"string"!=typeof(new Error).stack||(I=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var oe={warnings:Y,longStackTraces:!1,cancellation:!1,monitoring:!1};return X&&t.longStackTraces(),{longStackTraces:function(){return oe.longStackTraces},warnings:function(){return oe.warnings},cancellation:function(){return oe.cancellation},monitoring:function(){return oe.monitoring},propagateFromFunction:function(){return te},boundValueFunction:function(){return h},checkForgottenReturns:v,setBounds:M,warn:m,deprecated:g,CapturedTrace:A,fireDomEvent:$,fireGlobalEvent:Q}}},{"./errors":9,"./util":21}],8:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],r=function(){throw t};return this.caught(e,r)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],9:[function(e,t,n){"use strict";function r(e,t){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:t),f(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return c(n,Error),n}function i(e){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(f(this,"message",e.message),f(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(e)}var o,a,s=e("./es5"),u=s.freeze,l=e("./util"),c=l.inherits,f=l.notEnumerableProp,h=r("Warning","warning"),d=r("CancellationError","cancellation error"),p=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(e){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<g.length;++m)"function"==typeof Array.prototype[g[m]]&&(v.prototype[g[m]]=Array.prototype[g[m]]);s.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var y=0;v.prototype.toString=function(){var e=Array(4*y+1).join(" "),t="\n"+e+"AggregateError of:\n";y++,e=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];r=i.join("\n"),t+=r+"\n"}return y--,t},c(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:d,TimeoutError:p,OperationalError:i,RejectionError:i,AggregateError:v}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:h}},{"./es5":10,"./util":21}],10:[function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},u=function(e,t){return{value:e[t]}},l=function(e,t,n){return e[t]=n.value,e},c=function(e){return e},f=function(e){try{return Object(e).constructor.prototype}catch(e){return a}},h=function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}};t.exports={isArray:h,keys:s,names:s,defineProperty:l,getDescriptor:u,freeze:c,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],11:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function o(e){this.finallyHandler=e}function a(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function s(){return l.call(this,this.promise._target()._settledValue())}function u(e){return a(this,e)?void 0:(h.e=e,h)}
function l(e){var i=this.promise,l=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?l.call(i._boundValue()):l.call(i._boundValue(),e);if(c===r)return c;if(void 0!==c){i._setReturnedNonUndefined();var d=n(c,i);if(d instanceof t){if(null!=this.cancelPromise){if(d._isCancelled()){var p=new f("late cancellation observer");return i._attachExtraTrace(p),h.e=p,h}d.isPending()&&d._attachCancellationCallback(new o(this))}return d._then(s,u,void 0,this,void 0)}}}return i.isRejected()?(a(this),h.e=e,h):(a(this),e)}var c=e("./util"),f=t.CancellationError,h=c.errorObj,d=e("./catch_filter")(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){a(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,void 0,new i(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,l,l)},t.prototype.tap=function(e){return this._passThrough(e,1,l)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,l);var r,i=new Array(n-1),o=0;for(r=0;n-1>r;++r){var a=arguments[r];if(!c.isObject(a))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+c.classString(a)));i[o++]=a}i.length=o;var s=arguments[r];return this._passThrough(d(i,s,this),1,void 0,l)},i}},{"./catch_filter":5,"./util":21}],12:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj,t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var r}var i=[].slice.call(arguments);e&&i.pop();var r=new n(i).promise();return void 0!==e?r.spread(e):r}}},{"./util":21}],13:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=s(e).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(e){if("function"!=typeof e)return i("expecting a function but got "+a.classString(e));var r=new t(n);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],c=arguments[2];u=a.isArray(l)?s(e).apply(c,l):s(e).call(c,l)}else u=s(e)();var f=r._popContext();return o.checkForgottenReturns(u,f,"Promise.try",r),r._resolveFromSyncValue(u),r},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":21}],14:[function(e,t,n){"use strict";function r(e){return e instanceof Error&&c.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(r(e)){t=new l(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=c.keys(e),i=0;i<n.length;++i){var o=n[i];f.test(o)||(t[o]=e[o])}return t}return a.markAsOriginatingFromRejection(e),e}function o(e,t){return function(n,r){if(null!==e){if(n){var o=i(s(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(r);e=null}}}var a=e("./util"),s=a.maybeWrapAsError,u=e("./errors"),l=u.OperationalError,c=e("./es5"),f=/^(?:name|message|stack|cause)$/;t.exports=o},{"./errors":9,"./es5":10,"./util":21}],15:[function(e,t,n){"use strict";t.exports=function(){function n(){}function r(e,t){if(null==e||e.constructor!==i)throw new y("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new y("expecting a function but got "+d.classString(t))}function i(e){e!==w&&r(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function o(e){this.promise._resolveCallback(e)}function a(e){this.promise._rejectCallback(e,!1)}function s(e){var t=new i(w);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var u,l=function(){return new y("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},c=function(){return new i.PromiseInspection(this._target())},f=function(e){return i.reject(new y(e))},h={},d=e("./util");u=d.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},d.notEnumerableProp(i,"_getDomain",u);var p=e("./es5"),v=e("./async"),g=new v;p.defineProperty(i,"_async",{value:g});var m=e("./errors"),y=i.TypeError=m.TypeError;i.RangeError=m.RangeError;var b=i.CancellationError=m.CancellationError;i.TimeoutError=m.TimeoutError,i.OperationalError=m.OperationalError,i.RejectionError=m.OperationalError,i.AggregateError=m.AggregateError;var w=function(){},x={},_={},k=e("./thenables")(i,w),S=e("./promise_array")(i,w,k,f,n),O=e("./context")(i),T=(O.create,e("./debuggability")(i,O)),C=(T.CapturedTrace,e("./finally")(i,k,_)),E=e("./catch_filter")(_),P=e("./nodeback"),M=d.errorObj,A=d.tryCatch;return i.prototype.toString=function(){return"[object Promise]"},i.prototype.caught=i.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;t-1>n;++n){var o=arguments[n];if(!d.isObject(o))return f("Catch statement predicate: expecting an object but got "+d.classString(o));r[i++]=o}return r.length=i,e=arguments[n],this.then(void 0,E(r,e,this))}return this.then(void 0,e)},i.prototype.reflect=function(){return this._then(c,c,void 0,this,void 0)},i.prototype.then=function(e,t){if(T.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+d.classString(e);arguments.length>1&&(n+=", "+d.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},i.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},i.prototype.spread=function(e){return"function"!=typeof e?f("expecting a function but got "+d.classString(e)):this.all()._then(e,void 0,void 0,x,void 0)},i.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},i.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new S(this).promise()},i.prototype.error=function(e){return this.caught(d.originatesFromRejection,e)},i.getNewLibraryCopy=t.exports,i.is=function(e){return e instanceof i},i.fromNode=i.fromCallback=function(e){var t=new i(w);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=A(e)(P(t,n));return r===M&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},i.all=function(e){return new S(e).promise()},i.cast=function(e){var t=k(e);return t instanceof i||(t=new i(w),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},i.resolve=i.fulfilled=i.cast,i.reject=i.rejected=function(e){var t=new i(w);return t._captureStackTrace(),t._rejectCallback(e,!0),t},i.setScheduler=function(e){if("function"!=typeof e)throw new y("expecting a function but got "+d.classString(e));return g.setScheduler(e)},i.prototype._then=function(e,t,n,r,o){var a=void 0!==o,s=a?o:new i(w),l=this._target(),c=l._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&c)?this._boundValue():l===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var f=u();if(0!=(50397184&c)){var h,p,v=l._settlePromiseCtx;0!=(33554432&c)?(p=l._rejectionHandler0,h=e):0!=(16777216&c)?(p=l._fulfillmentHandler0,h=t,l._unsetRejectionIsUnhandled()):(v=l._settlePromiseLateCancellationObserver,p=new b("late cancellation observer"),l._attachExtraTrace(p),h=t),g.invoke(v,l,{handler:null===f?h:"function"==typeof h&&d.domainBind(f,h),promise:s,receiver:r,value:p})}else l._addCallbacks(e,t,s,r,f);return s},i.prototype._length=function(){return 65535&this._bitField},i.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},i.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},i.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},i.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},i.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},i.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},i.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},i.prototype._isFinal=function(){return(4194304&this._bitField)>0},i.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},i.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},i.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},i.prototype._setAsyncGuaranteed=function(){g.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},i.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];return t===h?void 0:void 0===t&&this._isBound()?this._boundValue():t},i.prototype._promiseAt=function(e){return this[4*e-4+2]},i.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},i.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},i.prototype._boundValue=function(){},i.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=h),this._addCallbacks(t,n,r,i,null)},i.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=h),this._addCallbacks(n,r,i,o,null)},i.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=null===i?e:d.domainBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=null===i?t:d.domainBind(i,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof e&&(this[a+0]=null===i?e:d.domainBind(i,e)),"function"==typeof t&&(this[a+1]=null===i?t:d.domainBind(i,t))}return this._setLength(o+1),o},i.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},i.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(l(),!1);var n=k(e,this);if(!(n instanceof i))return this._fulfill(e);t&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var o=r._bitField;if(0==(50397184&o)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;a>s;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!=(33554432&o))this._fulfill(r._value());else if(0!=(16777216&o))this._reject(r._reason());else{var u=new b("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},i.prototype._rejectCallback=function(e,t,n){var r=d.ensureErrorObject(e),i=r===e;if(!i&&!n&&T.warnings()){var o="a promise was rejected with a non-error: "+d.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},i.prototype._resolveFromExecutor=function(e){if(e!==w){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)}},i.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0==(65536&i)){r._pushContext();var o;t===x?n&&"number"==typeof n.length?o=A(e).apply(this._boundValue(),n):(o=M,o.e=new y("cannot .spread() a non-array: "+d.classString(n))):o=A(e).call(t,n);var a=r._popContext();0==(65536&(i=r._bitField))&&(o===_?r._reject(n):o===M?r._rejectCallback(o.e,!1):(T.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},i.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},i.prototype._followee=function(){return this._rejectionHandler0},i.prototype._setFollowee=function(e){this._rejectionHandler0=e},i.prototype._settlePromise=function(e,t,r,o){var a=e instanceof i,s=this._bitField,u=0!=(134217728&s);0!=(65536&s)?(a&&e._invokeInternalOnCancel(),r instanceof C&&r.isFinallyHandler()?(r.cancelPromise=e,A(t).call(r,o)===M&&e._reject(M.e)):t===c?e._fulfill(c.call(r)):r instanceof n?r._promiseCancelled(e):a||e instanceof S?e._cancel():r.cancel()):"function"==typeof t?a?(u&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,r,o,e)):t.call(r,o,e):r instanceof n?r._isResolved()||(0!=(33554432&s)?r._promiseFulfilled(o,e):r._promiseRejected(o,e)):a&&(u&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(o):e._reject(o))},i.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,o=e.value;"function"==typeof t?n instanceof i?this._settlePromiseFromHandler(t,r,o,n):t.call(r,o,n):n instanceof i&&n._reject(o)},i.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},i.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},i.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},i.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():g.settlePromises(this))}},i.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16))return this._setRejected(),this._fulfillmentHandler0=e,this._isFinal()?g.fatalError(e,d.isNode):void((65535&t)>0?g.settlePromises(this):this._ensurePossibleRejectionHandled())},i.prototype._fulfillPromises=function(e,t){for(var n=1;e>n;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},i.prototype._rejectPromises=function(e,t){for(var n=1;e>n;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},i.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},i.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},i.defer=i.pending=function(){return T.deprecated("Promise.defer","new Promise"),{promise:new i(w),resolve:o,reject:a}},d.notEnumerableProp(i,"_makeSelfResolutionError",l),e("./method")(i,w,k,f,T),e("./bind")(i,w,k,T),e("./cancel")(i,S,f,T),e("./direct_resolve")(i),e("./synchronous_inspection")(i),e("./join")(i,S,k,w,g,u),i.Promise=i,i.version="3.5.1",d.toFastProperties(i),d.toFastProperties(i.prototype),s({a:1}),s({b:2}),s({c:3}),s(1),s(function(){}),s(void 0),s(!1),s(new i(w)),T.setBounds(v.firstLineError,d.lastLineError),i}},{"./async":1,"./bind":2,"./cancel":4,"./catch_filter":5,"./context":6,"./debuggability":7,"./direct_resolve":8,"./errors":9,"./es5":10,"./finally":11,"./join":12,"./method":13,"./nodeback":14,"./promise_array":16,"./synchronous_inspection":19,"./thenables":20,"./util":21}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){function a(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function s(e){var r=this._promise=new t(n);e instanceof t&&r._propagateFrom(e,3),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=e("./util");return u.isArray,u.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){var s=r(this._values,this._promise);if(s instanceof t){s=s._target();var l=s._bitField;if(this._values=s,0==(50397184&l))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0==(33554432&l))return 0!=(16777216&l)?this._reject(s._reason()):this._cancel();s=s._value()}if(null===(s=u.asArray(s))){var c=i("expecting an array or an iterable object but got "+u.classString(s)).reason();return void this._promise._rejectCallback(c,!1)}return 0===s.length?void(-5===o?this._resolveEmptyArray():this._resolve(a(o))):void this._iterate(s)},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;n>s;++s){var u=r(e[s],i);u instanceof t?(u=u._target(),a=u._bitField):a=null,o?null!==a&&u.suppressUnhandledRejections():null!==a?0==(50397184&a)?(u._proxy(this,s),this._values[s]=u):o=0!=(33554432&a)?this._promiseFulfilled(u._value(),s):0!=(16777216&a)?this._promiseRejected(u._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(u,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":21}],17:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var o=0;i>o;++o)n[o+r]=e[o+t],e[o+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},i.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,r(this,0,this,t,this._front+this._length&t-1)},t.exports=i},{}],18:[function(e,t,n){"use strict";var r,i=e("./util"),o=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},a=i.getNativePromise();if(i.isNode&&"undefined"==typeof MutationObserver){var s=global.setImmediate,u=process.nextTick;r=i.isRecentNode?function(e){s.call(global,e)}:function(e){u.call(process,e)}}else if("function"==typeof a&&"function"==typeof a.resolve){var l=a.resolve();r=function(e){l.then(e)}}else r="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:o:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),n=!1}).observe(r,t);var i=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(e,t),i()}}();t.exports=r},{"./util":21}],19:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],20:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,r){if(c(e)){if(e instanceof t)return e;var i=o(e);if(i===l){r&&r._pushContext();var u=t.reject(i.e);return r&&r._popContext(),u}if("function"==typeof i){if(a(e)){var u=new t(n);return e._then(u._fulfill,u._reject,void 0,u,null),u}return s(e,i,r)}}return e}function i(e){return e.then}function o(e){try{return i(e)}catch(e){return l.e=e,l}}function a(e){try{return f.call(e,"_promise0")}catch(e){return!1}}function s(e,r,i){function o(e){s&&(s._resolveCallback(e),s=null)}function a(e){s&&(s._rejectCallback(e,f,!0),s=null)}var s=new t(n),c=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var f=!0,h=u.tryCatch(r).call(e,o,a);return f=!1,s&&h===l&&(s._rejectCallback(h.e,!0,!0),s=null),c}var u=e("./util"),l=u.errorObj,c=u.isObject,f={}.hasOwnProperty;return r}},{"./util":21}],21:[function(e,t,n){"use strict";function r(){try{var e=T;return T=null,e.apply(this,arguments)}catch(e){return P.e=e,P}}function i(e){return T=e,r}function o(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function a(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return o(e)?new Error(g(e)):e}function u(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;r>n;++n)i[n]=e[n];return i[n]=t,i}function l(e,t,n){if(!C.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function c(e,t,n){if(o(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return C.defineProperty(e,t,r),e}function f(e){throw e}function h(e){try{if("function"==typeof e){var t=C.names(e.prototype),n=C.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=R.test(e+"")&&C.names(e).length>0;if(n||r||i)return!0}return!1}catch(e){return!1}}function d(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e}function p(e){return I.test(e)}function v(e,t,n){for(var r=new Array(e),i=0;e>i;++i)r[i]=t+i+n;return r}function g(e){try{return e+""}catch(e){return"[no string representation]"}}function m(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function y(e){try{c(e,"isOperational",!0)}catch(e){}}function b(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function w(e){return m(e)&&C.propertyIsWritable(e,"stack")}function x(e){return{}.toString.call(e)}function _(e,t,n){for(var r=C.names(e),i=0;i<r.length;++i){var o=r[i];if(n(o))try{C.defineProperty(t,o,C.getDescriptor(e,o))}catch(e){}}}function k(e){return F?process.env[e]:void 0}function S(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}function O(e,t){return e.bind(t)}var T,C=e("./es5"),E="undefined"==typeof navigator,P={e:{}},M="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,A=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var r={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},j=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(C.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(e){return r}for(var a=0;a<o.length;++a){var s=o[a];if(!i[s]){i[s]=!0;var u=Object.getOwnPropertyDescriptor(e,s);null!=u&&null==u.get&&null==u.set&&r.push(s)}}e=C.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<e.length;++a)if(r.call(e[a],o))continue e;i.push(o)}return i}}(),R=/this\s*\.\s*\S+\s*=/,I=/^[a-z$_][a-z$_0-9]*$/i,L=function(){return"stack"in new Error?function(e){return w(e)?e:new Error(g(e))}:function(e){if(w(e))return e;try{throw new Error(g(e))}catch(e){return e}}}(),D=function(e){return C.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var N="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};D=function(e){return C.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?N(e):null}}var B="undefined"!=typeof process&&"[object process]"===x(process).toLowerCase(),F="undefined"!=typeof process&&void 0!==process.env,V={isClass:h,isIdentifier:p,inheritedDataKeys:j,getDataPropertyOrDefault:l,thrower:f,isArray:C.isArray,asArray:D,notEnumerableProp:c,isPrimitive:o,isObject:a,isError:m,canEvaluate:E,errorObj:P,tryCatch:i,inherits:A,withAppended:u,maybeWrapAsError:s,toFastProperties:d,filledRange:v,toString:g,canAttachTrace:w,ensureErrorObject:L,originatesFromRejection:b,markAsOriginatingFromRejection:y,classString:x,copyDescriptors:_,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:B,hasEnvVariables:F,env:k,global:M,getNativePromise:S,domainBind:O};V.isRecentNode=V.isNode&&function(){var e=process.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),V.isNode&&V.toFastProperties(process);try{throw new Error}catch(e){V.lastLineError=e}t.exports=V},{"./es5":10}]},{},[3])(3)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise),Promise.config({warnings:{wForgottenReturn:!1}});var requirejs,require,define;!function(global,setTimeout){function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){!n&&hasProp(e,i)||(!r||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(e[i]||(e[i]={}),mixin(e[i],t,n,r)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function t(e){var t,n;for(t=0;t<e.length;t++)if("."===(n=e[t]))e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,r){var i,o,a,s,u,l,c,f,h,d,p,v=n&&n.split("/"),g=k.map,m=g&&g["*"];if(e&&(e=e.split("/"),l=e.length-1,k.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&v&&(p=v.slice(0,v.length-1),e=p.concat(e)),t(e),e=e.join("/")),r&&g&&(v||m)){o=e.split("/");e:for(a=o.length;a>0;a-=1){if(u=o.slice(0,a).join("/"),v)for(s=v.length;s>0;s-=1)if((i=getOwn(g,v.slice(0,s).join("/")))&&(i=getOwn(i,u))){c=i,f=a;break e}!h&&m&&getOwn(m,u)&&(h=getOwn(m,u),d=a)}!c&&h&&(c=h,f=d),c&&(o.splice(0,f,c),e=o.join("/"))}return getOwn(k.pkgs,e)||e}function r(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName)return t.parentNode.removeChild(t),!0})}function i(e){var t=getOwn(k.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),w.require.undef(e),w.makeRequire(null,{skipMap:!0})([e]),!0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function a(e,t,r,i){var a,s,u,l,c=null,f=t?t.name:null,h=e,d=!0,p="";return e||(d=!1,e="_@r"+(A+=1)),l=o(e),c=l[0],e=l[1],c&&(c=n(c,f,i),s=getOwn(E,c)),e&&(c?p=r?e:s&&s.normalize?s.normalize(e,function(e){return n(e,f,i)}):-1===e.indexOf("!")?n(e,f,i):e:(p=n(e,f,i),l=o(p),c=l[0],p=l[1],r=!0,a=w.nameToUrl(p))),u=!c||s||r?"":"_unnormalized"+(j+=1),{prefix:c,name:p,parentMap:t,unnormalized:!!u,url:a,originalName:h,isDefine:d,id:(c?c+"!"+p:p)+u}}function s(e){var t=e.id,n=getOwn(S,t);return n||(n=S[t]=new w.Module(e)),n}function u(e,t,n){var r=e.id,i=getOwn(S,r);!hasProp(E,r)||i&&!i.defineEmitComplete?(i=s(e),i.error&&"error"===t?n(i.error):i.on(t,n)):"defined"===t&&n(E[r])}function l(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(S,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function c(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(w.defQueueMap[t]=!0),C.push(e)}),globalDefQueue=[])}function f(e){delete S[e],delete O[e]}function h(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var o=r.id,a=getOwn(S,o)
;!a||e.depMatched[i]||n[o]||(getOwn(t,o)?(e.defineDep(i,E[o]),e.check()):h(a,t,n))}),n[r]=!0)}function d(){var e,t,n=1e3*k.waitSeconds,o=n&&w.startTime+n<(new Date).getTime(),a=[],s=[],u=!1,c=!0;if(!y){if(y=!0,eachProp(O,function(e){var n=e.map,l=n.id;if(e.enabled&&(n.isDefine||s.push(e),!e.error))if(!e.inited&&o)i(l)?(t=!0,u=!0):(a.push(l),r(l));else if(!e.inited&&e.fetched&&n.isDefine&&(u=!0,!n.prefix))return c=!1}),o&&a.length)return e=makeError("timeout","Load timeout for modules: "+a,null,a),e.contextName=w.contextName,l(e);c&&each(s,function(e){h(e,{},{})}),o&&!t||!u||!isBrowser&&!isWebWorker||_||(_=setTimeout(function(){_=0,d()},50)),y=!1}}function p(e){hasProp(E,e[0])||s(a(e[0],null,!0)).init(e[1],e[2])}function v(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return v(t,w.onScriptLoad,"load","onreadystatechange"),v(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function m(){var e;for(c();C.length;){if(e=C.shift(),null===e[0])return l(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));p(e)}w.defQueueMap={}}var y,b,w,x,_,k={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},S={},O={},T={},C=[],E={},P={},M={},A=1,j=1;return x={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?E[e.map.id]=e.exports:e.exports=E[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(k.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},b=function(e){this.events=getOwn(T,e.id)||{},this.map=e,this.shim=getOwn(k.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;P[e]||(P[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,r=this.depExports,i=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=w.execCb(n,o,r,i)}catch(t){e=t}else i=w.execCb(n,o,r,i);if(this.map.isDefine&&void 0===i&&(t=this.module,t?i=t.exports:this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",l(this.error=e)}else i=o;if(this.exports=i,this.map.isDefine&&!this.ignore&&(E[n]=i,req.onResourceLoad)){var a=[];each(this.depMaps,function(e){a.push(e.normalizedMap||e)}),req.onResourceLoad(w,this.map,a)}f(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(w.defQueueMap,n)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=a(e.prefix);this.depMaps.push(r),u(r,"defined",bind(this,function(r){var i,o,c,h=getOwn(M,this.map.id),d=this.map.name,p=this.map.parentMap?this.map.parentMap.name:null,v=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(d=r.normalize(d,function(e){return n(e,p,!0)})||""),o=a(e.prefix+"!"+d,this.map.parentMap,!0),u(o,"defined",bind(this,function(e){this.map.normalizedMap=o,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((c=getOwn(S,o.id))&&(this.depMaps.push(o),this.events.error&&c.on("error",bind(this,function(e){this.emit("error",e)})),c.enable()))):h?(this.map.url=w.nameToUrl(h),void this.load()):(i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(S,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&f(e.map.id)}),l(e)}),i.fromText=bind(this,function(n,r){var o=e.name,u=a(o),c=useInteractive;r&&(n=r),c&&(useInteractive=!1),s(u),hasProp(k.config,t)&&(k.config[o]=k.config[t]);try{req.exec(n)}catch(e){return l(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}c&&(useInteractive=!0),this.depMaps.push(u),w.completeLoad(o),v([o],i)}),void r.load(e.name,v,i,k))})),w.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){O[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,i;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(x,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,u(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?u(e,"error",bind(this,this.errback)):this.events.error&&u(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,r=S[n],hasProp(x,n)||!r||r.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(S,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:k,contextName:e,registry:S,defined:E,urlFetched:P,defQueue:C,defQueueMap:{},Module:b,makeModuleMap:a,nextTick:req.nextTick,onError:l,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,n){return(-1===n.indexOf("?")?"?":"&")+t}}var n=k.shim,r={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?(k[t]||(k[t]={}),mixin(k[t],e,!0,!0)):k[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(M[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),n[t]=e}),k.shim=n),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(k.paths[n]=e.location),k.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(S,function(e,t){e.inited||e.map.unnormalized||(e.map=a(t,null,!0))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function o(n,r,u){var c,f,h;return i.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof n?isFunction(r)?l(makeError("requireargs","Invalid require call"),u):t&&hasProp(x,n)?x[n](S[t.id]):req.get?req.get(w,n,t,o):(f=a(n,t,!1,!0),c=f.id,hasProp(E,c)?E[c]:l(makeError("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(m(),w.nextTick(function(){m(),h=s(a(null,t)),h.skipMap=i.skipMap,h.init(n,r,u,{enabled:!0}),d()}),o)}return i=i||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var r,i=e.lastIndexOf("."),o=e.split("/")[0],a="."===o||".."===o;return-1!==i&&(!a||i>1)&&(r=e.substring(i,e.length),e=e.substring(0,i)),w.nameToUrl(n(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(E,a(e,t,!1,!0).id)},specified:function(e){return e=a(e,t,!1,!0).id,hasProp(E,e)||hasProp(S,e)}}),t||(o.undef=function(e){c();var n=a(e,t,!0),i=getOwn(S,e);i.undefed=!0,r(e),delete E[e],delete P[n.url],delete T[e],eachReverse(C,function(t,n){t[0]===e&&C.splice(n,1)}),delete w.defQueueMap[e],i&&(i.events.defined&&(T[e]=i.events),f(e))}),o},enable:function(e){getOwn(S,e.id)&&s(e).enable()},completeLoad:function(e){var t,n,r,o=getOwn(k.shim,e)||{},a=o.exports;for(c();C.length;){if(n=C.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);p(n)}if(w.defQueueMap={},r=getOwn(S,e),!t&&!hasProp(E,e)&&r&&!r.inited){if(!(!k.enforceDefine||a&&getGlobal(a)))return i(e)?void 0:l(makeError("nodefine","No define call for "+e,null,[e]));p([e,o.deps||[],o.exportsFn])}d()},nameToUrl:function(e,t,n){var r,i,o,a,s,u,l,c=getOwn(k.pkgs,e);if(c&&(e=c),l=getOwn(M,e))return w.nameToUrl(l,t,n);if(req.jsExtRegExp.test(e))s=e+(t||"");else{for(r=k.paths,i=e.split("/"),o=i.length;o>0;o-=1)if(a=i.slice(0,o).join("/"),u=getOwn(r,a)){isArray(u)&&(u=u[0]),i.splice(0,o,u);break}s=i.join("/"),s+=t||(/^data\:|^blob\:|\?/.test(s)||n?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":k.baseUrl)+s}return k.urlArgs&&!/^blob\:/.test(s)?s+k.urlArgs(e,s):s},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);if(!i(t.id)){var n=[];return eachProp(S,function(e,r){0!==r.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id)return n.push(r),!0})}),l(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.5",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var i,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=r):e=[]),o&&o.context&&(a=o.context),i=getOwn(contexts,a),i||(i=contexts[a]=req.s.newContext(a)),o&&i.configure(o),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],(baseElement=document.getElementsByTagName("base")[0])&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r,i=e&&e.config||{};if(isBrowser)return r=req.createNode(i,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=n,i.onNodeCreated&&i.onNodeCreated(r,i,t,n),currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{setTimeout(function(){},0),importScripts(n),e.completeLoad(t)}catch(r){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,r,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript())&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")]),i?(i.defQueue.push([e,t,n]),i.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),_aureliaConfigureModuleLoader(),define("aurelia-binding",["exports","aurelia-logging","aurelia-pal","aurelia-task-queue","aurelia-metadata"],function(e,t,n,r,i){"use strict";function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){if(e in ze)return ze[e];var t=e.charAt(0).toLowerCase()+e.slice(1).replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()});return ze[e]=t,t}function u(e,t){return{bindingContext:e,parentOverrideContext:t||null}}function l(e,t,n){var r=t.overrideContext;if(n){for(;n&&r;)n--,r=r.parentOverrideContext;if(n||!r)return;return e in r?r:r.bindingContext}for(;r&&!(e in r)&&!(r.bindingContext&&e in r.bindingContext);)r=r.parentOverrideContext;return r?e in r?r:r.bindingContext:t.bindingContext||t.overrideContext}function c(e,t){return t?{bindingContext:e,overrideContext:u(e,u(t))}:{bindingContext:e,overrideContext:u(e)}}function f(e){for(var t=void 0===this._observerSlots?0:this._observerSlots,n=t;n--&&this[He[n]]!==e;);if(-1===n){for(n=0;this[He[n]];)n++;this[He[n]]=e,e.subscribe(Ve,this),n===t&&(this._observerSlots=n+1)}void 0===this._version&&(this._version=0),this[Ue[n]]=this._version}function h(e,t){var n=this.observerLocator.getObserver(e,t);f.call(this,n)}function d(e){var t=this.observerLocator.getArrayObserver(e);f.call(this,t)}function p(e){for(var t=this._observerSlots;t--;)if(e||this[Ue[t]]!==this._version){var n=this[He[t]];this[He[t]]=null,n&&n.unsubscribe(Ve,this)}}function v(){return function(e){e.prototype.observeProperty=h,e.prototype.observeArray=d,e.prototype.unobserve=p,e.prototype.addObserver=f}}function g(e){for(var t=We.length,r=0;r<t;){var i=We[r];if(Ge[i.__connectQueueId]=!1,i.connect(!0),++r%100==0&&n.PLATFORM.performance.now()-e>Ze)break}We.splice(0,r),We.length?n.PLATFORM.requestAnimationFrame(g):(Ke=!1,$e=0)}function m(e){if($e<Xe)$e++,e.connect(!1);else{var t=e.__connectQueueId;void 0===t&&(t=Ye,Ye++,e.__connectQueueId=t),Ge[t]||(We.push(e),Ge[t]=!0)}Ke||(Ke=!0,n.PLATFORM.requestAnimationFrame(g))}function y(e,t){return!this.hasSubscriber(e,t)&&(this._context0?this._context1?this._context2?this._contextsRest?(this._contextsRest.push(e),this._callablesRest.push(t),!0):(this._contextsRest=[e],this._callablesRest=[t],!0):(this._context2=e,this._callable2=t,!0):(this._context1=e,this._callable1=t,!0):(this._context0=e,this._callable0=t,!0))}function b(e,t){if(this._context0===e&&this._callable0===t)return this._context0=null,this._callable0=null,!0;if(this._context1===e&&this._callable1===t)return this._context1=null,this._callable1=null,!0;if(this._context2===e&&this._callable2===t)return this._context2=null,this._callable2=null,!0;var n=this._callablesRest;if(void 0===n||0===n.length)return!1;for(var r=this._contextsRest,i=0;(n[i]!==t||r[i]!==e)&&n.length>i;)i++;return!(i>=n.length)&&(r.splice(i,1),n.splice(i,1),!0)}function w(e,t){var n=this._context0,r=this._callable0,i=this._context1,o=this._callable1,a=this._context2,s=this._callable2,u=this._contextsRest?this._contextsRest.length:0,l=void 0,c=void 0,f=void 0,h=void 0;if(u){for(f=et.length;f--&&et[f];);for(f<0?(f=et.length,l=[],c=[],et.push(!0),Qe.push(l),Je.push(c)):(et[f]=!0,l=Qe[f],c=Je[f]),h=u;h--;)l[h]=this._contextsRest[h],c[h]=this._callablesRest[h]}if(n&&(r?r.call(n,e,t):n(e,t)),i&&(o?o.call(i,e,t):i(e,t)),a&&(s?s.call(a,e,t):a(e,t)),u){for(h=0;h<u;h++){var d=c[h],p=l[h];d?d.call(p,e,t):p(e,t),l[h]=null,c[h]=null}et[f]=!1}}function x(){return!!(this._context0||this._context1||this._context2||this._contextsRest&&this._contextsRest.length)}function _(e,t){if(this._context0===e&&this._callable0===t||this._context1===e&&this._callable1===t||this._context2===e&&this._callable2===t)return!0;var n=void 0,r=this._contextsRest;if(!r||0===(n=r.length))return!1;for(var i=this._callablesRest;n--;)if(r[n]===e&&i[n]===t)return!0;return!1}function k(){return function(e){e.prototype.addSubscriber=y,e.prototype.removeSubscriber=b,e.prototype.callSubscribers=w,e.prototype.hasSubscribers=x,e.prototype.hasSubscriber=_}}function S(e){return+e==e>>>0}function O(e){return+e}function T(e,t,n){return{index:e,removed:t,addedCount:n}}function C(){}function E(e,t,n,r,i,o){return nt.calcSplices(e,t,n,r,i,o)}function P(e,t,n,r){return t<n||r<e?-1:t===n||r===e?0:e<n?t<r?t-n:r-n:r<t?r-e:t-e}function M(e,t,n,r){for(var i=T(t,n,r),o=!1,a=0,s=0;s<e.length;s++){var u=e[s];if(u.index+=a,!o){var l=P(i.index,i.index+i.removed.length,u.index,u.index+u.addedCount);if(l>=0){e.splice(s,1),s--,a-=u.addedCount-u.removed.length,i.addedCount+=u.addedCount-l;var c=i.removed.length+u.removed.length-l;if(i.addedCount||c){var f=u.removed;if(i.index<u.index){var h=i.removed.slice(0,u.index-i.index);Array.prototype.push.apply(h,f),f=h}if(i.index+i.removed.length>u.index+u.addedCount){var d=i.removed.slice(u.index+u.addedCount-i.index);Array.prototype.push.apply(f,d)}i.removed=f,u.index<i.index&&(i.index=u.index)}else o=!0}else if(i.index<u.index){o=!0,e.splice(s,0,i),s++;var p=i.addedCount-i.removed.length;u.index+=p,a+=p}}}o||e.push(i)}function A(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r];switch(i.type){case"splice":M(n,i.index,i.removed.slice(),i.addedCount);break;case"add":case"update":case"delete":if(!S(i.name))continue;var o=O(i.name);if(o<0)continue;M(n,o,[i.oldValue],"delete"===i.type?0:1);break;default:console.error("Unexpected record type: "+JSON.stringify(i))}}return n}function j(e,t){var n=[];return A(e,t).forEach(function(t){if(1===t.addedCount&&1===t.removed.length)return void(t.removed[0]!==e[t.index]&&n.push(t));n=n.concat(E(e,t.index,t.index+t.addedCount,t.removed,0,t.removed.length))}),n}function R(e,t,n,r){return{type:e,object:t,key:n,oldValue:r}}function I(e){for(var t=new Array(e.size),n=e.keys(),r=0,i=void 0;(i=n.next())&&!i.done;)t[r]=R("added",e,i.value),r++;return t}function L(e,t){return ht.for(e,t)}function D(e,t,n){for(var r=t.length,i=[],o=0;o<r;o++)i[o]=t[o].evaluate(e,n);return i}function N(e,t){return null!==e&&null!==t?"string"==typeof e&&"string"!=typeof t?e+t.toString():"string"!=typeof e&&"string"==typeof t?e.toString()+t:e+t:null!==e?e:null!==t?t:0}function B(e,t,n){var r=null===e||void 0===e?null:e[t];if("function"==typeof r)return r;if(!n&&(null===r||void 0===r))return null;throw new Error(t+" is not a function")}function F(e,t){if(Array.isArray(e))return e[parseInt(t,10)];if(e)return e[t];if(null!==e&&void 0!==e)return e[t]}function V(e,t,n){if(Array.isArray(e)){var r=parseInt(t,10);e.length<=r&&(e.length=r+1),e[r]=n}else e[t]=n;return n}function z(e){var t=new Rt;return e.accept(t)}function H(e){return e>=Vt&&e<=Wt||e===Ln}function U(e){return kn<=e&&e<=An||vn<=e&&e<=mn||e===_n||e===Xt}function q(e){return kn<=e&&e<=An||vn<=e&&e<=mn||dn<=e&&e<=pn||e===_n||e===Xt}function W(e){return dn<=e&&e<=pn}function G(e){return e===Sn||e===gn}function Y(e){return e===rn||e===tn}function X(e){switch(e){case Tn:return zt;case On:return Ut;case Cn:return qt;case En:return Vt;case Mn:return Ht;default:return e}}function Z(e,t){if(!e)throw t||"Assertion failed"}function K(e,t){return Vn.for(e,t)}function $(e){return e.path&&e.path[0]||e.deepPath&&e.deepPath[0]||e.target}function Q(){this.standardStopPropagation(),this.propagationStopped=!0}function J(e){e.standardStopPropagation=e.stopPropagation,e.stopPropagation=Q}function ee(e){var t=!1;e.propagationStopped=!1;for(var n=$(e),r=[];n;){if(n.capturedCallbacks){var i=n.capturedCallbacks[e.type];i&&(t||(J(e),t=!0),r.push(i))}n=n.parentNode}for(var o=r.length-1;o>=0;o--){var a=r[o];if("handleEvent"in a?a.handleEvent(e):a(e),e.propagationStopped)break}}function te(e){var t=!1;e.propagationStopped=!1;for(var n=$(e);n&&!e.propagationStopped;){if(n.delegatedCallbacks){var r=n.delegatedCallbacks[e.type];r&&(t||(J(e),t=!0),"handleEvent"in r?r.handleEvent(e):r(e))}n=n.parentNode}}function ne(e){return!!(e&&e.get&&e.get.dependencies)}function re(e,t,n){Object.getOwnPropertyDescriptor(e.prototype,t).get.dependencies=n}function ie(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){return r.get.dependencies=t,r}}function oe(e,t,n,r){var i=n.get.dependencies;if(!(i instanceof ar)){for(var o=i.length;o--;)i[o]=r.parser.parse(i[o]);i=n.get.dependencies=new ar(t,i)}var a={bindingContext:e,overrideContext:u(e)};return new tt(a,i,r)}function ae(e){if(void 0===e||"string"==typeof e)return function(t){i.metadata.define(i.metadata.resource,new br(e),t)};i.metadata.define(i.metadata.resource,new br,e)}function se(e){if(void 0===e||"string"==typeof e)return function(t){i.metadata.define(i.metadata.resource,new wr(e),t)};i.metadata.define(i.metadata.resource,new wr,e)}function ue(e){var t=e.au;if(void 0===t)throw new Error('No Aurelia APIs are defined for the element: "'+e.tagName+'".');return t}function le(e,t){return Or.for(e,t)}function ce(e,t,n){function r(e,t,n,r){var i=void 0===t;i&&(e=e.prototype,t="string"==typeof r?r:r.name);var o="_"+t,a={configurable:!0,enumerable:!1,writable:!0},s=r&&r.changeHandler||t+"Changed";if(n?"function"==typeof n.initializer&&(a.value=n.initializer()):n={},"enumerable"in n||(n.enumerable=!0),delete n.value,delete n.writable,delete n.initializer,Reflect.defineProperty(e,o,a),n.get=function(){return this[o]},n.set=function(e){var n=this[o];e!==n&&(this[o]=e,Reflect.defineProperty(this,o,{enumerable:!1}),this[s]&&this[s](e,n,t))},n.get.dependencies=[o],!i)return n;Reflect.defineProperty(e,t,n)}return void 0===t?function(t,n,i){return r(t,n,i,e)}:r(e,t,n)}function fe(e,t){Tr.hasOwnProperty(t)||(Tr[t]=0),e.observeProperty(Tr,t)}function he(e){Tr.hasOwnProperty(e)&&Tr[e]++}Object.defineProperty(e,"__esModule",{value:!0}),e.getSetObserver=e.BindingEngine=e.NameExpression=e.Listener=e.ListenerExpression=e.BindingBehaviorResource=e.ValueConverterResource=e.Call=e.CallExpression=e.Binding=e.BindingExpression=e.ObjectObservationAdapter=e.ObserverLocator=e.SVGAnalyzer=e.presentationAttributes=e.presentationElements=e.elements=e.ComputedExpression=e.ClassObserver=e.SelectValueObserver=e.CheckedObserver=e.ValueAttributeObserver=e.StyleObserver=e.DataAttributeObserver=e.dataAttributeAccessor=e.XLinkAttributeObserver=e.SetterObserver=e.PrimitiveObserver=e.propertyAccessor=e.DirtyCheckProperty=e.DirtyChecker=e.EventManager=e.delegationStrategy=e.getMapObserver=e.ParserImplementation=e.Parser=e.Scanner=e.Lexer=e.Token=e.bindingMode=e.ExpressionCloner=e.Unparser=e.LiteralObject=e.LiteralArray=e.LiteralString=e.LiteralPrimitive=e.PrefixNot=e.Binary=e.CallFunction=e.CallMember=e.CallScope=e.AccessKeyed=e.AccessMember=e.AccessScope=e.AccessThis=e.Conditional=e.Assign=e.ValueConverter=e.BindingBehavior=e.Chain=e.Expression=e.getArrayObserver=e.CollectionLengthObserver=e.ModifyCollectionObserver=e.ExpressionObserver=e.sourceContext=e.targetContext=void 0,e.camelCase=s,e.createOverrideContext=u,e.getContextFor=l,e.createScopeForTest=c,e.connectable=v,e.enqueueBindingConnect=m,e.subscriberCollection=k,e.calcSplices=E,e.mergeSplice=M,e.projectArraySplices=j,e.getChangeRecords=I,e.cloneExpression=z,e.hasDeclaredDependencies=ne,e.declarePropertyDependencies=re,e.computedFrom=ie,e.createComputedObserver=oe,e.valueConverter=ae,e.bindingBehavior=se,e.observable=ce,e.connectBindingToSignal=fe,e.signalBindings=he;for(var de,pe,ve,ge,me,ye,be,we,xe,_e,ke,Se,Oe,Te,Ce,Ee,Pe,Me,Ae,je,Re,Ie,Le,De=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},Be=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Fe=e.targetContext="Binding:target",Ve=e.sourceContext="Binding:source",ze=Object.create(null),He=[],Ue=[],qe=0;qe<100;qe++)He.push("_observer"+qe),Ue.push("_observerVersion"+qe);var We=[],Ge={},Ye=0,Xe=100,Ze=15,Ke=!1,$e=0,Qe=[],Je=[],et=[],tt=e.ExpressionObserver=(de=v(),pe=k(),de(ve=pe(ve=function(){function e(e,t,n,r){this.scope=e,this.expression=t,this.observerLocator=n,this.lookupFunctions=r}return e.prototype.getValue=function(){return this.expression.evaluate(this.scope,this.lookupFunctions)},e.prototype.setValue=function(e){this.expression.assign(this.scope,e)},e.prototype.subscribe=function(e,t){var n=this;if(this.hasSubscribers()||(this.oldValue=this.expression.evaluate(this.scope,this.lookupFunctions),this.expression.connect(this,this.scope)),this.addSubscriber(e,t),1===arguments.length&&e instanceof Function)return{dispose:function(){n.unsubscribe(e,t)}}},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&(this.unobserve(!0),this.oldValue=void 0)},e.prototype.call=function(){var e=this.expression.evaluate(this.scope,this.lookupFunctions),t=this.oldValue;e!==t&&(this.oldValue=e,this.callSubscribers(e,t)),this._version++,this.expression.connect(this,this.scope),this.unobserve(!1)},e}())||ve)||ve);C.prototype={calcEditDistances:function(e,t,n,r,i,o){for(var a=o-i+1,s=n-t+1,u=new Array(a),l=void 0,c=void 0,f=0;f<a;++f)u[f]=new Array(s),u[f][0]=f;for(var h=0;h<s;++h)u[0][h]=h;for(var d=1;d<a;++d)for(var p=1;p<s;++p)this.equals(e[t+p-1],r[i+d-1])?u[d][p]=u[d-1][p-1]:(l=u[d-1][p]+1,c=u[d][p-1]+1,u[d][p]=l<c?l:c);return u},spliceOperationsFromEditDistances:function(e){for(var t=e.length-1,n=e[0].length-1,r=e[t][n],i=[];t>0||n>0;)if(0!==t)if(0!==n){var o=e[t-1][n-1],a=e[t-1][n],s=e[t][n-1],u=void 0;u=a<s?a<o?a:o:s<o?s:o,u===o?(o===r?i.push(0):(i.push(1),r=o),t--,n--):u===a?(i.push(3),t--,r=a):(i.push(2),n--,r=s)}else i.push(3),t--;else i.push(2),n--;return i.reverse(),i},calcSplices:function(e,t,n,r,i,o){var a=0,s=0,u=Math.min(n-t,o-i);if(0===t&&0===i&&(a=this.sharedPrefix(e,r,u)),n===e.length&&o===r.length&&(s=this.sharedSuffix(e,r,u-a)),t+=a,i+=a,n-=s,o-=s,n-t==0&&o-i==0)return[];if(t===n){for(var l=T(t,[],0);i<o;)l.removed.push(r[i++]);return[l]}if(i===o)return[T(t,[],n-t)];for(var c=this.spliceOperationsFromEditDistances(this.calcEditDistances(e,t,n,r,i,o)),f=void 0,h=[],d=t,p=i,v=0;v<c.length;++v)switch(c[v]){case 0:f&&(h.push(f),f=void 0),d++,p++;break;case 1:f||(f=T(d,[],0)),f.addedCount++,d++,f.removed.push(r[p]),p++;break;case 2:f||(f=T(d,[],0)),f.addedCount++,d++;break;case 3:f||(f=T(d,[],0)),f.removed.push(r[p]),p++}return f&&h.push(f),h},sharedPrefix:function(e,t,n){for(var r=0;r<n;++r)if(!this.equals(e[r],t[r]))return r;return n},sharedSuffix:function(e,t,n){for(var r=e.length,i=t.length,o=0;o<n&&this.equals(e[--r],t[--i]);)o++;return o},calculateSplices:function(e,t){return this.calcSplices(e,0,e.length,t,0,t.length)},equals:function(e,t){return e===t}};var nt=new C,rt=e.ModifyCollectionObserver=(ge=k())(me=function(){function e(e,t){this.taskQueue=e,this.queued=!1,this.changeRecords=null,this.oldCollection=null,this.collection=t,this.lengthPropertyName=t instanceof Map||t instanceof Set?"size":"length"}return e.prototype.subscribe=function(e,t){this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)},e.prototype.addChangeRecord=function(e){if(this.hasSubscribers()||this.lengthObserver){if("splice"===e.type){var t=e.index,n=e.object.length;t>n?t=n-e.addedCount:t<0&&(t=n+e.removed.length+t-e.addedCount),t<0&&(t=0),e.index=t}null===this.changeRecords?this.changeRecords=[e]:this.changeRecords.push(e),this.queued||(this.queued=!0,this.taskQueue.queueMicroTask(this))}},e.prototype.flushChangeRecords=function(){(this.changeRecords&&this.changeRecords.length||this.oldCollection)&&this.call()},e.prototype.reset=function(e){this.oldCollection=e,this.hasSubscribers()&&!this.queued&&(this.queued=!0,this.taskQueue.queueMicroTask(this))},e.prototype.getLengthObserver=function(){return this.lengthObserver||(this.lengthObserver=new it(this.collection))},e.prototype.call=function(){var e=this.changeRecords,t=this.oldCollection,n=void 0;this.queued=!1,this.changeRecords=[],this.oldCollection=null,this.hasSubscribers()&&(n=t?this.collection instanceof Map||this.collection instanceof Set?I(t):E(this.collection,0,this.collection.length,t,0,t.length):this.collection instanceof Map||this.collection instanceof Set?e:j(this.collection,e),this.callSubscribers(n)),this.lengthObserver&&this.lengthObserver.call(this.collection[this.lengthPropertyName])},e}())||me,it=e.CollectionLengthObserver=(ye=k())(be=function(){function e(e){this.collection=e,this.lengthPropertyName=e instanceof Map||e instanceof Set?"size":"length",this.currentValue=e[this.lengthPropertyName]}return e.prototype.getValue=function(){return this.collection[this.lengthPropertyName]},e.prototype.setValue=function(e){this.collection[this.lengthPropertyName]=e},e.prototype.subscribe=function(e,t){this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)},e.prototype.call=function(e){var t=this.currentValue;this.callSubscribers(e,t),this.currentValue=e},e}())||be,ot=Array.prototype.pop,at=Array.prototype.push,st=Array.prototype.reverse,ut=Array.prototype.shift,lt=Array.prototype.sort,ct=Array.prototype.splice,ft=Array.prototype.unshift;Array.prototype.pop=function(){var e=this.length>0,t=ot.apply(this,arguments);return e&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:this.length,oldValue:t}),t},Array.prototype.push=function(){var e=at.apply(this,arguments)
;return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:this.length-arguments.length,removed:[],addedCount:arguments.length}),e},Array.prototype.reverse=function(){var e=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),e=this.slice());var t=st.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(e),t},Array.prototype.shift=function(){var e=this.length>0,t=ut.apply(this,arguments);return e&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:0,oldValue:t}),t},Array.prototype.sort=function(){var e=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),e=this.slice());var t=lt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(e),t},Array.prototype.splice=function(){var e=ct.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:+arguments[0],removed:e,addedCount:arguments.length>2?arguments.length-2:0}),e},Array.prototype.unshift=function(){var e=ft.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:0,removed:[],addedCount:arguments.length}),e},e.getArrayObserver=L;var ht=function(e){function t(t,n){return o(this,e.call(this,t,n))}return a(t,e),t.for=function(e,n){return"__array_observer__"in n||Reflect.defineProperty(n,"__array_observer__",{value:t.create(e,n),enumerable:!1,configurable:!1}),n.__array_observer__},t.create=function(e,n){return new t(e,n)},t}(rt),dt=e.Expression=function(){function e(){this.isChain=!1,this.isAssignable=!1}return e.prototype.evaluate=function(e,t,n){throw new Error('Binding expression "'+this+'" cannot be evaluated.')},e.prototype.assign=function(e,t,n){throw new Error('Binding expression "'+this+'" cannot be assigned to.')},e.prototype.toString=function(){return"undefined"==typeof FEATURE_NO_UNPARSER?jt.unparse(this):Function.prototype.toString.call(this)},e}(),pt=e.Chain=function(e){function t(t){var n=o(this,e.call(this));return n.expressions=t,n.isChain=!0,n}return a(t,e),t.prototype.evaluate=function(e,t){for(var n=void 0,r=this.expressions,i=void 0,o=0,a=r.length;o<a;++o)null!==(i=r[o].evaluate(e,t))&&(n=i);return n},t.prototype.accept=function(e){return e.visitChain(this)},t}(dt),vt=e.BindingBehavior=function(e){function t(t,n,r){var i=o(this,e.call(this));return i.expression=t,i.name=n,i.args=r,i}return a(t,e),t.prototype.evaluate=function(e,t){return this.expression.evaluate(e,t)},t.prototype.assign=function(e,t,n){return this.expression.assign(e,t,n)},t.prototype.accept=function(e){return e.visitBindingBehavior(this)},t.prototype.connect=function(e,t){this.expression.connect(e,t)},t.prototype.bind=function(e,t,n){this.expression.expression&&this.expression.bind&&this.expression.bind(e,t,n);var r=n.bindingBehaviors(this.name);if(!r)throw new Error('No BindingBehavior named "'+this.name+'" was found!');var i="behavior-"+this.name;if(e[i])throw new Error('A binding behavior named "'+this.name+'" has already been applied to "'+this.expression+'"');e[i]=r,r.bind.apply(r,[e,t].concat(D(t,this.args,e.lookupFunctions)))},t.prototype.unbind=function(e,t){var n="behavior-"+this.name;e[n].unbind(e,t),e[n]=null,this.expression.expression&&this.expression.unbind&&this.expression.unbind(e,t)},t}(dt),gt=e.ValueConverter=function(e){function t(t,n,r,i){var a=o(this,e.call(this));return a.expression=t,a.name=n,a.args=r,a.allArgs=i,a}return a(t,e),t.prototype.evaluate=function(e,t){var n=t.valueConverters(this.name);if(!n)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"toView"in n?n.toView.apply(n,D(e,this.allArgs,t)):this.allArgs[0].evaluate(e,t)},t.prototype.assign=function(e,t,n){var r=n.valueConverters(this.name);if(!r)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"fromView"in r&&(t=r.fromView.apply(r,[t].concat(D(e,this.args,n)))),this.allArgs[0].assign(e,t,n)},t.prototype.accept=function(e){return e.visitValueConverter(this)},t.prototype.connect=function(e,t){for(var n=this.allArgs,r=n.length;r--;)n[r].connect(e,t);var i=e.lookupFunctions.valueConverters(this.name);if(!i)throw new Error('No ValueConverter named "'+this.name+'" was found!');var o=i.signals;if(void 0!==o)for(r=o.length;r--;)fe(e,o[r])},t}(dt),mt=e.Assign=function(e){function t(t,n){var r=o(this,e.call(this));return r.target=t,r.value=n,r.isAssignable=!0,r}return a(t,e),t.prototype.evaluate=function(e,t){return this.target.assign(e,this.value.evaluate(e,t))},t.prototype.accept=function(e){e.visitAssign(this)},t.prototype.connect=function(e,t){},t.prototype.assign=function(e,t){this.value.assign(e,t),this.target.assign(e,t)},t}(dt),yt=e.Conditional=function(e){function t(t,n,r){var i=o(this,e.call(this));return i.condition=t,i.yes=n,i.no=r,i}return a(t,e),t.prototype.evaluate=function(e,t){return this.condition.evaluate(e,t)?this.yes.evaluate(e,t):this.no.evaluate(e,t)},t.prototype.accept=function(e){return e.visitConditional(this)},t.prototype.connect=function(e,t){this.condition.connect(e,t),this.condition.evaluate(t)?this.yes.connect(e,t):this.no.connect(e,t)},t}(dt),bt=e.AccessThis=function(e){function t(t){var n=o(this,e.call(this));return n.ancestor=t,n}return a(t,e),t.prototype.evaluate=function(e,t){for(var n=e.overrideContext,r=this.ancestor;r--&&n;)n=n.parentOverrideContext;return r<1&&n?n.bindingContext:void 0},t.prototype.accept=function(e){return e.visitAccessThis(this)},t.prototype.connect=function(e,t){},t}(dt),wt=e.AccessScope=function(e){function t(t,n){var r=o(this,e.call(this));return r.name=t,r.ancestor=n,r.isAssignable=!0,r}return a(t,e),t.prototype.evaluate=function(e,t){return l(this.name,e,this.ancestor)[this.name]},t.prototype.assign=function(e,t){var n=l(this.name,e,this.ancestor);return n?n[this.name]=t:void 0},t.prototype.accept=function(e){return e.visitAccessScope(this)},t.prototype.connect=function(e,t){var n=l(this.name,t,this.ancestor);e.observeProperty(n,this.name)},t}(dt),xt=e.AccessMember=function(e){function t(t,n){var r=o(this,e.call(this));return r.object=t,r.name=n,r.isAssignable=!0,r}return a(t,e),t.prototype.evaluate=function(e,t){var n=this.object.evaluate(e,t);return null===n||void 0===n?n:n[this.name]},t.prototype.assign=function(e,t){var n=this.object.evaluate(e);return null!==n&&void 0!==n||(n={},this.object.assign(e,n)),n[this.name]=t,t},t.prototype.accept=function(e){return e.visitAccessMember(this)},t.prototype.connect=function(e,t){this.object.connect(e,t);var n=this.object.evaluate(t);n&&e.observeProperty(n,this.name)},t}(dt),_t=e.AccessKeyed=function(e){function t(t,n){var r=o(this,e.call(this));return r.object=t,r.key=n,r.isAssignable=!0,r}return a(t,e),t.prototype.evaluate=function(e,t){return F(this.object.evaluate(e,t),this.key.evaluate(e,t))},t.prototype.assign=function(e,t){return V(this.object.evaluate(e),this.key.evaluate(e),t)},t.prototype.accept=function(e){return e.visitAccessKeyed(this)},t.prototype.connect=function(e,t){this.object.connect(e,t);var n=this.object.evaluate(t);if(n instanceof Object){this.key.connect(e,t);var r=this.key.evaluate(t);null===r||void 0===r||Array.isArray(n)&&"number"==typeof r||e.observeProperty(n,r)}},t}(dt),kt=e.CallScope=function(e){function t(t,n,r){var i=o(this,e.call(this));return i.name=t,i.args=n,i.ancestor=r,i}return a(t,e),t.prototype.evaluate=function(e,t,n){var r=D(e,this.args,t),i=l(this.name,e,this.ancestor),o=B(i,this.name,n);if(o)return o.apply(i,r)},t.prototype.accept=function(e){return e.visitCallScope(this)},t.prototype.connect=function(e,t){for(var n=this.args,r=n.length;r--;)n[r].connect(e,t)},t}(dt),St=e.CallMember=function(e){function t(t,n,r){var i=o(this,e.call(this));return i.object=t,i.name=n,i.args=r,i}return a(t,e),t.prototype.evaluate=function(e,t,n){var r=this.object.evaluate(e,t),i=D(e,this.args,t),o=B(r,this.name,n);if(o)return o.apply(r,i)},t.prototype.accept=function(e){return e.visitCallMember(this)},t.prototype.connect=function(e,t){if(this.object.connect(e,t),B(this.object.evaluate(t),this.name,!1))for(var n=this.args,r=n.length;r--;)n[r].connect(e,t)},t}(dt),Ot=e.CallFunction=function(e){function t(t,n){var r=o(this,e.call(this));return r.func=t,r.args=n,r}return a(t,e),t.prototype.evaluate=function(e,t,n){var r=this.func.evaluate(e,t);if("function"==typeof r)return r.apply(null,D(e,this.args,t));if(n||null!==r&&void 0!==r)throw new Error(this.func+" is not a function")},t.prototype.accept=function(e){return e.visitCallFunction(this)},t.prototype.connect=function(e,t){if(this.func.connect(e,t),"function"==typeof this.func.evaluate(t))for(var n=this.args,r=n.length;r--;)n[r].connect(e,t)},t}(dt),Tt=e.Binary=function(e){function t(t,n,r){var i=o(this,e.call(this));return i.operation=t,i.left=n,i.right=r,i}return a(t,e),t.prototype.evaluate=function(e,t){var n=this.left.evaluate(e,t);switch(this.operation){case"&&":return n&&this.right.evaluate(e,t);case"||":return n||this.right.evaluate(e,t)}var r=this.right.evaluate(e,t);switch(this.operation){case"==":return n==r;case"===":return n===r;case"!=":return n!=r;case"!==":return n!==r}if(null===n||null===r||void 0===n||void 0===r){switch(this.operation){case"+":return null!==n&&void 0!==n?n:null!==r&&void 0!==r?r:0;case"-":return null!==n&&void 0!==n?n:null!==r&&void 0!==r?0-r:0}return null}switch(this.operation){case"+":return N(n,r);case"-":return n-r;case"*":return n*r;case"/":return n/r;case"%":return n%r;case"<":return n<r;case">":return n>r;case"<=":return n<=r;case">=":return n>=r;case"^":return n^r}throw new Error("Internal error ["+this.operation+"] not handled")},t.prototype.accept=function(e){return e.visitBinary(this)},t.prototype.connect=function(e,t){this.left.connect(e,t);var n=this.left.evaluate(t);"&&"===this.operation&&!n||"||"===this.operation&&n||this.right.connect(e,t)},t}(dt),Ct=e.PrefixNot=function(e){function t(t,n){var r=o(this,e.call(this));return r.operation=t,r.expression=n,r}return a(t,e),t.prototype.evaluate=function(e,t){return!this.expression.evaluate(e,t)},t.prototype.accept=function(e){return e.visitPrefix(this)},t.prototype.connect=function(e,t){this.expression.connect(e,t)},t}(dt),Et=e.LiteralPrimitive=function(e){function t(t){var n=o(this,e.call(this));return n.value=t,n}return a(t,e),t.prototype.evaluate=function(e,t){return this.value},t.prototype.accept=function(e){return e.visitLiteralPrimitive(this)},t.prototype.connect=function(e,t){},t}(dt),Pt=e.LiteralString=function(e){function t(t){var n=o(this,e.call(this));return n.value=t,n}return a(t,e),t.prototype.evaluate=function(e,t){return this.value},t.prototype.accept=function(e){return e.visitLiteralString(this)},t.prototype.connect=function(e,t){},t}(dt),Mt=e.LiteralArray=function(e){function t(t){var n=o(this,e.call(this));return n.elements=t,n}return a(t,e),t.prototype.evaluate=function(e,t){for(var n=this.elements,r=[],i=0,o=n.length;i<o;++i)r[i]=n[i].evaluate(e,t);return r},t.prototype.accept=function(e){return e.visitLiteralArray(this)},t.prototype.connect=function(e,t){for(var n=this.elements.length,r=0;r<n;r++)this.elements[r].connect(e,t)},t}(dt),At=e.LiteralObject=function(e){function t(t,n){var r=o(this,e.call(this));return r.keys=t,r.values=n,r}return a(t,e),t.prototype.evaluate=function(e,t){for(var n={},r=this.keys,i=this.values,o=0,a=r.length;o<a;++o)n[r[o]]=i[o].evaluate(e,t);return n},t.prototype.accept=function(e){return e.visitLiteralObject(this)},t.prototype.connect=function(e,t){for(var n=this.keys.length,r=0;r<n;r++)this.values[r].connect(e,t)},t}(dt),jt=null;e.Unparser=jt,"undefined"==typeof FEATURE_NO_UNPARSER&&(e.Unparser=jt=function(){function e(e){this.buffer=e}return e.unparse=function(e){var t=[],n=new jt(t);return e.accept(n),t.join("")},e.prototype.write=function(e){this.buffer.push(e)},e.prototype.writeArgs=function(e){this.write("(");for(var t=0,n=e.length;t<n;++t)0!==t&&this.write(","),e[t].accept(this);this.write(")")},e.prototype.visitChain=function(e){for(var t=e.expressions,n=0,r=expression.length;n<r;++n)0!==n&&this.write(";"),t[n].accept(this)},e.prototype.visitBindingBehavior=function(e){var t=e.args;e.expression.accept(this),this.write("&"+e.name);for(var n=0,r=t.length;n<r;++n)this.write(":"),t[n].accept(this)},e.prototype.visitValueConverter=function(e){var t=e.args;e.expression.accept(this),this.write("|"+e.name);for(var n=0,r=t.length;n<r;++n)this.write(":"),t[n].accept(this)},e.prototype.visitAssign=function(e){e.target.accept(this),this.write("="),e.value.accept(this)},e.prototype.visitConditional=function(e){e.condition.accept(this),this.write("?"),e.yes.accept(this),this.write(":"),e.no.accept(this)},e.prototype.visitAccessThis=function(e){if(0===e.ancestor)return void this.write("$this");this.write("$parent");for(var t=e.ancestor-1;t--;)this.write(".$parent")},e.prototype.visitAccessScope=function(e){for(var t=e.ancestor;t--;)this.write("$parent.");this.write(e.name)},e.prototype.visitAccessMember=function(e){e.object.accept(this),this.write("."+e.name)},e.prototype.visitAccessKeyed=function(e){e.object.accept(this),this.write("["),e.key.accept(this),this.write("]")},e.prototype.visitCallScope=function(e){for(var t=e.ancestor;t--;)this.write("$parent.");this.write(e.name),this.writeArgs(e.args)},e.prototype.visitCallFunction=function(e){e.func.accept(this),this.writeArgs(e.args)},e.prototype.visitCallMember=function(e){e.object.accept(this),this.write("."+e.name),this.writeArgs(e.args)},e.prototype.visitPrefix=function(e){this.write("("+e.operation),e.expression.accept(this),this.write(")")},e.prototype.visitBinary=function(e){e.left.accept(this),this.write(e.operation),e.right.accept(this)},e.prototype.visitLiteralPrimitive=function(e){this.write(""+e.value)},e.prototype.visitLiteralArray=function(e){var t=e.elements;this.write("[");for(var n=0,r=t.length;n<r;++n)0!==n&&this.write(","),t[n].accept(this);this.write("]")},e.prototype.visitLiteralObject=function(e){var t=e.keys,n=e.values;this.write("{");for(var r=0,i=t.length;r<i;++r)0!==r&&this.write(","),this.write("'"+t[r]+"':"),n[r].accept(this);this.write("}")},e.prototype.visitLiteralString=function(e){var t=e.value.replace(/'/g,"'");this.write("'"+t+"'")},e}());var Rt=e.ExpressionCloner=function(){function e(){}return e.prototype.cloneExpressionArray=function(e){for(var t=[],n=e.length;n--;)t[n]=e[n].accept(this);return t},e.prototype.visitChain=function(e){return new pt(this.cloneExpressionArray(e.expressions))},e.prototype.visitBindingBehavior=function(e){return new vt(e.expression.accept(this),e.name,this.cloneExpressionArray(e.args))},e.prototype.visitValueConverter=function(e){return new gt(e.expression.accept(this),e.name,this.cloneExpressionArray(e.args))},e.prototype.visitAssign=function(e){return new mt(e.target.accept(this),e.value.accept(this))},e.prototype.visitConditional=function(e){return new yt(e.condition.accept(this),e.yes.accept(this),e.no.accept(this))},e.prototype.visitAccessThis=function(e){return new bt(e.ancestor)},e.prototype.visitAccessScope=function(e){return new wt(e.name,e.ancestor)},e.prototype.visitAccessMember=function(e){return new xt(e.object.accept(this),e.name)},e.prototype.visitAccessKeyed=function(e){return new _t(e.object.accept(this),e.key.accept(this))},e.prototype.visitCallScope=function(e){return new kt(e.name,this.cloneExpressionArray(e.args),e.ancestor)},e.prototype.visitCallFunction=function(e){return new Ot(e.func.accept(this),this.cloneExpressionArray(e.args))},e.prototype.visitCallMember=function(e){return new St(e.object.accept(this),e.name,this.cloneExpressionArray(e.args))},e.prototype.visitPrefix=function(e){return new Ct(e.operation,e.expression.accept(this))},e.prototype.visitBinary=function(e){return new Tt(e.operation,e.left.accept(this),e.right.accept(this))},e.prototype.visitLiteralPrimitive=function(e){return new Et(e)},e.prototype.visitLiteralArray=function(e){return new Mt(this.cloneExpressionArray(e.elements))},e.prototype.visitLiteralObject=function(e){return new At(e.keys,this.cloneExpressionArray(e.values))},e.prototype.visitLiteralString=function(e){return new Pt(e.value)},e}(),It=e.bindingMode={oneTime:0,toView:1,oneWay:1,twoWay:2,fromView:3},Lt=e.Token=function(){function e(e,t){this.index=e,this.text=t}return e.prototype.withOp=function(e){return this.opKey=e,this},e.prototype.withGetterSetter=function(e){return this.key=e,this},e.prototype.withValue=function(e){return this.value=e,this},e.prototype.toString=function(){return"Token("+this.text+")"},e}(),Dt=e.Lexer=function(){function e(){}return e.prototype.lex=function(e){for(var t=new Nt(e),n=[],r=t.scanToken();r;)n.push(r),r=t.scanToken();return n},e}(),Nt=e.Scanner=function(){function e(e){this.input=e,this.length=e.length,this.peek=0,this.index=-1,this.advance()}return e.prototype.scanToken=function(){for(;this.peek<=Wt;){if(++this.index>=this.length)return this.peek=Ft,null;this.peek=this.input.charCodeAt(this.index)}if(U(this.peek))return this.scanIdentifier();if(W(this.peek))return this.scanNumber(this.index);var e=this.index;switch(this.peek){case on:return this.advance(),W(this.peek)?this.scanNumber(e):new Lt(e,".");case Qt:case Jt:case jn:case In:case yn:case wn:case nn:case sn:case un:return this.scanCharacter(e,String.fromCharCode(this.peek));case $t:case Yt:return this.scanString();case tn:case rn:case en:case an:case Zt:case xn:case hn:return this.scanOperator(e,String.fromCharCode(this.peek));case ln:case fn:case Gt:case cn:return this.scanComplexOperator(e,cn,String.fromCharCode(this.peek),"=");case Kt:return this.scanComplexOperator(e,Kt,"&","&");case Rn:return this.scanComplexOperator(e,Rn,"|","|");case Ln:for(;H(this.peek);)this.advance();return this.scanToken()}var t=String.fromCharCode(this.peek);return this.error("Unexpected character ["+t+"]"),null},e.prototype.scanCharacter=function(e,t){return Z(this.peek===t.charCodeAt(0)),this.advance(),new Lt(e,t)},e.prototype.scanOperator=function(e,t){return Z(this.peek===t.charCodeAt(0)),Z(1===Bt[t]),this.advance(),new Lt(e,t).withOp(t)},e.prototype.scanComplexOperator=function(e,t,n,r){Z(this.peek===n.charCodeAt(0)),this.advance();var i=n;return this.peek===t&&(this.advance(),i+=r),this.peek===t&&(this.advance(),i+=r),Z(1===Bt[i]),new Lt(e,i).withOp(i)},e.prototype.scanIdentifier=function(){Z(U(this.peek));var e=this.index;for(this.advance();q(this.peek);)this.advance();var t=this.input.substring(e,this.index),n=new Lt(e,t);return 1===Bt[t]?n.withOp(t):n.withGetterSetter(t),n},e.prototype.scanNumber=function(e){Z(W(this.peek));var t=this.index===e;for(this.advance();;){if(!W(this.peek))if(this.peek===on)t=!1;else{if(!G(this.peek))break;this.advance(),Y(this.peek)&&this.advance(),W(this.peek)||this.error("Invalid exponent",-1),t=!1}this.advance()}var n=this.input.substring(e,this.index),r=t?parseInt(n,10):parseFloat(n);return new Lt(e,n).withValue(r)},e.prototype.scanString=function(){Z(this.peek===$t||this.peek===Yt);var e=this.index,t=this.peek;this.advance();for(var n=void 0,r=this.index;this.peek!==t;)if(this.peek===bn){n||(n=[]),n.push(this.input.substring(r,this.index)),this.advance();var i=void 0;if(this.peek===Pn){var o=this.input.substring(this.index+1,this.index+5);/[A-Z0-9]{4}/.test(o)||this.error("Invalid unicode escape [\\u"+o+"]"),i=parseInt(o,16);for(var a=0;a<5;++a)this.advance()}else i=X(this.peek),this.advance();n.push(String.fromCharCode(i)),r=this.index}else this.peek===Ft?this.error("Unterminated quote"):this.advance();var s=this.input.substring(r,this.index);this.advance();var u=this.input.substring(e,this.index),l=s;return null!==n&&void 0!==n&&(n.push(s),l=n.join("")),new Lt(e,u).withValue(l)},e.prototype.advance=function(){++this.index>=this.length?this.peek=Ft:this.peek=this.input.charCodeAt(this.index)},e.prototype.error=function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=this.index+t;throw new Error("Lexer Error: "+e+" at column "+n+" in expression ["+this.input+"]")},e}(),Bt={undefined:1,null:1,true:1,false:1,"+":1,"-":1,"*":1,"/":1,"%":1,"^":1,"=":1,"==":1,"===":1,"!=":1,"!==":1,"<":1,">":1,"<=":1,">=":1,"&&":1,"||":1,"&":1,"|":1,"!":1,"?":1},Ft=0,Vt=9,zt=10,Ht=11,Ut=12,qt=13,Wt=32,Gt=33,Yt=34,Xt=36,Zt=37,Kt=38,$t=39,Qt=40,Jt=41,en=42,tn=43,nn=44,rn=45,on=46,an=47,sn=58,un=59,ln=60,cn=61,fn=62,hn=63,dn=48,pn=57,vn=65,gn=69,mn=90,yn=91,bn=92,wn=93,xn=94,_n=95,kn=97,Sn=101,On=102,Tn=110,Cn=114,En=116,Pn=117,Mn=118,An=122,jn=123,Rn=124,In=125,Ln=160,Dn=new Lt(-1,null),Nn=e.Parser=function(){function e(){this.cache={},this.lexer=new Dt}return e.prototype.parse=function(e){return e=e||"",this.cache[e]||(this.cache[e]=new Bn(this.lexer,e).parseChain())},e}(),Bn=e.ParserImplementation=function(){function e(e,t){this.index=0,this.input=t,this.tokens=e.lex(t)}return e.prototype.parseChain=function(){for(var e=!1,t=[];this.optional(";");)e=!0;for(;this.index<this.tokens.length;){")"!==this.peek.text&&"}"!==this.peek.text&&"]"!==this.peek.text||this.error("Unconsumed token "+this.peek.text);var n=this.parseBindingBehavior();for(t.push(n);this.optional(";");)e=!0;e&&this.error("Multiple expressions are not allowed.")}return 1===t.length?t[0]:new pt(t)},e.prototype.parseBindingBehavior=function(){for(var e=this.parseValueConverter();this.optional("&");){var t=this.peek.text,n=[];for(this.advance();this.optional(":");)n.push(this.parseExpression());e=new vt(e,t,n)}return e},e.prototype.parseValueConverter=function(){for(var e=this.parseExpression();this.optional("|");){var t=this.peek.text,n=[];for(this.advance();this.optional(":");)n.push(this.parseExpression());e=new gt(e,t,n,[e].concat(n))}return e},e.prototype.parseExpression=function(){for(var e=this.peek.index,t=this.parseConditional();"="===this.peek.text;){if(!t.isAssignable){var n=this.index<this.tokens.length?this.peek.index:this.input.length,r=this.input.substring(e,n);this.error("Expression "+r+" is not assignable")}this.expect("="),t=new mt(t,this.parseConditional())}return t},e.prototype.parseConditional=function(){var e=this.peek.index,t=this.parseLogicalOr();if(this.optional("?")){var n=this.parseExpression();if(!this.optional(":")){var r=this.index<this.tokens.length?this.peek.index:this.input.length,i=this.input.substring(e,r);this.error("Conditional expression "+i+" requires all 3 expressions")}var o=this.parseExpression();t=new yt(t,n,o)}return t},e.prototype.parseLogicalOr=function(){for(var e=this.parseLogicalAnd();this.optional("||");)e=new Tt("||",e,this.parseLogicalAnd());return e},e.prototype.parseLogicalAnd=function(){for(var e=this.parseEquality();this.optional("&&");)e=new Tt("&&",e,this.parseEquality());return e},e.prototype.parseEquality=function(){for(var e=this.parseRelational();;)if(this.optional("=="))e=new Tt("==",e,this.parseRelational());else if(this.optional("!="))e=new Tt("!=",e,this.parseRelational());else if(this.optional("==="))e=new Tt("===",e,this.parseRelational());else{if(!this.optional("!=="))return e;e=new Tt("!==",e,this.parseRelational())}},e.prototype.parseRelational=function(){for(var e=this.parseAdditive();;)if(this.optional("<"))e=new Tt("<",e,this.parseAdditive());else if(this.optional(">"))e=new Tt(">",e,this.parseAdditive());else if(this.optional("<="))e=new Tt("<=",e,this.parseAdditive());else{if(!this.optional(">="))return e;e=new Tt(">=",e,this.parseAdditive())}},e.prototype.parseAdditive=function(){for(var e=this.parseMultiplicative();;)if(this.optional("+"))e=new Tt("+",e,this.parseMultiplicative());else{if(!this.optional("-"))return e;e=new Tt("-",e,this.parseMultiplicative())}},e.prototype.parseMultiplicative=function(){for(var e=this.parsePrefix();;)if(this.optional("*"))e=new Tt("*",e,this.parsePrefix());else if(this.optional("%"))e=new Tt("%",e,this.parsePrefix());else{if(!this.optional("/"))return e;e=new Tt("/",e,this.parsePrefix())}},e.prototype.parsePrefix=function(){return this.optional("+")?this.parsePrefix():this.optional("-")?new Tt("-",new Et(0),this.parsePrefix()):this.optional("!")?new Ct("!",this.parsePrefix()):this.parseAccessOrCallMember()},e.prototype.parseAccessOrCallMember=function(){for(var e=this.parsePrimary();;)if(this.optional(".")){var t=this.peek.text;if(this.advance(),this.optional("(")){var n=this.parseExpressionList(")");this.expect(")"),e=e instanceof bt?new kt(t,n,e.ancestor):new St(e,t,n)}else e=e instanceof bt?new wt(t,e.ancestor):new xt(e,t)}else if(this.optional("[")){var r=this.parseExpression();this.expect("]"),e=new _t(e,r)}else{if(!this.optional("("))return e;var i=this.parseExpressionList(")");this.expect(")"),e=new Ot(e,i)}},e.prototype.parsePrimary=function(){if(this.optional("(")){var e=this.parseExpression();return this.expect(")"),e}if(this.optional("null"))return new Et(null);if(this.optional("undefined"))return new Et(void 0);if(this.optional("true"))return new Et(!0);if(this.optional("false"))return new Et(!1);if(this.optional("[")){var t=this.parseExpressionList("]");return this.expect("]"),new Mt(t)}if("{"===this.peek.text)return this.parseObject();if(null!==this.peek.key&&void 0!==this.peek.key)return this.parseAccessOrCallScope();if(null!==this.peek.value&&void 0!==this.peek.value){var n=this.peek.value;return this.advance(),n instanceof String||"string"==typeof n?new Pt(n):new Et(n)}if(this.index>=this.tokens.length)throw new Error("Unexpected end of expression: "+this.input);this.error("Unexpected token "+this.peek.text)},e.prototype.parseAccessOrCallScope=function(){var e=this.peek.key;if(this.advance(),"$this"===e)return new bt(0);for(var t=0;"$parent"===e;)if(t++,this.optional("."))e=this.peek.key,this.advance();else{if(this.peek===Dn||"("===this.peek.text||")"===this.peek.text||"["===this.peek.text||"}"===this.peek.text||","===this.peek.text||"|"===this.peek.text||"&"===this.peek.text)return new bt(t);this.error("Unexpected token "+this.peek.text)}if(this.optional("(")){var n=this.parseExpressionList(")");return this.expect(")"),new kt(e,n,t)}return new wt(e,t)},e.prototype.parseObject=function(){var e=[],t=[];if(this.expect("{"),"}"!==this.peek.text)do{var n=this.peek,r=n.value;e.push("string"==typeof r?r:n.text),this.advance(),!n.key||","!==this.peek.text&&"}"!==this.peek.text?(this.expect(":"),t.push(this.parseExpression())):(--this.index,t.push(this.parseAccessOrCallScope()))}while(this.optional(","));return this.expect("}"),new At(e,t)},e.prototype.parseExpressionList=function(e){var t=[];if(this.peek.text!==e)do{t.push(this.parseExpression())}while(this.optional(","));return t},e.prototype.optional=function(e){return this.peek.text===e&&(this.advance(),!0)},e.prototype.expect=function(e){this.peek.text===e?this.advance():this.error("Missing expected "+e)},e.prototype.advance=function(){this.index++},e.prototype.error=function(e){var t=this.index<this.tokens.length?"at column "+(this.tokens[this.index].index+1)+" in":"at the end of the expression";throw new Error("Parser Error: "+e+" "+t+" ["+this.input+"]")},Be(e,[{key:"peek",get:function(){return this.index<this.tokens.length?this.tokens[this.index]:Dn}}]),e}(),Fn=Map.prototype;e.getMapObserver=K;var Vn=function(e){function t(t,n){return o(this,e.call(this,t,n))}return a(t,e),t.for=function(e,n){return"__map_observer__"in n||Reflect.defineProperty(n,"__map_observer__",{value:t.create(e,n),enumerable:!1,configurable:!1}),n.__map_observer__},t.create=function(e,n){var r=new t(e,n),i=Fn;return i.set===n.set&&i.delete===n.delete&&i.clear===n.clear||(i={set:n.set,delete:n.delete,clear:n.clear}),n.set=function(){var e=n.has(arguments[0]),t=e?"update":"add",o=n.get(arguments[0]),a=i.set.apply(n,arguments);return e&&o===n.get(arguments[0])||r.addChangeRecord({type:t,object:n,key:arguments[0],oldValue:o}),a},n.delete=function(){var e=n.has(arguments[0]),t=n.get(arguments[0]),o=i.delete.apply(n,arguments);return e&&r.addChangeRecord({type:"delete",object:n,key:arguments[0],oldValue:t}),o},n.clear=function(){var e=i.clear.apply(n,arguments);return r.addChangeRecord({type:"clear",object:n}),e},r},t}(rt),zn=function(){function e(e){this.eventName=e,this.count=0}return e.prototype.increment=function(){1===++this.count&&n.DOM.addEventListener(this.eventName,ee,!0)},e.prototype.decrement=function(){0===--this.count&&n.DOM.removeEventListener(this.eventName,ee,!0)},e}(),Hn=function(){function e(e){this.eventName=e,this.count=0}return e.prototype.increment=function(){1===++this.count&&n.DOM.addEventListener(this.eventName,te,!1)},e.prototype.decrement=function(){0===--this.count&&n.DOM.removeEventListener(this.eventName,te)},e}(),Un=function(){function e(){this.delegatedHandlers={},this.capturedHandlers={}}return e.prototype.subscribe=function(e,t,n,r){var i=this,o=void 0,a=void 0,s=void 0;if(r===qn.bubbling){var u=function(){o=i.delegatedHandlers,s=o[t]||(o[t]=new Hn(t));var r=e.delegatedCallbacks||(e.delegatedCallbacks={});return s.increment(),r[t]=n,{v:function(){s.decrement(),r[t]=null}}}();if("object"===(void 0===u?"undefined":Ne(u)))return u.v}if(r===qn.capturing){var l=function(){a=i.capturedHandlers,s=a[t]||(a[t]=new zn(t));var r=e.capturedCallbacks||(e.capturedCallbacks={});return s.increment(),r[t]=n,{v:function(){s.decrement(),r[t]=null}}}();if("object"===(void 0===l?"undefined":Ne(l)))return l.v}return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n)}},e}(),qn=e.delegationStrategy={none:0,capturing:1,bubbling:2},Wn=e.EventManager=function(){function e(){this.elementHandlerLookup={},this.eventStrategyLookup={},this.registerElementConfig({tagName:"input",properties:{value:["change","input"],checked:["change","input"],files:["change","input"]}}),this.registerElementConfig({tagName:"textarea",properties:{value:["change","input"]}}),this.registerElementConfig({tagName:"select",properties:{value:["change"]}}),this.registerElementConfig({tagName:"content editable",properties:{value:["change","input","blur","keyup","paste"]}}),this.registerElementConfig({tagName:"scrollable element",properties:{scrollTop:["scroll"],scrollLeft:["scroll"]}}),this.defaultEventStrategy=new Un}return e.prototype.registerElementConfig=function(e){var t=e.tagName.toLowerCase(),n=e.properties,r=void 0;this.elementHandlerLookup[t]={};for(r in n)n.hasOwnProperty(r)&&this.registerElementPropertyConfig(t,r,n[r])},e.prototype.registerElementPropertyConfig=function(e,t,n){this.elementHandlerLookup[e][t]=this.createElementHandler(n)},e.prototype.createElementHandler=function(e){return{subscribe:function(t,n){return e.forEach(function(e){t.addEventListener(e,n,!1)}),function(){e.forEach(function(e){t.removeEventListener(e,n,!1)})}}}},e.prototype.registerElementHandler=function(e,t){this.elementHandlerLookup[e.toLowerCase()]=t},e.prototype.registerEventStrategy=function(e,t){this.eventStrategyLookup[e]=t},e.prototype.getElementHandler=function(e,t){var n=void 0,r=this.elementHandlerLookup;if(e.tagName){if(n=e.tagName.toLowerCase(),r[n]&&r[n][t])return r[n][t];if("textContent"===t||"innerHTML"===t)return r["content editable"].value;if("scrollTop"===t||"scrollLeft"===t)return r["scrollable element"][t]}return null},e.prototype.addEventListener=function(e,t,n,r){return(this.eventStrategyLookup[t]||this.defaultEventStrategy).subscribe(e,t,n,r)},e}(),Gn=e.DirtyChecker=function(){function e(){this.tracked=[],this.checkDelay=120}return e.prototype.addProperty=function(e){var t=this.tracked;t.push(e),1===t.length&&this.scheduleDirtyCheck()},e.prototype.removeProperty=function(e){var t=this.tracked;t.splice(t.indexOf(e),1)},e.prototype.scheduleDirtyCheck=function(){var e=this;setTimeout(function(){return e.check()},this.checkDelay)},e.prototype.check=function(){for(var e=this.tracked,t=e.length;t--;){var n=e[t];n.isDirty()&&n.call()}e.length&&this.scheduleDirtyCheck()},e}(),Yn=e.DirtyCheckProperty=(we=k())(xe=function(){function e(e,t,n){this.dirtyChecker=e,this.obj=t,this.propertyName=n}
return e.prototype.getValue=function(){return this.obj[this.propertyName]},e.prototype.setValue=function(e){this.obj[this.propertyName]=e},e.prototype.call=function(){var e=this.oldValue,t=this.getValue();this.callSubscribers(t,e),this.oldValue=t},e.prototype.isDirty=function(){return this.oldValue!==this.obj[this.propertyName]},e.prototype.subscribe=function(e,t){this.hasSubscribers()||(this.oldValue=this.getValue(),this.dirtyChecker.addProperty(this)),this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&this.dirtyChecker.removeProperty(this)},e}())||xe,Xn=De.getLogger("property-observation"),Zn=e.propertyAccessor={getValue:function(e,t){return e[t]},setValue:function(e,t,n){t[n]=e}},Kn=e.PrimitiveObserver=function(){function e(e,t){this.doNotCache=!0,this.primitive=e,this.propertyName=t}return e.prototype.getValue=function(){return this.primitive[this.propertyName]},e.prototype.setValue=function(){var e=Ne(this.primitive);throw new Error("The "+this.propertyName+" property of a "+e+" ("+this.primitive+") cannot be assigned.")},e.prototype.subscribe=function(){},e.prototype.unsubscribe=function(){},e}(),$n=e.SetterObserver=(_e=k())(ke=function(){function e(e,t,n){this.taskQueue=e,this.obj=t,this.propertyName=n,this.queued=!1,this.observing=!1}return e.prototype.getValue=function(){return this.obj[this.propertyName]},e.prototype.setValue=function(e){this.obj[this.propertyName]=e},e.prototype.getterValue=function(){return this.currentValue},e.prototype.setterValue=function(e){var t=this.currentValue;t!==e&&(this.queued||(this.oldValue=t,this.queued=!0,this.taskQueue.queueMicroTask(this)),this.currentValue=e)},e.prototype.call=function(){var e=this.oldValue,t=this.currentValue;this.queued=!1,this.callSubscribers(t,e)},e.prototype.subscribe=function(e,t){this.observing||this.convertProperty(),this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)},e.prototype.convertProperty=function(){this.observing=!0,this.currentValue=this.obj[this.propertyName],this.setValue=this.setterValue,this.getValue=this.getterValue,Reflect.defineProperty(this.obj,this.propertyName,{configurable:!0,enumerable:!(this.propertyName in this.obj)||this.obj.propertyIsEnumerable(this.propertyName),get:this.getValue.bind(this),set:this.setValue.bind(this)})||Xn.warn("Cannot observe property '"+this.propertyName+"' of object",this.obj)},e}())||ke,Qn=e.XLinkAttributeObserver=function(){function e(e,t,n){this.element=e,this.propertyName=t,this.attributeName=n}return e.prototype.getValue=function(){return this.element.getAttributeNS("http://www.w3.org/1999/xlink",this.attributeName)},e.prototype.setValue=function(e){return this.element.setAttributeNS("http://www.w3.org/1999/xlink",this.attributeName,e)},e.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},e}(),Jn=e.dataAttributeAccessor={getValue:function(e,t){return e.getAttribute(t)},setValue:function(e,t,n){null===e||void 0===e?t.removeAttribute(n):t.setAttribute(n,e)}},er=e.DataAttributeObserver=function(){function e(e,t){this.element=e,this.propertyName=t}return e.prototype.getValue=function(){return this.element.getAttribute(this.propertyName)},e.prototype.setValue=function(e){return null===e||void 0===e?this.element.removeAttribute(this.propertyName):this.element.setAttribute(this.propertyName,e)},e.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},e}(),tr=e.StyleObserver=function(){function e(e,t){this.element=e,this.propertyName=t,this.styles=null,this.version=0}return e.prototype.getValue=function(){return this.element.style.cssText},e.prototype._setProperty=function(e,t){var n="";null!==t&&void 0!==t&&"function"==typeof t.indexOf&&-1!==t.indexOf("!important")&&(n="important",t=t.replace("!important","")),this.element.style.setProperty(e,t,n)},e.prototype.setValue=function(e){var t=this.styles||{},n=void 0,r=this.version;if(null!==e&&void 0!==e)if(e instanceof Object){var i=void 0;for(n in e)e.hasOwnProperty(n)&&(i=e[n],n=n.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}),t[n]=r,this._setProperty(n,i))}else if(e.length)for(var o=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:^"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g,a=void 0;null!==(a=o.exec(e));)(n=a[1])&&(t[n]=r,this._setProperty(n,a[2]));if(this.styles=t,this.version+=1,0!==r){r-=1;for(n in t)t.hasOwnProperty(n)&&t[n]===r&&this.element.style.removeProperty(n)}},e.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},e}(),nr=e.ValueAttributeObserver=(Se=k())(Oe=function(){function e(e,t,n){this.element=e,this.propertyName=t,this.handler=n,"files"===t&&(this.setValue=function(){})}return e.prototype.getValue=function(){return this.element[this.propertyName]},e.prototype.setValue=function(e){e=void 0===e||null===e?"":e,this.element[this.propertyName]!==e&&(this.element[this.propertyName]=e,this.notify())},e.prototype.notify=function(){var e=this.oldValue,t=this.getValue();this.callSubscribers(t,e),this.oldValue=t},e.prototype.handleEvent=function(){this.notify()},e.prototype.subscribe=function(e,t){this.hasSubscribers()||(this.oldValue=this.getValue(),this.disposeHandler=this.handler.subscribe(this.element,this)),this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},e}())||Oe,rr=e.CheckedObserver=(Te=k())(Ce=function(){function e(e,t,n){this.element=e,this.handler=t,this.observerLocator=n}return e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(e){this.initialSync&&this.value===e||(this.arrayObserver&&(this.arrayObserver.unsubscribe("CheckedObserver:array",this),this.arrayObserver=null),"checkbox"===this.element.type&&Array.isArray(e)&&(this.arrayObserver=this.observerLocator.getArrayObserver(e),this.arrayObserver.subscribe("CheckedObserver:array",this)),this.oldValue=this.value,this.value=e,this.synchronizeElement(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},e.prototype.call=function(e,t){this.synchronizeElement(),this.valueObserver||(this.valueObserver=this.element.__observers__.model||this.element.__observers__.value,this.valueObserver&&this.valueObserver.subscribe("CheckedObserver:value",this))},e.prototype.synchronizeElement=function(){var e=this.value,t=this.element,n=t.hasOwnProperty("model")?t.model:t.value,r="radio"===t.type,i=t.matcher||function(e,t){return e===t};t.checked=r&&!!i(e,n)||!r&&!0===e||!r&&Array.isArray(e)&&-1!==e.findIndex(function(e){return!!i(e,n)})},e.prototype.synchronizeValue=function(){var e=this.value,t=this.element,n=t.hasOwnProperty("model")?t.model:t.value,r=void 0,i=t.matcher||function(e,t){return e===t};if("checkbox"===t.type){if(Array.isArray(e))return r=e.findIndex(function(e){return!!i(e,n)}),void(t.checked&&-1===r?e.push(n):t.checked||-1===r||e.splice(r,1));e=t.checked}else{if(!t.checked)return;e=n}this.oldValue=this.value,this.value=e,this.notify()},e.prototype.notify=function(){var e=this.oldValue,t=this.value;t!==e&&this.callSubscribers(t,e)},e.prototype.handleEvent=function(){this.synchronizeValue()},e.prototype.subscribe=function(e,t){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this)),this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},e.prototype.unbind=function(){this.arrayObserver&&(this.arrayObserver.unsubscribe("CheckedObserver:array",this),this.arrayObserver=null),this.valueObserver&&this.valueObserver.unsubscribe("CheckedObserver:value",this)},e}())||Ce,ir=e.SelectValueObserver=(Ee=k())(Pe=function(){function e(e,t,n){this.element=e,this.handler=t,this.observerLocator=n}return e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(e){if(null!==e&&void 0!==e&&this.element.multiple&&!Array.isArray(e))throw new Error("Only null or Array instances can be bound to a multi-select.");this.value!==e&&(this.arrayObserver&&(this.arrayObserver.unsubscribe("SelectValueObserver:array",this),this.arrayObserver=null),Array.isArray(e)&&(this.arrayObserver=this.observerLocator.getArrayObserver(e),this.arrayObserver.subscribe("SelectValueObserver:array",this)),this.oldValue=this.value,this.value=e,this.synchronizeOptions(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},e.prototype.call=function(e,t){this.synchronizeOptions()},e.prototype.synchronizeOptions=function(){var e=this.value,t=void 0;Array.isArray(e)&&(t=!0);for(var n=this.element.options,r=n.length,i=this.element.matcher||function(e,t){return e===t};r--;){(function(){var o=n.item(r),a=o.hasOwnProperty("model")?o.model:o.value;if(t)return o.selected=-1!==e.findIndex(function(e){return!!i(a,e)}),"continue";o.selected=!!i(a,e)})()}},e.prototype.synchronizeValue=function(){for(var e=this,t=this.element.options,n=0,r=[],i=0,o=t.length;i<o;i++){var a=t.item(i);a.selected&&(r.push(a.hasOwnProperty("model")?a.model:a.value),n++)}if(this.element.multiple){if(Array.isArray(this.value)){var s=function(){for(var t=e.element.matcher||function(e,t){return e===t},n=0;n<e.value.length;)!function(){var i=e.value[n];-1===r.findIndex(function(e){return t(i,e)})?e.value.splice(n,1):n++}();n=0;for(;n<r.length;)!function(){var i=r[n];-1===e.value.findIndex(function(e){return t(i,e)})&&e.value.push(i),n++}();return{v:void 0}}();if("object"===(void 0===s?"undefined":Ne(s)))return s.v}}else r=0===n?null:r[0];r!==this.value&&(this.oldValue=this.value,this.value=r,this.notify())},e.prototype.notify=function(){var e=this.oldValue,t=this.value;this.callSubscribers(t,e)},e.prototype.handleEvent=function(){this.synchronizeValue()},e.prototype.subscribe=function(e,t){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this)),this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},e.prototype.bind=function(){var e=this;this.domObserver=n.DOM.createMutationObserver(function(){e.synchronizeOptions(),e.synchronizeValue()}),this.domObserver.observe(this.element,{childList:!0,subtree:!0})},e.prototype.unbind=function(){this.domObserver.disconnect(),this.domObserver=null,this.arrayObserver&&(this.arrayObserver.unsubscribe("SelectValueObserver:array",this),this.arrayObserver=null)},e}())||Pe,or=e.ClassObserver=function(){function e(e){this.element=e,this.doNotCache=!0,this.value="",this.version=0}return e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(e){var t=this.nameIndex||{},n=this.version,r=void 0,i=void 0;if(null!==e&&void 0!==e&&e.length){r=e.split(/\s+/);for(var o=0,a=r.length;o<a;o++)""!==(i=r[o])&&(t[i]=n,this.element.classList.add(i))}if(this.value=e,this.nameIndex=t,this.version+=1,0!==n){n-=1;for(i in t)t.hasOwnProperty(i)&&t[i]===n&&this.element.classList.remove(i)}},e.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "class" property is not supported.')},e}(),ar=e.ComputedExpression=function(e){function t(t,n){var r=o(this,e.call(this));return r.name=t,r.dependencies=n,r.isAssignable=!0,r}return a(t,e),t.prototype.evaluate=function(e,t){return e.bindingContext[this.name]},t.prototype.assign=function(e,t){e.bindingContext[this.name]=t},t.prototype.accept=function(e){throw new Error("not implemented")},t.prototype.connect=function(e,t){for(var n=this.dependencies,r=n.length;r--;)n[r].connect(e,t)},t}(dt),sr=void 0,ur=void 0,lr=void 0,cr=void 0;"undefined"==typeof FEATURE_NO_SVG&&function(){sr={a:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","target","transform","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],altGlyph:["class","dx","dy","externalResourcesRequired","format","glyphRef","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],altGlyphDef:["id","xml:base","xml:lang","xml:space"],altGlyphItem:["id","xml:base","xml:lang","xml:space"],animate:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateColor:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateMotion:["accumulate","additive","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keyPoints","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","origin","path","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateTransform:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","type","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],circle:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","r","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],clipPath:["class","clipPathUnits","externalResourcesRequired","id","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],"color-profile":["id","local","name","rendering-intent","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],cursor:["externalResourcesRequired","id","requiredExtensions","requiredFeatures","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],defs:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],desc:["class","id","style","xml:base","xml:lang","xml:space"],ellipse:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],feBlend:["class","height","id","in","in2","mode","result","style","width","x","xml:base","xml:lang","xml:space","y"],feColorMatrix:["class","height","id","in","result","style","type","values","width","x","xml:base","xml:lang","xml:space","y"],feComponentTransfer:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feComposite:["class","height","id","in","in2","k1","k2","k3","k4","operator","result","style","width","x","xml:base","xml:lang","xml:space","y"],feConvolveMatrix:["bias","class","divisor","edgeMode","height","id","in","kernelMatrix","kernelUnitLength","order","preserveAlpha","result","style","targetX","targetY","width","x","xml:base","xml:lang","xml:space","y"],feDiffuseLighting:["class","diffuseConstant","height","id","in","kernelUnitLength","result","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feDisplacementMap:["class","height","id","in","in2","result","scale","style","width","x","xChannelSelector","xml:base","xml:lang","xml:space","y","yChannelSelector"],feDistantLight:["azimuth","elevation","id","xml:base","xml:lang","xml:space"],feFlood:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feFuncA:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncB:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncG:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncR:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feGaussianBlur:["class","height","id","in","result","stdDeviation","style","width","x","xml:base","xml:lang","xml:space","y"],feImage:["class","externalResourcesRequired","height","id","preserveAspectRatio","result","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],feMerge:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feMergeNode:["id","xml:base","xml:lang","xml:space"],feMorphology:["class","height","id","in","operator","radius","result","style","width","x","xml:base","xml:lang","xml:space","y"],feOffset:["class","dx","dy","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],fePointLight:["id","x","xml:base","xml:lang","xml:space","y","z"],feSpecularLighting:["class","height","id","in","kernelUnitLength","result","specularConstant","specularExponent","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feSpotLight:["id","limitingConeAngle","pointsAtX","pointsAtY","pointsAtZ","specularExponent","x","xml:base","xml:lang","xml:space","y","z"],feTile:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feTurbulence:["baseFrequency","class","height","id","numOctaves","result","seed","stitchTiles","style","type","width","x","xml:base","xml:lang","xml:space","y"],filter:["class","externalResourcesRequired","filterRes","filterUnits","height","id","primitiveUnits","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],font:["class","externalResourcesRequired","horiz-adv-x","horiz-origin-x","horiz-origin-y","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],"font-face":["accent-height","alphabetic","ascent","bbox","cap-height","descent","font-family","font-size","font-stretch","font-style","font-variant","font-weight","hanging","id","ideographic","mathematical","overline-position","overline-thickness","panose-1","slope","stemh","stemv","strikethrough-position","strikethrough-thickness","underline-position","underline-thickness","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","widths","x-height","xml:base","xml:lang","xml:space"],"font-face-format":["id","string","xml:base","xml:lang","xml:space"],"font-face-name":["id","name","xml:base","xml:lang","xml:space"],"font-face-src":["id","xml:base","xml:lang","xml:space"],"font-face-uri":["id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],foreignObject:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],g:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],glyph:["arabic-form","class","d","glyph-name","horiz-adv-x","id","lang","orientation","style","unicode","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],glyphRef:["class","dx","dy","format","glyphRef","id","style","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],hkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"],image:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],line:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","x1","x2","xml:base","xml:lang","xml:space","y1","y2"],linearGradient:["class","externalResourcesRequired","gradientTransform","gradientUnits","id","spreadMethod","style","x1","x2","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y1","y2"],marker:["class","externalResourcesRequired","id","markerHeight","markerUnits","markerWidth","orient","preserveAspectRatio","refX","refY","style","viewBox","xml:base","xml:lang","xml:space"],mask:["class","externalResourcesRequired","height","id","maskContentUnits","maskUnits","requiredExtensions","requiredFeatures","style","systemLanguage","width","x","xml:base","xml:lang","xml:space","y"],metadata:["id","xml:base","xml:lang","xml:space"],"missing-glyph":["class","d","horiz-adv-x","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],mpath:["externalResourcesRequired","id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],path:["class","d","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","pathLength","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],pattern:["class","externalResourcesRequired","height","id","patternContentUnits","patternTransform","patternUnits","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","viewBox","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],polygon:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],polyline:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],radialGradient:["class","cx","cy","externalResourcesRequired","fx","fy","gradientTransform","gradientUnits","id","r","spreadMethod","style","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],rect:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],script:["externalResourcesRequired","id","type","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],set:["attributeName","attributeType","begin","dur","end","externalResourcesRequired","fill","id","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],stop:["class","id","offset","style","xml:base","xml:lang","xml:space"],style:["id","media","title","type","xml:base","xml:lang","xml:space"],svg:["baseProfile","class","contentScriptType","contentStyleType","externalResourcesRequired","height","id","onabort","onactivate","onclick","onerror","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onresize","onscroll","onunload","onzoom","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","version","viewBox","width","x","xml:base","xml:lang","xml:space","y","zoomAndPan"],switch:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],symbol:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","style","viewBox","xml:base","xml:lang","xml:space"],text:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","transform","x","xml:base","xml:lang","xml:space","y"],textPath:["class","externalResourcesRequired","id","lengthAdjust","method","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","spacing","startOffset","style","systemLanguage","textLength","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],title:["class","id","style","xml:base","xml:lang","xml:space"],tref:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],tspan:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xml:base","xml:lang","xml:space","y"],use:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],view:["externalResourcesRequired","id","preserveAspectRatio","viewBox","viewTarget","xml:base","xml:lang","xml:space","zoomAndPan"],vkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"]},ur={a:!0,altGlyph:!0,animate:!0,animateColor:!0,circle:!0,clipPath:!0,defs:!0,ellipse:!0,feBlend:!0,feColorMatrix:!0,feComponentTransfer:!0,feComposite:!0,feConvolveMatrix:!0,feDiffuseLighting:!0,feDisplacementMap:!0,feFlood:!0,feGaussianBlur:!0,feImage:!0,feMerge:!0,feMorphology:!0,feOffset:!0,feSpecularLighting:!0,feTile:!0,feTurbulence:!0,filter:!0,font:!0,foreignObject:!0,g:!0,glyph:!0,glyphRef:!0,image:!0,line:!0,linearGradient:!0,marker:!0,mask:!0,"missing-glyph":!0,path:!0,pattern:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,svg:!0,switch:!0,symbol:!0,text:!0,textPath:!0,tref:!0,tspan:!0,use:!0},lr={"alignment-baseline":!0,"baseline-shift":!0,"clip-path":!0,"clip-rule":!0,clip:!0,"color-interpolation-filters":!0,"color-interpolation":!0,"color-profile":!0,"color-rendering":!0,color:!0,cursor:!0,direction:!0,display:!0,"dominant-baseline":!0,"enable-background":!0,"fill-opacity":!0,"fill-rule":!0,fill:!0,filter:!0,"flood-color":!0,"flood-opacity":!0,"font-family":!0,"font-size-adjust":!0,"font-size":!0,"font-stretch":!0,"font-style":!0,"font-variant":!0,"font-weight":!0,"glyph-orientation-horizontal":!0,"glyph-orientation-vertical":!0,"image-rendering":!0,kerning:!0,"letter-spacing":!0,"lighting-color":!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,mask:!0,opacity:!0,overflow:!0,"pointer-events":!0,"shape-rendering":!0,"stop-color":!0,"stop-opacity":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0,stroke:!0,"text-anchor":!0,"text-decoration":!0,"text-rendering":!0,"unicode-bidi":!0,visibility:!0,"word-spacing":!0,"writing-mode":!0};var e=function(e){var t=n.DOM.createElement("div");return t.innerHTML=e,t.firstChild};cr=function(){function t(){"altglyph"===e("<svg><altGlyph /></svg>").firstElementChild.nodeName&&fr.altGlyph&&(fr.altglyph=fr.altGlyph,delete fr.altGlyph,fr.altglyphdef=fr.altGlyphDef,delete fr.altGlyphDef,fr.altglyphitem=fr.altGlyphItem,delete fr.altGlyphItem,fr.glyphref=fr.glyphRef,delete fr.glyphRef)}return t.prototype.isStandardSvgAttribute=function(e,t){return hr[e]&&dr[t]||fr[e]&&-1!==fr[e].indexOf(t)},t}()}();var fr=e.elements=sr,hr=e.presentationElements=ur,dr=e.presentationAttributes=lr,pr=e.SVGAnalyzer=cr||function(){function e(){}return e.prototype.isStandardSvgAttribute=function(){return!1},e}(),vr=e.ObserverLocator=(Ae=Me=function(){function e(e,t,n,r,i){this.taskQueue=e,this.eventManager=t,this.dirtyChecker=n,this.svgAnalyzer=r,this.parser=i,this.adapters=[],this.logger=De.getLogger("observer-locator")}
return e.prototype.getObserver=function(e,t){var n=e.__observers__,r=void 0;return n&&t in n?n[t]:(r=this.createPropertyObserver(e,t),r.doNotCache||(void 0===n&&(n=this.getOrCreateObserversLookup(e)),n[t]=r),r)},e.prototype.getOrCreateObserversLookup=function(e){return e.__observers__||this.createObserversLookup(e)},e.prototype.createObserversLookup=function(e){var t={};return Reflect.defineProperty(e,"__observers__",{enumerable:!1,configurable:!1,writable:!1,value:t})||this.logger.warn("Cannot add observers to object",e),t},e.prototype.addAdapter=function(e){this.adapters.push(e)},e.prototype.getAdapterObserver=function(e,t,n){for(var r=0,i=this.adapters.length;r<i;r++){var o=this.adapters[r],a=o.getObserver(e,t,n);if(a)return a}return null},e.prototype.createPropertyObserver=function(e,t){var r=void 0,i=void 0,o=void 0;if(!(e instanceof Object))return new Kn(e,t);if(e instanceof n.DOM.Element){if("class"===t)return new or(e);if("style"===t||"css"===t)return new tr(e,t);if(i=this.eventManager.getElementHandler(e,t),"value"===t&&"select"===e.tagName.toLowerCase())return new ir(e,i,this);if("checked"===t&&"input"===e.tagName.toLowerCase())return new rr(e,i,this);if(i)return new nr(e,t,i);if(o=/^xlink:(.+)$/.exec(t))return new Qn(e,t,o[1]);if("role"===t&&(e instanceof n.DOM.Element||e instanceof n.DOM.SVGElement)||/^\w+:|^data-|^aria-/.test(t)||e instanceof n.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(e.nodeName,t))return new er(e,t)}if(r=Object.getPropertyDescriptor(e,t),ne(r))return oe(e,t,r,this);if(r){var a=r.get||r.set;if(a){if(a.getObserver)return a.getObserver(e);var s=this.getAdapterObserver(e,t,r);return s||new Yn(this.dirtyChecker,e,t)}}return e instanceof Array?"length"===t?this.getArrayObserver(e).getLengthObserver():new Yn(this.dirtyChecker,e,t):e instanceof Map?"size"===t?this.getMapObserver(e).getLengthObserver():new Yn(this.dirtyChecker,e,t):e instanceof Set?"size"===t?this.getSetObserver(e).getLengthObserver():new Yn(this.dirtyChecker,e,t):new $n(this.taskQueue,e,t)},e.prototype.getAccessor=function(e,t){if(e instanceof n.DOM.Element){if("class"===t||"style"===t||"css"===t||"value"===t&&("input"===e.tagName.toLowerCase()||"select"===e.tagName.toLowerCase())||"checked"===t&&"input"===e.tagName.toLowerCase()||"model"===t&&"input"===e.tagName.toLowerCase()||/^xlink:.+$/.exec(t))return this.getObserver(e,t);if(/^\w+:|^data-|^aria-/.test(t)||e instanceof n.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(e.nodeName,t)||"img"===e.tagName.toLowerCase()&&"src"===t||"a"===e.tagName.toLowerCase()&&"href"===t)return Jn}return Zn},e.prototype.getArrayObserver=function(e){return L(this.taskQueue,e)},e.prototype.getMapObserver=function(e){return K(this.taskQueue,e)},e.prototype.getSetObserver=function(e){return le(this.taskQueue,e)},e}(),Me.inject=[r.TaskQueue,Wn,Gn,pr,Nn],Ae),gr=(e.ObjectObservationAdapter=function(){function e(){}return e.prototype.getObserver=function(e,t,n){throw new Error("BindingAdapters must implement getObserver(object, propertyName).")},e}(),e.BindingExpression=function(){function e(e,t,n,r,i,o){this.observerLocator=e,this.targetProperty=t,this.sourceExpression=n,this.mode=r,this.lookupFunctions=i,this.attribute=o,this.discrete=!1}return e.prototype.createBinding=function(e){return new mr(this.observerLocator,this.sourceExpression,e,this.targetProperty,this.mode,this.lookupFunctions)},e}()),mr=e.Binding=(je=v())(Re=function(){function e(e,t,n,r,i,o){this.observerLocator=e,this.sourceExpression=t,this.target=n,this.targetProperty=r,this.mode=i,this.lookupFunctions=o}return e.prototype.updateTarget=function(e){this.targetObserver.setValue(e,this.target,this.targetProperty)},e.prototype.updateSource=function(e){this.sourceExpression.assign(this.source,e,this.lookupFunctions)},e.prototype.call=function(e,t,n){if(this.isBound){if(e===Ve)return n=this.targetObserver.getValue(this.target,this.targetProperty),t=this.sourceExpression.evaluate(this.source,this.lookupFunctions),t!==n&&this.updateTarget(t),void(this.mode!==It.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.unobserve(!1)));if(e===Fe)return void(t!==this.sourceExpression.evaluate(this.source,this.lookupFunctions)&&this.updateSource(t));throw new Error("Unexpected call context "+e)}},e.prototype.bind=function(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions);var t=this.mode;if(!this.targetObserver){var n=t===It.twoWay||t===It.fromView?"getObserver":"getAccessor";this.targetObserver=this.observerLocator[n](this.target,this.targetProperty)}if("bind"in this.targetObserver&&this.targetObserver.bind(),this.mode!==It.fromView){var r=this.sourceExpression.evaluate(e,this.lookupFunctions);this.updateTarget(r)}t!==It.oneTime&&(t===It.toView?m(this):t===It.twoWay?(this.sourceExpression.connect(this,e),this.targetObserver.subscribe(Fe,this)):t===It.fromView&&this.targetObserver.subscribe(Fe,this))},e.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,"unbind"in this.targetObserver&&this.targetObserver.unbind(),this.targetObserver.unsubscribe&&this.targetObserver.unsubscribe(Fe,this),this.unobserve(!0))},e.prototype.connect=function(e){if(this.isBound){if(e){var t=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(t)}this.sourceExpression.connect(this,this.source)}},e}())||Re,yr=(e.CallExpression=function(){function e(e,t,n,r){this.observerLocator=e,this.targetProperty=t,this.sourceExpression=n,this.lookupFunctions=r}return e.prototype.createBinding=function(e){return new yr(this.observerLocator,this.sourceExpression,e,this.targetProperty,this.lookupFunctions)},e}(),e.Call=function(){function e(e,t,n,r,i){this.sourceExpression=t,this.target=n,this.targetProperty=e.getObserver(n,r),this.lookupFunctions=i}return e.prototype.callSource=function(e){var t=this.source.overrideContext;Object.assign(t,e),t.$event=e;var n=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);delete t.$event;for(var r in e)delete t[r];return n},e.prototype.bind=function(e){var t=this;if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions),this.targetProperty.setValue(function(e){return t.callSource(e)})},e.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this.targetProperty.setValue(null))},e}()),br=e.ValueConverterResource=function(){function e(e){this.name=e}return e.convention=function(t){if(t.endsWith("ValueConverter"))return new e(s(t.substring(0,t.length-14)))},e.prototype.initialize=function(e,t){this.instance=e.get(t)},e.prototype.register=function(e,t){e.registerValueConverter(t||this.name,this.instance)},e.prototype.load=function(e,t){},e}(),wr=e.BindingBehaviorResource=function(){function e(e){this.name=e}return e.convention=function(t){if(t.endsWith("BindingBehavior"))return new e(s(t.substring(0,t.length-15)))},e.prototype.initialize=function(e,t){this.instance=e.get(t)},e.prototype.register=function(e,t){e.registerBindingBehavior(t||this.name,this.instance)},e.prototype.load=function(e,t){},e}(),xr=(e.ListenerExpression=function(){function e(e,t,n,r,i,o){this.eventManager=e,this.targetEvent=t,this.sourceExpression=n,this.delegationStrategy=r,this.discrete=!0,this.preventDefault=i,this.lookupFunctions=o}return e.prototype.createBinding=function(e){return new xr(this.eventManager,this.targetEvent,this.delegationStrategy,this.sourceExpression,e,this.preventDefault,this.lookupFunctions)},e}(),e.Listener=function(){function e(e,t,n,r,i,o,a){this.eventManager=e,this.targetEvent=t,this.delegationStrategy=n,this.sourceExpression=r,this.target=i,this.preventDefault=o,this.lookupFunctions=a}return e.prototype.callSource=function(e){var t=this.source.overrideContext;t.$event=e;var n=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);return delete t.$event,!0!==n&&this.preventDefault&&e.preventDefault(),n},e.prototype.handleEvent=function(e){this.callSource(e)},e.prototype.bind=function(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions),this._disposeListener=this.eventManager.addEventListener(this.target,this.targetEvent,this,this.delegationStrategy)},e.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this._disposeListener(),this._disposeListener=null)},e}()),_r=(e.NameExpression=function(){function e(e,t,n){this.sourceExpression=e,this.apiName=t,this.lookupFunctions=n,this.discrete=!0}return e.prototype.createBinding=function(t){return new _r(this.sourceExpression,e.locateAPI(t,this.apiName),this.lookupFunctions)},e.locateAPI=function(e,t){switch(t){case"element":return e;case"controller":return ue(e).controller;case"view-model":return ue(e).controller.viewModel;case"view":return ue(e).controller.view;default:var n=ue(e)[t];if(void 0===n)throw new Error('Attempted to reference "'+t+"\", but it was not found amongst the target's API.");return n.viewModel}},e}(),function(){function e(e,t,n){this.sourceExpression=e,this.target=t,this.lookupFunctions=n}return e.prototype.bind=function(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions),this.sourceExpression.assign(this.source,this.target,this.lookupFunctions)},e.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.evaluate(this.source,this.lookupFunctions)===this.target&&this.sourceExpression.assign(this.source,null,this.lookupFunctions),this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null)},e}()),kr={bindingBehaviors:function(e){return null},valueConverters:function(e){return null}},Sr=(e.BindingEngine=(Le=Ie=function(){function e(e,t){this.observerLocator=e,this.parser=t}return e.prototype.createBindingExpression=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?It.toView:arguments[2],r=arguments.length<=3||void 0===arguments[3]?kr:arguments[3];return new gr(this.observerLocator,e,this.parser.parse(t),n,r)},e.prototype.propertyObserver=function(e,t){var n=this;return{subscribe:function(r){var i=n.observerLocator.getObserver(e,t);return i.subscribe(r),{dispose:function(){return i.unsubscribe(r)}}}}},e.prototype.collectionObserver=function(e){var t=this;return{subscribe:function(n){var r=void 0;if(e instanceof Array)r=t.observerLocator.getArrayObserver(e);else if(e instanceof Map)r=t.observerLocator.getMapObserver(e);else{if(!(e instanceof Set))throw new Error("collection must be an instance of Array, Map or Set.");r=t.observerLocator.getSetObserver(e)}return r.subscribe(n),{dispose:function(){return r.unsubscribe(n)}}}}},e.prototype.expressionObserver=function(e,t){var n={bindingContext:e,overrideContext:u(e)};return new tt(n,this.parser.parse(t),this.observerLocator,kr)},e.prototype.parseExpression=function(e){return this.parser.parse(e)},e.prototype.registerAdapter=function(e){this.observerLocator.addAdapter(e)},e}(),Ie.inject=[vr,Nn],Le),Set.prototype);e.getSetObserver=le;var Or=function(e){function t(t,n){return o(this,e.call(this,t,n))}return a(t,e),t.for=function(e,n){return"__set_observer__"in n||Reflect.defineProperty(n,"__set_observer__",{value:t.create(e,n),enumerable:!1,configurable:!1}),n.__set_observer__},t.create=function(e,n){var r=new t(e,n),i=Sr;return i.add===n.add&&i.delete===n.delete&&i.clear===n.clear||(i={add:n.add,delete:n.delete,clear:n.clear}),n.add=function(){var e=n.size,t=i.add.apply(n,arguments);return n.size===e||r.addChangeRecord({type:"add",object:n,value:Array.from(n).pop()}),t},n.delete=function(){var e=n.has(arguments[0]),t=i.delete.apply(n,arguments);return e&&r.addChangeRecord({type:"delete",object:n,value:arguments[0]}),t},n.clear=function(){var e=i.clear.apply(n,arguments);return r.addChangeRecord({type:"clear",object:n}),e},r},t}(rt),Tr={}}),define("aurelia-bootstrapper",["module","exports","aurelia-pal","aurelia-polyfills"],function(e,t,n){"use strict";function r(){return h.document&&"complete"!==h.document.readyState?new Promise(function(e){function t(){h.document.removeEventListener("DOMContentLoaded",t),h.removeEventListener("load",t),e()}h.document.addEventListener("DOMContentLoaded",t),h.addEventListener("load",t)}):Promise.resolve()}function i(){if(n.PLATFORM.Loader)return Promise.resolve(new n.PLATFORM.Loader);if("undefined"==typeof AURELIA_WEBPACK_2_0){if("undefined"!=typeof __webpack_require__){var t=__webpack_require__(require.resolve("aurelia-loader-webpack"));return Promise.resolve(new t.WebpackLoader)}if(h.System&&"function"==typeof h.System.config)return h.System.normalize("aurelia-bootstrapper").then(function(e){return h.System.normalize("aurelia-loader-default",e)}).then(function(e){return h.System.import(e).then(function(e){return new e.DefaultLoader})});if("function"==typeof h.require&&"string"==typeof h.require.version)return new Promise(function(e,t){return h.require(["aurelia-loader-default"],function(t){return e(new t.DefaultLoader)},t)});if(d&&void 0!==e&&void 0!==e.require){var r=e.require("aurelia-loader-nodejs");return Promise.resolve(new r.NodeJsLoader)}}return Promise.reject("No PLATFORM.Loader is defined and there is neither a System API (ES6) or a Require API (AMD) globally available to load your app.")}function o(e){var t=void 0,r=d&&("renderer"===process.type||process.versions["node-webkit"]);if(d&&!r)t="nodejs";else if("undefined"!=typeof window)t="browser";else{if("undefined"==typeof self)throw new Error("Could not determine platform implementation to load.");t="worker"}return e.loadModule("aurelia-pal-"+t).then(function(e){return"nodejs"===t&&!n.isInitialized&&e.globalize()||e.initialize()})}function a(e){var t=function(t,n){return e.normalize(t,n).then(function(n){return e.map(t,n),n})};return o(e).then(function(){return e.normalize("aurelia-bootstrapper")}).then(function(e){var r=t(n.PLATFORM.moduleName("aurelia-framework",{exports:["Aurelia"]}),e);return Promise.all([r,r.then(function(e){return t("aurelia-dependency-injection",e)}),t("aurelia-router",e),t("aurelia-logging-console",e)])}).then(function(t){var n=t[0];return e.loadModule(n)}).then(function(t){return c(function(){return new t.Aurelia(e)})})}function s(e,t,n){return n.host=e,n.configModuleId=t||null,t?n.loader.loadModule(t).then(function(e){if(!e.configure)throw new Error("Cannot initialize module '"+t+"' without a configure function.");return e.configure(n)}):(n.use.standardConfiguration().developmentLogging(),n.start().then(function(){return n.setRoot()}))}function u(e){var t=f.then(function(t){return e(t())});return l&&l.push(t),t}Object.defineProperty(t,"__esModule",{value:!0}),t.starting=void 0,t.bootstrap=u;var l=[],c=void 0,f=new Promise(function(e){return c=e}),h=n.PLATFORM.global,d="undefined"!=typeof process&&!process.browser;t.starting=function(){return r().then(i).then(a).then(function(){for(var e=h.document.querySelectorAll("[aurelia-app],[data-aurelia-app]"),t=0,n=e.length;t<n;++t){var r=e[t],i=r.getAttribute("aurelia-app")||r.getAttribute("data-aurelia-app");u(s.bind(null,r,i))}var o=console.error.bind(console),a=l.map(function(e){return e.catch(o)});return l=null,Promise.all(a)})}()}),define("aurelia-dependency-injection",["exports","aurelia-metadata","aurelia-pal"],function(e,t,n){"use strict";function r(e,n){var r=e.inject;if("function"==typeof r)throw new Error("Decorator "+n+' cannot be used with "inject()".  Please use an array instead.');return r||(r=t.metadata.getOwn(t.metadata.paramTypes,e).slice(),e.inject=r),r}function i(e){return function(t,n,i){r(t,"lazy")[i]=D.of(e)}}function o(e){return function(t,n,i){r(t,"all")[i]=N.of(e)}}function a(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0],t=function(e){return function(t,n,i){var o=r(t,"optional");o[i]=B.of(o[i],e)}};return t("boolean"==typeof e?e:!0)}function s(e,t,n){var i=r(e,"parent");i[n]=F.of(i[n])}function u(e,t){return function(n,i,o){var a=r(n,"factory"),s=z.of(e);a[o]=t?s.as(t):s}}function l(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=function(e){return function(t,i,o){var a=r(t,"newInstance");a[o]=H.of.apply(H,[a[o]].concat(n)),e&&a[o].as(e)}};return arguments.length>=1?o(e):o()}function c(e){return function(n){t.metadata.define(t.metadata.invoker,e,n)}}function f(e){var n=function(e){t.metadata.define(t.metadata.invoker,U.instance,e)};return e?n(e):n}function h(e){return function(n){t.metadata.define(t.metadata.registration,e,n)}}function d(e){return h(new q(e))}function p(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return h(new W(e,t))}function v(e){if(null===e||void 0===e)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function g(e,t,n,r){for(var i=n.length,o=new Array(i),a=void 0;i--;){if(null===(a=n[i])||void 0===a)throw new Error("Constructor Parameter with index "+i+" cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?");o[i]=e.get(a)}return void 0!==r&&(o=o.concat(r)),Reflect.construct(t,o)}function m(e){return e.hasOwnProperty("inject")?"function"==typeof e.inject?e.inject():e.inject:[]}function y(e){var n=function(e){var n=e.inject?e.inject.slice():null,r=t.metadata.getOwn(t.metadata.paramTypes,e)||G;if(n){for(var i=0;i<r.length;i++)if(n[i]&&n[i]!==r[i]){var o=n.indexOf(r[i]);o>-1&&n.splice(o,1),n.splice(o>-1&&o<i?i-1:i,0,r[i])}else n[i]||(n[i]=r[i]);e.inject=n}else e.inject=r};return e?n(e):n}function b(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e,r,i){if("number"==typeof i&&1===n.length){var o=e.inject;if("function"==typeof o)throw new Error('Decorator inject cannot be used with "inject()".  Please use an array instead.');return o||(o=t.metadata.getOwn(t.metadata.paramTypes,e).slice(),e.inject=o),void(o[i]=n[0])}if(i){i.value.inject=n}else e.inject=n}}Object.defineProperty(e,"__esModule",{value:!0}),e.Container=e.InvocationHandler=e._emptyParameters=e.SingletonRegistration=e.TransientRegistration=e.FactoryInvoker=e.NewInstance=e.Factory=e.StrategyResolver=e.Parent=e.Optional=e.All=e.Lazy=e.resolver=void 0,e.getDecoratorDependencies=r,e.lazy=i,e.all=o,e.optional=a,e.parent=s,e.factory=u,e.newInstance=l,e.invoker=c,e.invokeAsFactory=f,e.registration=h,e.transient=d,e.singleton=p,e.autoinject=y,e.inject=b;var w,x,_,k,S,O,T,C,E,P,M,A,j,R,I,L=e.resolver=t.protocol.create("aurelia:resolver",function(e){return"function"==typeof e.get||"Resolvers must implement: get(container: Container, key: any): any"}),D=e.Lazy=(w=L())(x=function(){function e(e){this._key=e}return e.prototype.get=function(e){var t=this;return function(){return e.get(t._key)}},e.of=function(t){return new e(t)},e}())||x,N=e.All=(_=L())(k=function(){function e(e){this._key=e}return e.prototype.get=function(e){return e.getAll(this._key)},e.of=function(t){return new e(t)},e}())||k,B=e.Optional=(S=L())(O=function(){function e(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];this._key=e,this._checkParent=t}return e.prototype.get=function(e){return e.hasResolver(this._key,this._checkParent)?e.get(this._key):null},e.of=function(t){return new e(t,arguments.length<=1||void 0===arguments[1]||arguments[1])},e}())||O,F=e.Parent=(T=L())(C=function(){function e(e){this._key=e}return e.prototype.get=function(e){return e.parent?e.parent.get(this._key):null},e.of=function(t){return new e(t)},e}())||C,V=e.StrategyResolver=(E=L())(P=function(){function e(e,t){this.strategy=e,this.state=t}return e.prototype.get=function(e,t){switch(this.strategy){case 0:return this.state;case 1:var n=e.invoke(this.state);return this.state=n,this.strategy=0,n;case 2:return e.invoke(this.state);case 3:return this.state(e,t,this);case 4:return this.state[0].get(e,t);case 5:return e.get(this.state);default:throw new Error("Invalid strategy: "+this.strategy)}},e}())||P,z=e.Factory=(M=L())(A=function(){function e(e){this._key=e}return e.prototype.get=function(e){var t=this;return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.invoke(t._key,r)}},e.of=function(t){return new e(t)},e}())||A,H=e.NewInstance=(j=L())(R=function(){function e(e){this.key=e,this.asKey=e;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.dynamicDependencies=n}return e.prototype.get=function(e){var t=this.dynamicDependencies.length>0?this.dynamicDependencies.map(function(t){return t["protocol:aurelia:resolver"]?t.get(e):e.get(t)}):void 0,n=e.invoke(this.key,t);return e.registerInstance(this.asKey,n),n},e.prototype.as=function(e){return this.asKey=e,this},e.of=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new(Function.prototype.bind.apply(e,[null].concat([t],r)))},e}())||R,U=e.FactoryInvoker=function(){function e(){}return e.prototype.invoke=function(e,t,n){for(var r=n.length,i=new Array(r);r--;)i[r]=e.get(n[r]);return t.apply(void 0,i)},e.prototype.invokeWithDynamicDependencies=function(e,t,n,r){for(var i=n.length,o=new Array(i);i--;)o[i]=e.get(n[i]);return void 0!==r&&(o=o.concat(r)),t.apply(void 0,o)},e}();U.instance=new U;var q=e.TransientRegistration=function(){function e(e){this._key=e}return e.prototype.registerResolver=function(e,t,n){var r=e.getResolver(this._key||t);return void 0===r?e.registerTransient(this._key||t,n):r},e}(),W=e.SingletonRegistration=function(){function e(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];"boolean"==typeof e?this._registerInChild=e:(this._key=e,this._registerInChild=t)}return e.prototype.registerResolver=function(e,t,n){var r=this._registerInChild?e:e.root,i=r.getResolver(this._key||t);return void 0===i?r.registerSingleton(this._key||t,n):i},e}(),G=e._emptyParameters=Object.freeze([]);t.metadata.registration="aurelia:registration",t.metadata.invoker="aurelia:invoker";var Y=L.decorates,X=e.InvocationHandler=function(){function e(e,t,n){this.fn=e,this.invoker=t,this.dependencies=n}return e.prototype.invoke=function(e,t){return void 0!==t?this.invoker.invokeWithDynamicDependencies(e,this.fn,this.dependencies,t):this.invoker.invoke(e,this.fn,this.dependencies)},e}(),Z=(I={},I[0]={invoke:function(e,t){return new t},invokeWithDynamicDependencies:g},I[1]={invoke:function(e,t,n){return new t(e.get(n[0]))},invokeWithDynamicDependencies:g},I[2]={invoke:function(e,t,n){return new t(e.get(n[0]),e.get(n[1]))},invokeWithDynamicDependencies:g},I[3]={invoke:function(e,t,n){return new t(e.get(n[0]),e.get(n[1]),e.get(n[2]))},invokeWithDynamicDependencies:g},I[4]={invoke:function(e,t,n){return new t(e.get(n[0]),e.get(n[1]),e.get(n[2]),e.get(n[3]))},invokeWithDynamicDependencies:g},I[5]={invoke:function(e,t,n){return new t(e.get(n[0]),e.get(n[1]),e.get(n[2]),e.get(n[3]),e.get(n[4]))},invokeWithDynamicDependencies:g},I.fallback={invoke:g,invokeWithDynamicDependencies:g},I);e.Container=function(){function e(e){void 0===e&&(e={}),this._configuration=e,this._onHandlerCreated=e.onHandlerCreated,this._handlers=e.handlers||(e.handlers=new Map),this._resolvers=new Map,this.root=this,this.parent=null}return e.prototype.makeGlobal=function(){return e.instance=this,this},e.prototype.setHandlerCreatedCallback=function(e){this._onHandlerCreated=e,this._configuration.onHandlerCreated=e},e.prototype.registerInstance=function(e,t){return this.registerResolver(e,new V(0,void 0===t?e:t))},e.prototype.registerSingleton=function(e,t){return this.registerResolver(e,new V(1,void 0===t?e:t))},e.prototype.registerTransient=function(e,t){return this.registerResolver(e,new V(2,void 0===t?e:t))},e.prototype.registerHandler=function(e,t){return this.registerResolver(e,new V(3,t))},e.prototype.registerAlias=function(e,t){return this.registerResolver(t,new V(5,e))},e.prototype.registerResolver=function(e,t){v(e);var n=this._resolvers,r=n.get(e);return void 0===r?n.set(e,t):4===r.strategy?r.state.push(t):n.set(e,new V(4,[r,t])),t},e.prototype.autoRegister=function(e,n){if("function"==typeof(n=void 0===n?e:n)){var r=t.metadata.get(t.metadata.registration,n);return void 0===r?this.registerResolver(e,new V(1,n)):r.registerResolver(this,e,n)}return this.registerResolver(e,new V(0,n))},e.prototype.autoRegisterAll=function(e){for(var t=e.length;t--;)this.autoRegister(e[t])},e.prototype.unregister=function(e){this._resolvers.delete(e)},e.prototype.hasResolver=function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return v(e),this._resolvers.has(e)||t&&null!==this.parent&&this.parent.hasResolver(e,t)},e.prototype.getResolver=function(e){return this._resolvers.get(e)},e.prototype.get=function(n){if(v(n),n===e)return this;if(Y(n))return n.get(this,n);var r=this._resolvers.get(n);if(void 0===r){if(null===this.parent)return this.autoRegister(n).get(this,n);var i=t.metadata.get(t.metadata.registration,n);return void 0===i?this.parent._get(n):i.registerResolver(this,n,n).get(this,n)}return r.get(this,n)},e.prototype._get=function(e){var t=this._resolvers.get(e);return void 0===t?null===this.parent?this.autoRegister(e).get(this,e):this.parent._get(e):t.get(this,e)},e.prototype.getAll=function(e){v(e);var t=this._resolvers.get(e);if(void 0===t)return null===this.parent?G:this.parent.getAll(e);if(4===t.strategy){for(var n=t.state,r=n.length,i=new Array(r);r--;)i[r]=n[r].get(this,e);return i}return[t.get(this,e)]},e.prototype.createChild=function(){var t=new e(this._configuration);return t.root=this.root,t.parent=this,t},e.prototype.invoke=function(e,t){try{var r=this._handlers.get(e);return void 0===r&&(r=this._createInvocationHandler(e),this._handlers.set(e,r)),r.invoke(this,t)}catch(t){throw new n.AggregateError("Error invoking "+e.name+". Check the inner error for details.",t,!0)}},e.prototype._createInvocationHandler=function(e){var n=void 0;if(void 0===e.inject)n=t.metadata.getOwn(t.metadata.paramTypes,e)||G;else{n=[];for(var r=e;"function"==typeof r;){var i;(i=n).push.apply(i,m(r)),r=Object.getPrototypeOf(r)}}var o=t.metadata.getOwn(t.metadata.invoker,e)||Z[n.length]||Z.fallback,a=new X(e,o,n);return void 0!==this._onHandlerCreated?this._onHandlerCreated(a):a},e}()}),define("aurelia-event-aggregator",["exports","aurelia-logging"],function(e,t){"use strict";function n(e,t,n){try{e(t,n)}catch(e){s.error(e)}}function r(e,t){try{e.handle(t)}catch(e){s.error(e)}}function i(e){var t=new l;return e.subscribeOnce=function(e,n){return t.subscribeOnce(e,n)},e.subscribe=function(e,n){return t.subscribe(e,n)},e.publish=function(e,n){t.publish(e,n)},t}function o(e){e.instance(l,i(e.aurelia))}Object.defineProperty(e,"__esModule",{value:!0}),e.EventAggregator=void 0,e.includeEventsIn=i,e.configure=o;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),s=a.getLogger("event-aggregator"),u=function(){function e(e,t){this.messageType=e,this.callback=t}return e.prototype.handle=function(e){e instanceof this.messageType&&this.callback.call(null,e)},e}(),l=e.EventAggregator=function(){function e(){this.eventLookup={},this.messageHandlers=[]}return e.prototype.publish=function(e,t){var i=void 0,o=void 0;if(!e)throw new Error("Event was invalid.");if("string"==typeof e){if(i=this.eventLookup[e])for(i=i.slice(),o=i.length;o--;)n(i[o],t,e)}else for(i=this.messageHandlers.slice(),o=i.length;o--;)r(i[o],e)},e.prototype.subscribe=function(e,t){var n=void 0,r=void 0;if(!e)throw new Error("Event channel/type was invalid.");return"string"==typeof e?(n=t,r=this.eventLookup[e]||(this.eventLookup[e]=[])):(n=new u(e,t),r=this.messageHandlers),r.push(n),{dispose:function(){var e=r.indexOf(n);-1!==e&&r.splice(e,1)}}},e.prototype.subscribeOnce=function(e,t){var n=this.subscribe(e,function(e,r){return n.dispose(),t(e,r)});return n},e}()}),define("aurelia-framework",["exports","aurelia-dependency-injection","aurelia-binding","aurelia-metadata","aurelia-templating","aurelia-loader","aurelia-task-queue","aurelia-path","aurelia-pal","aurelia-logging"],function(e,t,n,r,i,o,a,s,u,l){"use strict";function c(){u.DOM.addEventListener("submit",function(e){var t=e.target,n=t.action;"form"!==t.tagName.toLowerCase()||n||e.preventDefault()})}function f(e,t){var n=void 0;return function r(){return n=t.shift(),n?Promise.resolve(n(e)).then(r):Promise.resolve()}()}function h(e,t,n){function r(r){return t.loadModule(r).then(function(t){if("configure"in t)return Promise.resolve(t.configure(e,n.config||{})).then(function(){e.resourcesRelativeTo=null,m.debug("Configured plugin "+n.moduleId+".")});e.resourcesRelativeTo=null,m.debug("Loaded plugin "+n.moduleId+".")})}m.debug("Loading plugin "+n.moduleId+"."),e.resourcesRelativeTo=n.resourcesRelativeTo;var i=n.moduleId;return n.resourcesRelativeTo.length>1?t.normalize(n.moduleId,n.resourcesRelativeTo[1]).then(function(e){return r(e)}):r(i)}function d(e,t,n){function r(t){var n=t.moduleId,r=p(n);return o(n)&&(n=a(n)),e.loader.normalize(n,t.relativeTo).then(function(e){return{name:t.moduleId,importId:o(t.moduleId)?s(e,r):e}})}function o(e){var t=p(e);return!!t&&(""!==t&&(".js"!==t&&".ts"!==t))}function a(e){return e.replace(y,"")}function s(e,t){return a(e)+"."+t}var u=e.container.get(i.ViewEngine);return Promise.all(Object.keys(t).map(function(e){return r(t[e])})).then(function(e){var t=[],r=[];return e.forEach(function(e){t.push(void 0),r.push(e.importId)}),u.importViewResources(r,t,n)})}function p(e){var t=e.match(y);if(t&&t.length>0)return t[0].split(".")[1]}function v(e){if(e.processed)throw new Error("This config instance has already been applied. To load more plugins or global resources, create a new FrameworkConfiguration instance.")}Object.defineProperty(e,"__esModule",{value:!0}),e.LogManager=e.FrameworkConfiguration=e.Aurelia=void 0,Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}),Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}),Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}),Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}),Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}),Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})}),Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})}),Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),m=(e.Aurelia=function(){function e(n,r,a){this.loader=n||new u.PLATFORM.Loader,this.container=r||(new t.Container).makeGlobal(),this.resources=a||new i.ViewResources,this.use=new b(this),this.logger=g.getLogger("aurelia"),this.hostConfigured=!1,this.host=null,this.use.instance(e,this),this.use.instance(o.Loader,this.loader),this.use.instance(i.ViewResources,this.resources)}
return e.prototype.start=function(){var e=this;return this._started?this._started:(this.logger.info("Aurelia Starting"),this._started=this.use.apply().then(function(){if(c(),!e.container.hasResolver(i.BindingLanguage)){var t="You must configure Aurelia with a BindingLanguage implementation.";throw e.logger.error(t),new Error(t)}e.logger.info("Aurelia Started");var n=u.DOM.createCustomEvent("aurelia-started",{bubbles:!0,cancelable:!0});return u.DOM.dispatchEvent(n),e}))},e.prototype.enhance=function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this._configureHost(n||u.DOM.querySelectorAll("body")[0]),new Promise(function(n){var r=e.container.get(i.TemplatingEngine);e.root=r.enhance({container:e.container,element:e.host,resources:e.resources,bindingContext:t}),e.root.attached(),e._onAureliaComposed(),n(e)})},e.prototype.setRoot=function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],r={};this.root&&this.root.viewModel&&this.root.viewModel.router&&(this.root.viewModel.router.deactivate(),this.root.viewModel.router.reset()),this._configureHost(n);var o=this.container.get(i.TemplatingEngine);return delete this.container.get(i.CompositionTransaction).initialComposition,t||(t=this.configModuleId?(0,s.relativeToFile)("./app",this.configModuleId):"app"),r.viewModel=t,r.container=r.childContainer=this.container,r.viewSlot=this.hostSlot,r.host=this.host,o.compose(r).then(function(t){return e.root=t,r.viewSlot.attached(),e._onAureliaComposed(),e})},e.prototype._configureHost=function(e){if(!this.hostConfigured){if(e=e||this.host,this.host=e&&"string"!=typeof e?e:u.DOM.getElementById(e||"applicationHost"),!this.host)throw new Error("No applicationHost was specified.");this.hostConfigured=!0,this.host.aurelia=this,this.hostSlot=new i.ViewSlot(this.host,!0),this.hostSlot.transformChildNodesIntoView(),this.container.registerInstance(u.DOM.boundary,this.host)}},e.prototype._onAureliaComposed=function(){var e=u.DOM.createCustomEvent("aurelia-composed",{bubbles:!0,cancelable:!0});setTimeout(function(){return u.DOM.dispatchEvent(e)},1)},e}(),g.getLogger("aurelia")),y=/\.[^\/.]+$/,b=function(){function e(e){var t=this;this.aurelia=e,this.container=e.container,this.info=[],this.processed=!1,this.preTasks=[],this.postTasks=[],this.resourcesToLoad={},this.preTask(function(){return e.loader.normalize("aurelia-bootstrapper").then(function(e){return t.bootstrapperName=e})}),this.postTask(function(){return d(e,t.resourcesToLoad,e.resources)})}return e.prototype.instance=function(e,t){return this.container.registerInstance(e,t),this},e.prototype.singleton=function(e,t){return this.container.registerSingleton(e,t),this},e.prototype.transient=function(e,t){return this.container.registerTransient(e,t),this},e.prototype.preTask=function(e){return v(this),this.preTasks.push(e),this},e.prototype.postTask=function(e){return v(this),this.postTasks.push(e),this},e.prototype.feature=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=/\/index$/i.test(e),r=n||p(e)?e:e+"/index",i=n?e.substr(0,e.length-6):e;return this.plugin({moduleId:r,resourcesRelativeTo:[i,""],config:t})},e.prototype.globalResources=function(e){v(this);for(var t=Array.isArray(e)?e:arguments,n=void 0,r=this.resourcesRelativeTo||["",""],i=0,o=t.length;i<o;++i){if("string"!=typeof(n=t[i]))throw new Error("Invalid resource path ["+n+"]. Resources must be specified as relative module IDs.");var a=r[0],u=r[1],l=n;(n.startsWith("./")||n.startsWith("../"))&&""!==a&&(l=(0,s.join)(a,n)),this.resourcesToLoad[l]={moduleId:l,relativeTo:u}}return this},e.prototype.globalName=function(e,t){return v(this),this.resourcesToLoad[e]={moduleId:t,relativeTo:""},this},e.prototype.plugin=function(e,t){return v(this),"string"==typeof e?this.plugin({moduleId:e,resourcesRelativeTo:[e,""],config:t||{}}):(this.info.push(e),this)},e.prototype._addNormalizedPlugin=function(e,t){var n=this,r={moduleId:e,resourcesRelativeTo:[e,""],config:t||{}};return this.plugin(r),this.preTask(function(){var t=[e,n.bootstrapperName];return r.moduleId=e,r.resourcesRelativeTo=t,Promise.resolve()}),this},e.prototype.defaultBindingLanguage=function(){return this._addNormalizedPlugin("aurelia-templating-binding")},e.prototype.router=function(){return this._addNormalizedPlugin("aurelia-templating-router")},e.prototype.history=function(){return this._addNormalizedPlugin("aurelia-history-browser")},e.prototype.defaultResources=function(){return this._addNormalizedPlugin("aurelia-templating-resources")},e.prototype.eventAggregator=function(){return this._addNormalizedPlugin("aurelia-event-aggregator")},e.prototype.basicConfiguration=function(){return this.defaultBindingLanguage().defaultResources().eventAggregator()},e.prototype.standardConfiguration=function(){return this.basicConfiguration().history().router()},e.prototype.developmentLogging=function(){var e=this;return this.preTask(function(){return e.aurelia.loader.normalize("aurelia-logging-console",e.bootstrapperName).then(function(t){return e.aurelia.loader.loadModule(t).then(function(e){g.addAppender(new e.ConsoleAppender),g.setLevel(g.logLevel.debug)})})}),this},e.prototype.apply=function(){var e=this;return this.processed?Promise.resolve():f(this,this.preTasks).then(function(){var t=e.aurelia.loader,n=e.info,r=void 0;return function i(){return(r=n.shift())?h(e,t,r).then(i):(e.processed=!0,Promise.resolve())}().then(function(){return f(e,e.postTasks)})})},e}();e.FrameworkConfiguration=b;e.LogManager=g}),define("aurelia-history",["exports"],function(e){"use strict";function t(e){throw new Error("History must implement "+e+"().")}Object.defineProperty(e,"__esModule",{value:!0});e.History=function(){function e(){}return e.prototype.activate=function(e){t("activate")},e.prototype.deactivate=function(){t("deactivate")},e.prototype.getAbsoluteRoot=function(){t("getAbsoluteRoot")},e.prototype.navigate=function(e,n){t("navigate")},e.prototype.navigateBack=function(){t("navigateBack")},e.prototype.setTitle=function(e){t("setTitle")},e.prototype.setState=function(e,n){t("setState")},e.prototype.getState=function(e){t("getState")},e}()}),define("aurelia-history-browser",["exports","aurelia-pal","aurelia-history"],function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){e.singleton(n.History,h),e.transient(c,f)}function a(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}function s(e,t,n){return e+"//"+t+(n?":"+n:"")}Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserHistory=e.DefaultLinkHandler=e.LinkHandler=void 0,e.configure=o;var u,l,c=e.LinkHandler=function(){function e(){}return e.prototype.activate=function(e){},e.prototype.deactivate=function(){},e}(),f=e.DefaultLinkHandler=function(e){function n(){var t=r(this,e.call(this));return t.handler=function(e){var r=n.getEventInfo(e),i=r.shouldHandleEvent,o=r.href;i&&(e.preventDefault(),t.history.navigate(o))},t}return i(n,e),n.prototype.activate=function(e){e._hasPushState&&(this.history=e,t.DOM.addEventListener("click",this.handler,!0))},n.prototype.deactivate=function(){t.DOM.removeEventListener("click",this.handler)},n.getEventInfo=function(e){var t={shouldHandleEvent:!1,href:null,anchor:null},r=n.findClosestAnchor(e.target);if(!r||!n.targetIsThisWindow(r))return t;if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return t;var i=r.getAttribute("href");t.anchor=r,t.href=i;var o=1===e.which,a=i&&!("#"===i.charAt(0)||/^[a-z]+:/i.test(i));return t.shouldHandleEvent=o&&a,t},n.findClosestAnchor=function(e){for(;e;){if("A"===e.tagName)return e;e=e.parentNode}},n.targetIsThisWindow=function(e){var n=e.getAttribute("target"),r=t.PLATFORM.global;return!n||n===r.name||"_self"===n||"top"===n&&r===r.top},n}(c),h=e.BrowserHistory=(l=u=function(e){function n(n){var i=r(this,e.call(this));return i._isActive=!1,i._checkUrlCallback=i._checkUrl.bind(i),i.location=t.PLATFORM.location,i.history=t.PLATFORM.history,i.linkHandler=n,i}return i(n,e),n.prototype.activate=function(e){if(this._isActive)throw new Error("History has already been activated.");var n=!!e.pushState;this._isActive=!0,this.options=Object.assign({},{root:"/"},this.options,e),this.root=("/"+this.options.root+"/").replace(p,"/"),this._wantsHashChange=!1!==this.options.hashChange,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=void 0;if(this._hasPushState?r="popstate":this._wantsHashChange&&(r="hashchange"),t.PLATFORM.addEventListener(r,this._checkUrlCallback),this._wantsHashChange&&n){var i=this.location,o=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(!this._hasPushState&&!o)return this.fragment=this._getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&o&&i.hash&&(this.fragment=this._getHash().replace(d,""),this.history.replaceState({},t.DOM.title,this.root+this.fragment+i.search))}if(this.fragment||(this.fragment=this._getFragment()),this.linkHandler.activate(this),!this.options.silent)return this._loadUrl()},n.prototype.deactivate=function(){t.PLATFORM.removeEventListener("popstate",this._checkUrlCallback),t.PLATFORM.removeEventListener("hashchange",this._checkUrlCallback),this._isActive=!1,this.linkHandler.deactivate()},n.prototype.getAbsoluteRoot=function(){return""+s(this.location.protocol,this.location.hostname,this.location.port)+this.root},n.prototype.navigate=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.trigger,i=void 0===r||r,o=n.replace,s=void 0!==o&&o;if(e&&g.test(e))return this.location.href=e,!0;if(!this._isActive)return!1;if(e=this._getFragment(e||""),this.fragment===e&&!s)return!1;this.fragment=e;var u=this.root+e;if(""===e&&"/"!==u&&(u=u.slice(0,-1)),this._hasPushState)u=u.replace("//","/"),this.history[s?"replaceState":"pushState"]({},t.DOM.title,u);else{if(!this._wantsHashChange)return this.location.assign(u);a(this.location,e,s)}return i?this._loadUrl(e):void 0},n.prototype.navigateBack=function(){this.history.back()},n.prototype.setTitle=function(e){t.DOM.title=e},n.prototype.setState=function(e,t){var n=Object.assign({},this.history.state);n[e]=t,this.history.replaceState(n,null,null)},n.prototype.getState=function(e){return Object.assign({},this.history.state)[e]},n.prototype._getHash=function(){return this.location.hash.substr(1)},n.prototype._getFragment=function(e,t){var n=void 0;return e||(this._hasPushState||!this._wantsHashChange||t?(e=this.location.pathname+this.location.search,n=this.root.replace(v,""),e.indexOf(n)||(e=e.substr(n.length))):e=this._getHash()),"/"+e.replace(d,"")},n.prototype._checkUrl=function(){this._getFragment()!==this.fragment&&this._loadUrl()},n.prototype._loadUrl=function(e){var t=this.fragment=this._getFragment(e);return!!this.options.routeHandler&&this.options.routeHandler(t)},n}(n.History),u.inject=[c],l),d=/^#?\/*|\s+$/g,p=/^\/+|\/+$/g,v=/\/$/,g=/^([a-z][a-z0-9+\-.]*:)?\/\//i}),define("aurelia-loader",["exports","aurelia-path","aurelia-metadata"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Loader=e.TemplateRegistryEntry=e.TemplateDependency=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e.TemplateDependency=function(e,t){this.src=e,this.name=t},o=e.TemplateRegistryEntry=function(){function e(e){this.templateIsLoaded=!1,this.factoryIsReady=!1,this.resources=null,this.dependencies=null,this.address=e,this.onReady=null,this._template=null,this._factory=null}return e.prototype.addDependency=function(e,r){var o="string"==typeof e?(0,t.relativeToFile)(e,this.address):n.Origin.get(e).moduleId;this.dependencies.push(new i(o,r))},r(e,[{key:"template",get:function(){return this._template},set:function(e){var n=this.address,r=void 0,o=void 0,a=void 0,s=void 0;this._template=e,this.templateIsLoaded=!0,r=e.content.querySelectorAll("require"),s=this.dependencies=new Array(r.length);for(var u=0,l=r.length;u<l;++u){if(o=r[u],!(a=o.getAttribute("from")))throw new Error("<require> element in "+n+' has no "from" attribute.');s[u]=new i((0,t.relativeToFile)(a,n),o.getAttribute("as")),o.parentNode&&o.parentNode.removeChild(o)}}},{key:"factory",get:function(){return this._factory},set:function(e){this._factory=e,this.factoryIsReady=!0}}]),e}();e.Loader=function(){function e(){this.templateRegistry={}}return e.prototype.map=function(e,t){throw new Error("Loaders must implement map(id, source).")},e.prototype.normalizeSync=function(e,t){throw new Error("Loaders must implement normalizeSync(moduleId, relativeTo).")},e.prototype.normalize=function(e,t){throw new Error("Loaders must implement normalize(moduleId: string, relativeTo: string): Promise<string>.")},e.prototype.loadModule=function(e){throw new Error("Loaders must implement loadModule(id).")},e.prototype.loadAllModules=function(e){throw new Error("Loader must implement loadAllModules(ids).")},e.prototype.loadTemplate=function(e){throw new Error("Loader must implement loadTemplate(url).")},e.prototype.loadText=function(e){throw new Error("Loader must implement loadText(url).")},e.prototype.applyPluginToUrl=function(e,t){throw new Error("Loader must implement applyPluginToUrl(url, pluginName).")},e.prototype.addPlugin=function(e,t){throw new Error("Loader must implement addPlugin(pluginName, implementation).")},e.prototype.getOrCreateTemplateRegistryEntry=function(e){return this.templateRegistry[e]||(this.templateRegistry[e]=new o(e))},e}()}),define("aurelia-loader-default",["exports","aurelia-loader","aurelia-pal","aurelia-metadata"],function(e,t,n,r){"use strict";function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=e,i=void 0,o=void 0;n.__useDefault&&(n=n.default),r.Origin.set(n,new r.Origin(t,"default"));for(i in n)"function"==typeof(o=n[i])&&r.Origin.set(o,new r.Origin(t,i));return e}Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultLoader=e.TextTemplateLoader=void 0;var s=e.TextTemplateLoader=function(){function e(){}return e.prototype.loadTemplate=function(e,t){return e.loadText(t.address).then(function(e){t.template=n.DOM.createTemplateFromMarkup(e)})},e}(),u=e.DefaultLoader=function(e){function t(){var t=i(this,e.call(this));t.textPluginName="text",t.moduleRegistry=Object.create(null),t.useTemplateLoader(new s);var n=t;return t.addPlugin("template-registry-entry",{fetch:function(e){var t=n.getOrCreateTemplateRegistryEntry(e);return t.templateIsLoaded?t:n.templateLoader.loadTemplate(n,t).then(function(e){return t})}}),t}return o(t,e),t.prototype.useTemplateLoader=function(e){this.templateLoader=e},t.prototype.loadAllModules=function(e){for(var t=[],n=0,r=e.length;n<r;++n)t.push(this.loadModule(e[n]));return Promise.all(t)},t.prototype.loadTemplate=function(e){return this._import(this.applyPluginToUrl(e,"template-registry-entry"))},t.prototype.loadText=function(e){return this._import(this.applyPluginToUrl(e,this.textPluginName)).then(function(e){return"string"==typeof e?e:e.default})},t}(t.Loader);n.PLATFORM.Loader=u,n.PLATFORM.global.System&&n.PLATFORM.global.System.import?(n.PLATFORM.eachModule=function(e){if(System.registry)for(var t=Array.from(System.registry.keys()),n=0;n<t.length;n++)try{var r=t[n];if(e(r,System.registry.get(r)))return}catch(e){}else{var i=System._loader.modules;for(var o in i)try{if(e(o,i[o].module))return}catch(e){}}},System.set("text",System.newModule({translate:function(e){return'module.exports = "'+e.source.replace(/(["\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")+'";'}})),u.prototype._import=function(e){return System.import(e)},u.prototype.loadModule=function(e){var t=this;return System.normalize(e).then(function(e){var n=t.moduleRegistry[e];return void 0!==n?Promise.resolve(n):System.import(e).then(function(n){return t.moduleRegistry[e]=n,a(n,e)})})},u.prototype.map=function(e,t){var n;System.config({map:(n={},n[e]=t,n)})},u.prototype.normalizeSync=function(e,t){return System.normalizeSync(e,t)},u.prototype.normalize=function(e,t){return System.normalize(e,t)},u.prototype.applyPluginToUrl=function(e,t){return e+"!"+t},u.prototype.addPlugin=function(e,t){System.set(e,System.newModule({fetch:function(e,n){var r=t.fetch(e.address);return Promise.resolve(r).then(function(t){return e.metadata.result=t,""})},instantiate:function(e){return e.metadata.result}}))}):(n.PLATFORM.global.requirejs&&requirejs.s&&requirejs.s.contexts&&requirejs.s.contexts._&&requirejs.s.contexts._.defined?n.PLATFORM.eachModule=function(e){var t=requirejs.s.contexts._.defined;for(var n in t)try{if(e(n,t[n]))return}catch(e){}}:n.PLATFORM.eachModule=function(e){},u.prototype._import=function(e){return new Promise(function(t,n){require([e],t,n)})},u.prototype.loadModule=function(e){var t=this,n=this.moduleRegistry[e];return void 0!==n?Promise.resolve(n):new Promise(function(n,r){require([e],function(r){t.moduleRegistry[e]=r,n(a(r,e))},r)})},u.prototype.map=function(e,t){},u.prototype.normalize=function(e,t){return Promise.resolve(e)},u.prototype.normalizeSync=function(e,t){return e},u.prototype.applyPluginToUrl=function(e,t){return t+"!"+e},u.prototype.addPlugin=function(e,t){define(e,[],{load:function(e,n,r){var i=t.fetch(e);Promise.resolve(i).then(r)}})})}),define("aurelia-logging",["exports"],function(e){"use strict";function t(e){return w.filter(function(t){return t===e}).length>0}function n(){return[this].concat(Array.prototype.slice.call(arguments))}function r(e){var t=g[e];return function(){if(!(this.level<t))for(var r=n.apply(this,arguments),i=y.length;i--;){var o;(o=y[i])[e].apply(o,r)}}}function i(e){var t=g[e];return function(){if(!(this.level<t))for(var r=n.apply(this,arguments),i=y.length;i--;){var o=y[i];void 0!==o[e]&&o[e].apply(o,r)}}}function o(){var e=x.prototype;for(var n in g)t(n)?"none"!==n&&(e[n]=r(n)):e[n]=i(n)}function a(){var e=x.prototype;for(var t in g)"none"!==t&&(e[t]=function(){})}function s(e){return m[e]||new x(e)}function u(e){1===y.push(e)&&o()}function l(e){y=y.filter(function(t){return t!==e})}function c(){return[].concat(y)}function f(){y=[],a()}function h(e,t){if(void 0!==g[e])throw Error('Log level "'+e+'" already exists.');if(isNaN(t))throw Error("Value must be a number.");g[e]=t,y.length>0?o():x.prototype[e]=function(){}}function d(e){if(void 0!==g[e]){if(t(e))throw Error('Built-in log level "'+e+'" cannot be removed.');delete g[e],delete x.prototype[e]}}function p(e){b=e;for(var t in m)m[t].setLevel(e)}function v(){return b}Object.defineProperty(e,"__esModule",{value:!0}),e.getLogger=s,e.addAppender=u,e.removeAppender=l,e.getAppenders=c,e.clearAppenders=f,e.addCustomLevel=h,e.removeCustomLevel=d,e.setLevel=p,e.getLevel=v;var g=e.logLevel={none:0,error:10,warn:20,info:30,debug:40},m={},y=[],b=g.none,w=["none","error","warn","info","debug"],x=e.Logger=function(){function e(e){var t=m[e];if(t)return t;m[e]=this,this.id=e,this.level=b}return e.prototype.debug=function(e){},e.prototype.info=function(e){},e.prototype.warn=function(e){},e.prototype.error=function(e){},e.prototype.setLevel=function(e){this.level=e},e}()}),define("aurelia-logging-console",["exports","aurelia-logging"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleAppender=void 0;e.ConsoleAppender=function(){function e(){}return e.prototype.debug=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).debug.apply(t,["DEBUG ["+e.id+"]"].concat(r))},e.prototype.info=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).info.apply(t,["INFO ["+e.id+"]"].concat(r))},e.prototype.warn=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).warn.apply(t,["WARN ["+e.id+"]"].concat(r))},e.prototype.error=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).error.apply(t,["ERROR ["+e.id+"]"].concat(r))},e}()}),define("aurelia-metadata",["exports","aurelia-pal"],function(e,t){"use strict";function n(e){return e&&("function"==typeof e||"object"===(void 0===e?"undefined":d(e)))}function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e,n,r){var i=t.length;if(n){for(r=r||{value:e[n],writable:!0,configurable:!0,enumerable:!0};i--;)r=t[i](e,n,r)||r;Object.defineProperty(e,n,r)}else for(;i--;)e=t[i](e)||e;return e};return r.on=r,r}function i(e,t,n){function r(n,r,i){var o=n.constructor.name+"#"+r,a=t?{}:e||{},s="DEPRECATION - "+o;if("function"!=typeof i.value)throw new SyntaxError("Only methods can be marked as deprecated.");return a.message&&(s+=" - "+a.message),h({},i,{value:function(){if(a.error)throw new Error(s);return console.warn(s),i.value.apply(this,arguments)}})}return t?r(e,t,n):r}function o(e){function t(t){var r=function(t){for(var r="function"==typeof t?t.prototype:t,i=n.length;i--;){var o=n[i];Object.defineProperty(r,o,{value:e[o],writable:!0})}};return t?r(t):r}var n=Object.keys(e);return t}function a(){return!0}function s(){}function u(e){return void 0===e?e={}:"function"==typeof e&&(e={validate:e}),e.validate||(e.validate=a),e.compose||(e.compose=s),e}function l(e){return function(t){return!0===e(t)}}function c(e,t){return function(n){var r=t(n);if(!0!==r)throw new Error(r||e+" was not correctly implemented.")}}function f(e,t){t=u(t);var n=function n(r){var i="function"==typeof r?r.prototype:r;t.compose(i),n.assert(i),Object.defineProperty(i,"protocol:"+e,{enumerable:!1,configurable:!1,writable:!1,value:!0})};return n.validate=l(t.validate),n.assert=c(e,t.validate),n}Object.defineProperty(e,"__esModule",{value:!0}),e.Origin=e.metadata=void 0,e.decorators=r,e.deprecated=i,e.mixin=o,e.protocol=f;var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},p=e.metadata={resource:"aurelia:resource",paramTypes:"design:paramtypes",propertyType:"design:type",properties:"design:properties",get:function(e,t,r){if(n(t)){var i=p.getOwn(e,t,r);return void 0===i?p.get(e,Object.getPrototypeOf(t),r):i}},getOwn:function(e,t,r){if(n(t))return Reflect.getOwnMetadata(e,t,r)},define:function(e,t,n,r){Reflect.defineMetadata(e,t,n,r)},getOrCreateOwn:function(e,t,n,r){var i=p.getOwn(e,n,r);return void 0===i&&(i=new t,Reflect.defineMetadata(e,i,n,r)),i}},v=new Map,g=Object.freeze({moduleId:void 0,moduleMember:void 0});e.Origin=function(){function e(e,t){this.moduleId=e,this.moduleMember=t}return e.get=function(n){var r=v.get(n);return void 0===r&&t.PLATFORM.eachModule(function(t,i){if("object"===(void 0===i?"undefined":d(i)))for(var o in i){var a=i[o];if(a===n)return v.set(n,r=new e(t,o)),!0}return i===n&&(v.set(n,r=new e(t,"default")),!0)}),r||g},e.set=function(e,t){v.set(e,t)},e}();f.create=function(e,t){t=u(t);var n="protocol:"+e,r=function(n){var r=f(e,t);return n?r(n):r};return r.decorates=function(e){return!0===e[n]},r.validate=l(t.validate),r.assert=c(e,t.validate),r}}),define("aurelia-pal",["exports"],function(e){"use strict";function t(e,t,n){if(t){if(t.innerError&&n)return t;var r="\n------------------------------------------------\n";e+=r+"Inner Error:\n","string"==typeof t?e+="Message: "+t:(t.message?e+="Message: "+t.message:e+="Unknown Inner Error Type. Displaying Inner Error as JSON:\n "+JSON.stringify(t,null,"  "),t.stack&&(e+="\nInner Error Stack:\n"+t.stack,e+="\nEnd Inner Error Stack")),e+=r}var i=new Error(e);return t&&(i.innerError=t),i}function n(t){s||(e.isInitialized=s=!0,"function"!=typeof Object.getPropertyDescriptor&&(Object.getPropertyDescriptor=function(e,t){for(var n=Object.getOwnPropertyDescriptor(e,t),r=Object.getPrototypeOf(e);void 0===n&&null!==r;)n=Object.getOwnPropertyDescriptor(r,t),r=Object.getPrototypeOf(r);return n}),t(o,i,a))}function r(){e.isInitialized=s=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.AggregateError=t,e.initializePAL=n,e.reset=r;var i=e.FEATURE={},o=e.PLATFORM={noop:function(){},eachModule:function(){},moduleName:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return e})};o.global=function(){return"undefined"!=typeof self?self:"undefined"!=typeof global?global:new Function("return this")()}();var a=e.DOM={},s=e.isInitialized=!1}),define("aurelia-pal-browser",["exports","aurelia-pal"],function(e,t){"use strict";function n(){t.isInitialized||(0,t.initializePAL)(function(e,t,n){Object.assign(e,i),Object.assign(t,l),Object.assign(n,f),Object.defineProperty(n,"title",{get:function(){return document.title},set:function(e){document.title=e}}),Object.defineProperty(n,"activeElement",{get:function(){return document.activeElement}}),Object.defineProperty(e,"XMLHttpRequest",{get:function(){return e.global.XMLHttpRequest}})})}Object.defineProperty(e,"__esModule",{value:!0}),e._DOM=e._FEATURE=e._PLATFORM=void 0,e.initialize=n;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e._PLATFORM={location:window.location,history:window.history,addEventListener:function(e,t,n){this.global.addEventListener(e,t,n)},removeEventListener:function(e,t,n){this.global.removeEventListener(e,t,n)},performance:window.performance,requestAnimationFrame:function(e){return this.global.requestAnimationFrame(e)}};if("undefined"==typeof FEATURE_NO_IE){void 0===function(){}.name&&Object.defineProperty(Function.prototype,"name",{get:function(){var e=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,"name",{value:e}),e}})}if("undefined"==typeof FEATURE_NO_IE)if("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))){var o=document.createElement("_");if(o.classList.add("c1","c2"),!o.classList.contains("c2")){var a=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){for(var n=0,r=arguments.length;n<r;++n)e=arguments[n],t.call(this,e)}};a("add"),a("remove")}o.classList.toggle("c3",!1),o.classList.contains("c3")&&function(){var e=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,n){return 1 in arguments&&!this.contains(t)==!n?n:e.call(this,t)}}(),o=null}else!function(){var e=String.prototype.trim,t=Array.prototype.indexOf,n=[],r=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},i=function(e,n){if(""===n)throw new r("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(n))throw new r("INVALID_CHARACTER_ERR","String contains an invalid character");return t.call(e,n)},o=function(t){for(var r=e.call(t.getAttribute("class")||""),i=r?r.split(/\s+/):n,o=0,a=i.length;o<a;++o)this.push(i[o]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},a=o.prototype=[];r.prototype=Error.prototype,a.item=function(e){return this[e]||null},a.contains=function(e){return e+="",-1!==i(this,e)},a.add=function(){var e=arguments,t=0,n=e.length,r=void 0,o=!1;do{r=e[t]+"",-1===i(this,r)&&(this.push(r),o=!0)}while(++t<n);o&&this._updateClassName()},a.remove=function(){var e=arguments,t=0,n=e.length,r=void 0,o=!1,a=void 0;do{for(r=e[t]+"",a=i(this,r);-1!==a;)this.splice(a,1),o=!0,a=i(this,r)}while(++t<n);o&&this._updateClassName()},a.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},a.toString=function(){return this.join(" ")},Object.defineProperty(Element.prototype,"classList",{get:function(){return new o(this)},enumerable:!0,configurable:!0})}();if("undefined"==typeof FEATURE_NO_IE&&("performance"in window==!1&&(window.performance={}),"now"in window.performance==!1&&function(){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}(),i.performance=window.performance),"undefined"==typeof FEATURE_NO_IE&&function(){var e=window.console=window.console||{},t=function(){};e.memory||(e.memory={}),"assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",").forEach(function(n){e[n]||(e[n]=t)}),"object"===r(e.log)&&"log,info,warn,error,assert,dir,clear,profile,profileEnd".split(",").forEach(function(e){console[e]=this.bind(console[e],console)},Function.prototype.call)}(),"undefined"==typeof FEATURE_NO_IE&&(!window.CustomEvent||"function"!=typeof window.CustomEvent)){var s=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};s.prototype=window.Event.prototype,window.CustomEvent=s}if(Element&&!Element.prototype.matches){var u=Element.prototype;u.matches=u.matchesSelector||u.mozMatchesSelector||u.msMatchesSelector||u.oMatchesSelector||u.webkitMatchesSelector}var l=e._FEATURE={shadowDOM:!!HTMLElement.prototype.attachShadow,scopedCSS:"scoped"in document.createElement("style"),htmlTemplateElement:function(){var e=document.createElement("div");return e.innerHTML="<template></template>","content"in e.children[0]}(),mutationObserver:!(!window.MutationObserver&&!window.WebKitMutationObserver),ensureHTMLTemplateElement:function(e){return e}};"undefined"==typeof FEATURE_NO_IE&&function(){var e=function(e){return"template"===e.tagName&&"http://www.w3.org/2000/svg"===e.namespaceURI},t=function(e){var t=e.ownerDocument.createElement("template"),r=e.attributes,i=r.length,o=void 0;for(e.parentNode.insertBefore(t,e);i-- >0;)o=r[i],t.setAttribute(o.name,o.value),e.removeAttribute(o.name);return e.parentNode.removeChild(e),n(t)},n=function(e){for(var t=e.content=document.createDocumentFragment(),n=void 0;n=e.firstChild;)t.appendChild(n);return e},r=function(r){for(var i=n(r).content,o=i.querySelectorAll("template"),a=0,s=o.length;a<s;++a){var u=o[a];e(u)?t(u):n(u)}return r};l.htmlTemplateElement||(l.ensureHTMLTemplateElement=r)}();var c=window.ShadowDOMPolyfill||null,f=e._DOM={Element:Element,SVGElement:SVGElement,boundary:"aurelia-dom-boundary",addEventListener:function(e,t,n){document.addEventListener(e,t,n)},removeEventListener:function(e,t,n){document.removeEventListener(e,t,n)},adoptNode:function(e){return document.adoptNode(e,!0)},createAttribute:function(e){
return document.createAttribute(e)},createElement:function(e){return document.createElement(e)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},createDocumentFragment:function(){return document.createDocumentFragment()},createTemplateElement:function(){var e=document.createElement("template");return l.ensureHTMLTemplateElement(e)},createMutationObserver:function(e){return new(window.MutationObserver||window.WebKitMutationObserver)(e)},createCustomEvent:function(e,t){return new window.CustomEvent(e,t)},dispatchEvent:function(e){document.dispatchEvent(e)},getComputedStyle:function(e){return window.getComputedStyle(e)},getElementById:function(e){return document.getElementById(e)},querySelectorAll:function(e){return document.querySelectorAll(e)},nextElementSibling:function(e){if(e.nextElementSibling)return e.nextElementSibling;do{e=e.nextSibling}while(e&&1!==e.nodeType);return e},createTemplateFromMarkup:function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.firstElementChild;if(!n||"TEMPLATE"!==n.nodeName)throw new Error("Template markup must be wrapped in a <template> element e.g. <template> \x3c!-- markup here --\x3e </template>");return l.ensureHTMLTemplateElement(n)},appendNode:function(e,t){(t||document.body).appendChild(e)},replaceNode:function(e,t,n){t.parentNode?t.parentNode.replaceChild(e,t):null!==c?c.unwrap(n).replaceChild(c.unwrap(e),c.unwrap(t)):n.replaceChild(e,t)},removeNode:function(e,t){e.parentNode?e.parentNode.removeChild(e):t&&(null!==c?c.unwrap(t).removeChild(c.unwrap(e)):t.removeChild(e))},injectStyles:function(e,t,n){var r=document.createElement("style");return r.innerHTML=e,r.type="text/css",t=t||document.head,n&&t.childNodes.length>0?t.insertBefore(r,t.childNodes[0]):t.appendChild(r),r}}}),define("aurelia-path",["exports"],function(e){"use strict";function t(e){for(var t=0;t<e.length;++t){var n=e[t];if("."===n)e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}}function n(e,n){var r=n&&n.split("/"),i=e.trim().split("/");if("."===i[0].charAt(0)&&r){var o=r.slice(0,r.length-1);i.unshift.apply(i,o)}return t(i),i.join("/")}function r(e,t){if(!e)return t;if(!t)return e;var n=e.match(/^([^\/]*?:)\//),r=n&&n.length>0?n[1]:"";e=e.substr(r.length);var i=void 0;i=0===e.indexOf("///")&&"file:"===r?"///":0===e.indexOf("//")?"//":0===e.indexOf("/")?"/":"";for(var o="/"===t.slice(-1)?"/":"",a=e.split("/"),s=t.split("/"),u=[],l=0,c=a.length;l<c;++l)if(".."===a[l])u.pop();else{if("."===a[l]||""===a[l])continue;u.push(a[l])}for(var f=0,h=s.length;f<h;++f)if(".."===s[f])u.pop();else{if("."===s[f]||""===s[f])continue;u.push(s[f])}return r+i+u.join("/")+o}function i(e,t,n){var r=[];if(null===t||void 0===t)return r;if(Array.isArray(t))for(var o=0,a=t.length;o<a;o++)if(n)r.push(f(e)+"="+c(t[o]));else{var s=e+"["+("object"===l(t[o])&&null!==t[o]?o:"")+"]";r=r.concat(i(s,t[o]))}else if("object"!==(void 0===t?"undefined":l(t))||n)r.push(f(e)+"="+c(t));else for(var u in t)r=r.concat(i(e+"["+u+"]",t[u]));return r}function o(e,t){for(var n=[],r=Object.keys(e||{}).sort(),o=0,a=r.length;o<a;o++){var s=r[o];n=n.concat(i(s,e[s],t))}return 0===n.length?"":n.join("&")}function a(e,t){return Array.isArray(e)?(e.push(t),e):void 0!==e?[e,t]:t}function s(e,t,n){for(var r=e,i=t.length-1,o=0;o<=i;o++){var a=""===t[o]?r.length:t[o];if(o<i){var s=r[a]&&"object"!==l(r[a])?[r[a]]:r[a];r=r[a]=s||(isNaN(t[o+1])?{}:[])}else r=r[a]=n}}function u(e){var t={};if(!e||"string"!=typeof e)return t;var n=e;"?"===n.charAt(0)&&(n=n.substr(1));for(var r=n.replace(/\+/g," ").split("&"),i=0;i<r.length;i++){var o=r[i].split("="),u=decodeURIComponent(o[0]);if(u){var l=u.split("]["),c=l.length-1;if(/\[/.test(l[0])&&/\]$/.test(l[c])?(l[c]=l[c].replace(/\]$/,""),l=l.shift().split("[").concat(l),c=l.length-1):c=0,o.length>=2){var f=o[1]?decodeURIComponent(o[1]):"";c?s(t,l,f):t[u]=a(t[u],f)}else t[u]=!0}}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.relativeToFile=n,e.join=r,e.buildQueryString=o,e.parseQueryString=u;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=encodeURIComponent,f=function(e){return c(e).replace("%24","$")}}),define("aurelia-polyfills",["aurelia-pal"],function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};"undefined"==typeof FEATURE_NO_ES2015&&(function(n,r){if(!(r in n)){var i,o=e.PLATFORM.global,a=0,s=""+Math.random(),u="__symbol:",l=u.length,c="__symbol@@"+s,f="defineProperty",h="defineProperties",d="getOwnPropertyNames",p="getOwnPropertyDescriptor",v="propertyIsEnumerable",g=n[d],m=n[p],y=n.create,b=n.keys,w=n[f],x=n[h],_=m(n,d),k=n.prototype,S=k.hasOwnProperty,O=k[v],T=k.toString,C=(Array.prototype.indexOf,function(e,t,n){S.call(e,c)||w(e,c,{enumerable:!1,configurable:!1,writable:!1,value:{}}),e[c]["@@"+t]=n}),E=function(e,n){var r=y(e);return null!==n&&"object"===(void 0===n?"undefined":t(n))&&g(n).forEach(function(e){R.call(n,e)&&F(r,e,n[e])}),r},P=function(e){var t=y(e);return t.enumerable=!1,t},M=function(){},A=function(e){return e!=c&&!S.call(D,e)},j=function(e){return e!=c&&S.call(D,e)},R=function(e){var t=""+e;return j(t)?S.call(this,t)&&this[c]&&this[c]["@@"+t]:O.call(this,e)},I=function(e){return w(k,e,{enumerable:!1,configurable:!0,get:M,set:function(t){i(this,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),C(this,e,!0)}}),D[e]=w(n(e),"constructor",N)},L=function(e){if(this&&this!==o)throw new TypeError("Symbol is not a constructor");return I(u.concat(e||"",s,++a))},D=y(null),N={value:L},B=function(e){return D[e]},F=function(e,t,n){var r=""+t;return j(r)?(i(e,r,n.enumerable?P(n):n),C(e,r,!!n.enumerable)):w(e,t,n),e},V=function(e){return e="[object String]"===T.call(e)?e.split(""):n(e),g(e).filter(j).map(B)};_.value=F,w(n,f,_),_.value=V,w(n,r,_);var z="object"===("undefined"==typeof window?"undefined":t(window))?n.getOwnPropertyNames(window):[],H=n.getOwnPropertyNames;_.value=function(e){if("[object Window]"===T.call(e))try{return H(e)}catch(e){return[].concat([],z)}return g(e).filter(A)},w(n,d,_),_.value=function(e,t){var n=V(t);return n.length?b(t).concat(n).forEach(function(n){R.call(t,n)&&F(e,n,t[n])}):x(e,t),e},w(n,h,_),_.value=R,w(k,v,_),_.value=L,w(o,"Symbol",_),_.value=function(e){var t=u.concat(u,e,s);return t in k?D[t]:I(t)},w(L,"for",_),_.value=function(e){return S.call(D,e)?e.slice(2*l,-s.length):void 0},w(L,"keyFor",_),_.value=function(e,t){var n=m(e,t);return n&&j(t)&&(n.enumerable=R.call(e,t)),n},w(n,p,_),_.value=function(e,t){return 1===arguments.length?y(e):E(e,t)},w(n,"create",_),_.value=function(){var e=T.call(this);return"[object String]"===e&&j(this)?"[object Symbol]":e},w(k,"toString",_);try{i=y(w({},u,{get:function(){return w(this,u,{value:!1})[u]}}))[u]||w}catch(e){i=function(e,t,n){var r=m(k,t);delete k[t],w(e,t,n),w(k,t,r)}}}}(Object,"getOwnPropertySymbols"),function(e,t){var n,r=e.defineProperty,i=e.prototype,o=i.toString;["iterator","match","replace","search","split","hasInstance","isConcatSpreadable","unscopables","species","toPrimitive","toStringTag"].forEach(function(t){if(!(t in Symbol))switch(r(Symbol,t,{value:Symbol(t)}),t){case"toStringTag":n=e.getOwnPropertyDescriptor(i,"toString"),n.value=function(){var e=o.call(this),t=void 0===this||null===this?void 0:this[Symbol.toStringTag];return void 0===t?e:"[object "+t+"]"},r(i,"toString",n)}})}(Object,Symbol),function(e,t,n){function r(){return this}t[e]||(t[e]=function(){var t=0,n=this,i={next:function(){var e=n.length<=t;return e?{done:e}:{done:e,value:n[t++]}}};return i[e]=r,i}),n[e]||(n[e]=function(){var t=String.fromCodePoint,n=this,i=0,o=n.length,a={next:function(){var e=o<=i,r=e?"":t(n.codePointAt(i));return i+=r.length,e?{done:e}:{done:e,value:r}}};return a[e]=r,a})}(Symbol.iterator,Array.prototype,String.prototype)),"undefined"==typeof FEATURE_NO_ES2015&&(Number.isNaN=Number.isNaN||function(e){return e!==e},Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)}),String.prototype.endsWith&&!function(){try{return!"ab".endsWith("a",1)}catch(e){return!0}}()||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),String.prototype.startsWith&&!function(){try{return!"ab".startsWith("b",1)}catch(e){return!0}}()||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),"undefined"==typeof FEATURE_NO_ES2015&&(Array.from||(Array.from=function(){var e=function(e){return isNaN(e=+e)?0:(e>0?Math.floor:Math.ceil)(e)},t=function(t){return t>0?Math.min(e(t),9007199254740991):0},n=function(e,t,n,r){try{return t(n,r)}catch(t){throw"function"==typeof e.return&&e.return(),t}};return function(e){var r,i,o,a,s=Object(e),u="function"==typeof this?this:Array,l=arguments.length,c=l>1?arguments[1]:void 0,f=void 0!==c,h=0,d=s[Symbol.iterator];if(f&&(c=c.bind(l>2?arguments[2]:void 0)),void 0==d||Array.isArray(e))for(r=t(s.length),i=new u(r);r>h;h++)i[h]=f?c(s[h],h):s[h];else for(a=d.call(s),i=new u;!(o=a.next()).done;h++)i[h]=f?n(a,c,o.value,h):o.value;return i.length=h,i}}()),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,enumerable:!1,value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return t}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{configurable:!0,writable:!0,enumerable:!1,value:function(e){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return o;return-1}})),"undefined"!=typeof FEATURE_NO_ES2016||Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,enumerable:!1,value:function(e){var t=Object(this),n=parseInt(t.length)||0;if(0===n)return!1;var r,i=parseInt(arguments[1])||0;i>=0?r=i:(r=n+i)<0&&(r=0);for(var o;r<n;){if(o=t[r],e===o||e!==e&&o!==o)return!0;r++}return!1}}),"undefined"==typeof FEATURE_NO_ES2015&&(function(){var e=!1;try{var t=Object.keys("a");e=1!==t.length||"0"!==t[0]}catch(t){e=!0}e&&(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if(void 0===i||null===i)throw TypeError("Cannot convert undefined or null to object");i=Object(i);var o,a,s=[];for(o in i)e.call(i,o)&&s.push(o);if(t)for(a=0;a<r;a++)e.call(i,n[a])&&s.push(n[a]);return s}}())}(),function(e){"assign"in e||e.defineProperty(e,"assign",{configurable:!0,writable:!0,value:function(){var t=e.getOwnPropertySymbols,n=e.propertyIsEnumerable,r=t?function(e){return t(e).filter(n,e)}:function(){return Array.prototype};return function(n){function i(e){n[e]=s[e]}!t||n instanceof e||console.warn("problematic Symbols",n);for(var o=1,a=arguments.length;o<a;++o){var s=arguments[o];null!==s&&void 0!==s&&e.keys(s).concat(r(s)).forEach(i)}return n}}()})}(Object)),"undefined"==typeof FEATURE_NO_ES2015&&function(e){function t(e,t){function r(e){if(!this||this.constructor!==r)return new r(e);this._keys=[],this._values=[],this._itp=[],this.objectOnly=t,e&&n.call(this,e)}return t||b(e,"size",{get:g}),e.constructor=r,r.prototype=e,r}function n(e){this.add?e.forEach(this.add,this):e.forEach(function(e){this.set(e[0],e[1])},this)}function r(e){return this.has(e)&&(this._keys.splice(y,1),this._values.splice(y,1),this._itp.forEach(function(e){y<e[0]&&e[0]--})),-1<y}function i(e){return this.has(e)?this._values[y]:void 0}function o(e,t){if(this.objectOnly&&t!==Object(t))throw new TypeError("Invalid value used as weak collection key");if(t!=t||0===t)for(y=e.length;y--&&!w(e[y],t););else y=e.indexOf(t);return-1<y}function a(e){return o.call(this,this._values,e)}function s(e){return o.call(this,this._keys,e)}function u(e,t){return this.has(e)?this._values[y]=t:this._values[this._keys.push(e)-1]=t,this}function l(e){return this.has(e)||this._values.push(e),this}function c(){(this._keys||0).length=this._values.length=0}function f(){return v(this._itp,this._keys)}function h(){return v(this._itp,this._values)}function d(){return v(this._itp,this._keys,this._values)}function p(){return v(this._itp,this._values,this._values)}function v(e,t,n){var r,i=[0],o=!1;return e.push(i),r={},r[Symbol.iterator]=function(){return this},r.next=function(){var r,a=i[0];return!o&&a<t.length?(r=n?[t[a],n[a]]:t[a],i[0]++):(o=!0,e.splice(e.indexOf(i),1)),{done:o,value:r}},r}function g(){return this._values.length}function m(e,t){for(var n=this.entries();;){var r=n.next();if(r.done)break;e.call(t,r.value[1],r.value[0],this)}}var y,b=Object.defineProperty,w=function(e,t){return e===t||e!==e&&t!==t};if("undefined"==typeof WeakMap&&(e.WeakMap=t({delete:r,clear:c,get:i,has:s,set:u},!0)),"undefined"==typeof Map||"function"!=typeof(new Map).values||!(new Map).values().next){var x;e.Map=t((x={delete:r,has:s,get:i,set:u,keys:f,values:h,entries:d,forEach:m,clear:c},x[Symbol.iterator]=d,x))}if("undefined"==typeof Set||"function"!=typeof(new Set).values||!(new Set).values().next){var _;e.Set=t((_={has:a,add:l,delete:r,clear:c,keys:h,values:h,entries:p,forEach:m},_[Symbol.iterator]=h,_))}"undefined"==typeof WeakSet&&(e.WeakSet=t({delete:r,add:l,clear:c,has:a},!0))}(e.PLATFORM.global),"undefined"==typeof FEATURE_NO_ES2015&&function(){var n=Function.prototype.bind;void 0===e.PLATFORM.global.Reflect&&(e.PLATFORM.global.Reflect={}),"function"!=typeof Reflect.defineProperty&&(Reflect.defineProperty=function(e,n,r){if("object"===(void 0===e?"undefined":t(e))?null===e:"function"!=typeof e)throw new TypeError("Reflect.defineProperty called on non-object");try{return Object.defineProperty(e,n,r),!0}catch(e){return!1}}),"function"!=typeof Reflect.construct&&(Reflect.construct=function(e,t){if(t)switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(n.apply(e,r))}),"function"!=typeof Reflect.ownKeys&&(Reflect.ownKeys=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))})}(),"undefined"==typeof FEATURE_NO_ESNEXT&&function(){var e=Object.freeze({});"function"!=typeof Reflect.getOwnMetadata&&(Reflect.getOwnMetadata=function(t,n,r){if(n.hasOwnProperty("__metadata__"))return(n.__metadata__[r]||e)[t]}),"function"!=typeof Reflect.defineMetadata&&(Reflect.defineMetadata=function(e,t,n,r){var i=n.hasOwnProperty("__metadata__")?n.__metadata__:n.__metadata__={};(i[r]||(i[r]={}))[e]=t}),"function"!=typeof Reflect.metadata&&(Reflect.metadata=function(e,t){return function(n,r){Reflect.defineMetadata(e,t,n,r)}})}()}),define("aurelia-route-recognizer",["exports","aurelia-path"],function(e,t){"use strict";function n(e,t,n,r){var i=e;"/"===e.charAt(0)&&(i=e.substr(1));for(var o=[],a=i.split("/"),s=0,u=a.length;s<u;++s){var l=a[s],p=l.match(/^:([^?]+)(\?)?$/);if(p){var v=p,g=v[1],m=v[2];if(-1!==g.indexOf("="))throw new Error("Parameter "+g+" in route "+e+" has a default value, which is not supported.");o.push(new f(g,!!m)),t.push(g),n.dynamics++}else p=l.match(/^\*(.+)$/),p?(o.push(new h(p[1])),t.push(p[1]),n.stars++):""===l?o.push(new d):(o.push(new c(l,r)),n.statics++)}return o}function r(e){return e.sort(function(e,t){if(e.types.stars!==t.types.stars)return e.types.stars-t.types.stars;if(e.types.stars){if(e.types.statics!==t.types.statics)return t.types.statics-e.types.statics;if(e.types.dynamics!==t.types.dynamics)return t.types.dynamics-e.types.dynamics}return e.types.dynamics!==t.types.dynamics?e.types.dynamics-t.types.dynamics:e.types.statics!==t.types.statics?t.types.statics-e.types.statics:0})}function i(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];n.push.apply(n,o.match(t))}for(var a=n.filter(function(e){return e.epsilon});a.length>0;)!function(){var e=[];a.forEach(function(t){n.push.apply(n,t.epsilon),e.push.apply(e,t.epsilon)}),a=e.filter(function(e){return e.epsilon})}();return n}function o(e,t,n){for(var r=e.handlers,i=e.regex,o=t.match(i),a=1,s=new p(n),u=0,l=r.length;u<l;u++){for(var c=r[u],f=c.names,h={},d=0,v=f.length;d<v;d++)h[f[d]]=o[a++];s.push({handler:c.handler,params:h,isDynamic:!!f.length})}return s}function a(e,t){var n=e.put({validChars:"/"});return t.eachChar(function(e){n=n.put(e)}),t.optional&&(e.epsilon=e.epsilon||[],e.epsilon.push(n)),n}Object.defineProperty(e,"__esModule",{value:!0}),e.RouteRecognizer=e.EpsilonSegment=e.StarSegment=e.DynamicSegment=e.StaticSegment=e.State=void 0;var s=e.State=function(){function e(e){this.charSpec=e,this.nextStates=[]}return e.prototype.get=function(e){for(var t=this.nextStates,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}var o=i;if(o.charSpec.validChars===e.validChars&&o.charSpec.invalidChars===e.invalidChars)return o}},e.prototype.put=function(t){var n=this.get(t);return n||(n=new e(t),this.nextStates.push(n),t.repeat&&n.nextStates.push(n),n)},e.prototype.match=function(e){for(var t=this.nextStates,n=[],r=0,i=t.length;r<i;r++){var o=t[r],a=o.charSpec;void 0!==a.validChars?-1!==a.validChars.indexOf(e)&&n.push(o):void 0!==a.invalidChars&&-1===a.invalidChars.indexOf(e)&&n.push(o)}return n},e}(),u=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],l=new RegExp("(\\"+u.join("|\\")+")","g"),c=e.StaticSegment=function(){function e(e,t){this.string=e,this.caseSensitive=t}return e.prototype.eachChar=function(e){for(var t=this.string,n=0,r=t.length;n<r;++n){var i=t[n];e({validChars:this.caseSensitive?i:i.toUpperCase()+i.toLowerCase()})}},e.prototype.regex=function(){return this.string.replace(l,"\\$1")},e.prototype.generate=function(){return this.string},e}(),f=e.DynamicSegment=function(){function e(e,t){this.name=e,this.optional=t}return e.prototype.eachChar=function(e){e({invalidChars:"/",repeat:!0})},e.prototype.regex=function(){return this.optional?"([^/]+)?":"([^/]+)"},e.prototype.generate=function(e,t){return t[this.name]=!0,e[this.name]},e}(),h=e.StarSegment=function(){function e(e){this.name=e}return e.prototype.eachChar=function(e){e({invalidChars:"",repeat:!0})},e.prototype.regex=function(){return"(.+)"},e.prototype.generate=function(e,t){return t[this.name]=!0,e[this.name]},e}(),d=e.EpsilonSegment=function(){function e(){}return e.prototype.eachChar=function(){},e.prototype.regex=function(){return""},e.prototype.generate=function(){return""},e}(),p=(e.RouteRecognizer=function(){function e(){this.rootState=new s,this.names={}}return e.prototype.add=function(e){var t=this;if(Array.isArray(e))return void e.forEach(function(e){return t.add(e)});for(var r=this.rootState,i="^",o={statics:0,dynamics:0,stars:0},s=[],u=e.handler.name,l=!0,c=!0,f=n(e.path,s,o,e.caseSensitive),h=0,p=f.length;h<p;h++){var v=f[h];v instanceof d||(l=!1,c=c&&v.optional,r=a(r,v),i+=v.optional?"/?":"/",i+=v.regex())}if(c)if(l)r=r.put({validChars:"/"}),i+="/";else{var g=this.rootState.put({validChars:"/"});r.epsilon=[g],r=g}var m=[{handler:e.handler,names:s}];if(u)for(var y=Array.isArray(u)?u:[u],b=0;b<y.length;b++)this.names[y[b]]={segments:f,handlers:m};return r.handlers=m,r.regex=new RegExp(i+"$",e.caseSensitive?"":"i"),r.types=o,r},e.prototype.handlersFor=function(e){var t=this.names[e];if(!t)throw new Error("There is no route named "+e);return[].concat(t.handlers)},e.prototype.hasRoute=function(e){return!!this.names[e]},e.prototype.generate=function(e,n){var r=this.names[e];if(!r)throw new Error("There is no route named "+e);var i=r.handlers[0].handler;if(i.generationUsesHref)return i.href;for(var o=Object.assign({},n),a=r.segments,s={},u="",l=0,c=a.length;l<c;l++){var f=a[l];if(!(f instanceof d)){var h=f.generate(o,s);if(null===h||void 0===h){if(!f.optional)throw new Error("A value is required for route parameter '"+f.name+"' in route '"+e+"'.")}else u+="/",u+=h}}"/"!==u.charAt(0)&&(u="/"+u);for(var p in s)delete o[p];var v=(0,t.buildQueryString)(o);return u+=v?"?"+v:""},e.prototype.recognize=function(e){var n=[this.rootState],a={},s=!1,u=e,l=u.indexOf("?");if(-1!==l){var c=u.substr(l+1,u.length);u=u.substr(0,l),a=(0,t.parseQueryString)(c)}u=decodeURI(u),"/"!==u.charAt(0)&&(u="/"+u);var f=u.length;f>1&&"/"===u.charAt(f-1)&&(u=u.substr(0,f-1),s=!0);for(var h=0,d=u.length;h<d&&(n=i(n,u.charAt(h)),n.length);h++);for(var p=[],v=0,g=n.length;v<g;v++)n[v].handlers&&p.push(n[v]);n=r(p);var m=p[0];if(m&&m.handlers)return s&&"(.+)$"===m.regex.source.slice(-5)&&(u+="/"),o(m,u,a)},e}(),function(e){this.splice=Array.prototype.splice,this.slice=Array.prototype.slice,this.push=Array.prototype.push,this.length=0,this.queryParams=e||{}})}),define("aurelia-router",["exports","aurelia-logging","aurelia-route-recognizer","aurelia-dependency-injection","aurelia-history","aurelia-event-aggregator"],function(e,t,n,r,i,o){"use strict";function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t||"#"===e[0]||(e="#"+e),t&&n&&(e=e.substring(1,e.length)),e}function l(e,t,n,r){if(N.test(e))return e;var i="";return t.length&&"/"!==t[0]&&(i+="/"),i+=t,i.length&&"/"===i[i.length-1]||"/"===e[0]||(i+="/"),i.length&&"/"===i[i.length-1]&&"/"===e[0]&&(i=i.substring(0,i.length-1)),u(i+e,n,r)}function c(e,t,n){return D.test(e)?u(e,n):l(e,t,n)}function f(e,t){return function(e){return Promise.resolve({status:t,output:e,completed:t===B.completed})}}function h(e){e.previousInstruction=null,e.plan=null}function d(e){return e&&"function"==typeof e.navigate}function p(e,t){var n=e.previousInstruction,r=e.config,i={};if("redirect"in r){var o=c(r.redirect,g(e));return e.queryString&&(o+="?"+e.queryString),Promise.reject(new U(o))}if(n){var a=v(n,e),s=[];for(var u in n.viewPortInstructions)!function(o){var u=n.viewPortInstructions[o],l=r.viewPorts[o];if(!l)throw new Error('Invalid Route Config: Configuration for viewPort "'+o+'" was not found for route: "'+e.config.route+'."');var c=i[o]={name:o,config:l,prevComponent:u.component,prevModuleId:u.moduleId};if(u.moduleId!==l.moduleId)c.strategy=W.replace;else if("determineActivationStrategy"in u.component.viewModel){var f;c.strategy=(f=u.component.viewModel).determineActivationStrategy.apply(f,e.lifecycleArgs)}else r.activationStrategy?c.strategy=r.activationStrategy:c.strategy=a||t?W.invokeLifecycle:W.noChange;if(c.strategy!==W.replace&&u.childRouter){var h=e.getWildcardPath(),d=u.childRouter._createNavigationInstruction(h,e).then(function(e){return c.childNavigationInstruction=e,p(e,c.strategy===W.invokeLifecycle).then(function(t){e.plan=t})});s.push(d)}}(u);return Promise.all(s).then(function(){return i})}for(var u in r.viewPorts)i[u]={name:u,strategy:W.replace,config:e.config.viewPorts[u]};return Promise.resolve(i)}function v(e,t){var n=e.params,r=t.params,i=t.config.hasChildRouter?t.getWildCardName():null;for(var o in r)if(o!==i&&n[o]!==r[o])return!0;for(var a in n)if(a!==i&&n[a]!==r[a])return!0;if(!t.options.compareQueryParams)return!1;var s=e.queryParams,u=t.queryParams;for(var l in u)if(s[l]!==u[l])return!0;for(var c in s)if(s[c]!==u[c])return!0;return!1}function g(e){var t=[];for(e=e.parentInstruction;e;)t.unshift(e.getBaseUrl()),e=e.parentInstruction;return t.unshift("/"),t.join("")}function m(e,t){if("object"!==(void 0===e?"undefined":I(e)))throw new Error("Invalid Route Config");if("string"!=typeof e.route){var n=e.name||"(no name)";throw new Error('Invalid Route Config for "'+n+'": You must specify a "route:" pattern.')}if(!("redirect"in e||e.moduleId||e.navigationStrategy||e.viewPorts))throw new Error('Invalid Route Config for "'+e.route+'": You must specify a "moduleId:", "redirect:", "navigationStrategy:", or "viewPorts:".')}function y(e,t,n){return Promise.resolve(t.call(n,e)).then(function(){return"viewPorts"in e.config||(e.config.viewPorts={default:{moduleId:e.config.moduleId}}),e})}function b(e,t,n,r){function i(e){return r||S(e)?o():n.cancel(e)}function o(){if(u--)try{return O(s[u][t](e),i,n.cancel)}catch(e){return n.cancel(e)}return n()}var a=e.plan,s=w(a,t),u=s.length;return o()}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(var r in e){var i=e[r],o=i.prevComponent;if((i.strategy===W.invokeLifecycle||i.strategy===W.replace)&&o){var a=o.viewModel;t in a&&n.push(a)}i.strategy===W.replace&&o?x(o,t,n):i.childNavigationInstruction&&w(i.childNavigationInstruction.plan,t,n)}return n}function x(e,t,n){var r=e.childRouter;if(r&&r.currentInstruction){var i=r.currentInstruction.viewPortInstructions;for(var o in i){var a=i[o],s=a.component,u=s.viewModel;t in u&&n.push(u),x(s,t,n)}}}function _(e,t,n,r){function i(e,t){return r||S(e,t)?o():n.cancel(e)}function o(){if(++u<s)try{var e,r=a[u];return O((e=r.viewModel)[t].apply(e,r.lifecycleArgs),function(e){return i(e,r.router)},n.cancel)}catch(e){return n.cancel(e)}return n()}var a=k(e,t),s=a.length,u=-1;return o()}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments[3],i=e.plan;return Object.keys(i).filter(function(o){var a=i[o],s=e.viewPortInstructions[o],u=s.component.viewModel;(a.strategy===W.invokeLifecycle||a.strategy===W.replace)&&t in u&&n.push({viewModel:u,lifecycleArgs:s.lifecycleArgs,router:r}),a.childNavigationInstruction&&k(a.childNavigationInstruction,t,n,s.component.childRouter||r)}),n}function S(e,t){return!(e instanceof Error)&&(d(e)?("function"==typeof e.setRouter&&e.setRouter(t),!!e.shouldContinueProcessing):void 0===e||e)}function O(e,t,n){if(e&&"function"==typeof e.then)return Promise.resolve(e).then(t).catch(n);if(e&&"function"==typeof e.subscribe){var r=e;return new Q(function(i){return r.subscribe({next:function(){i.subscribed&&(i.unsubscribe(),t(e))},error:function(e){i.subscribed&&(i.unsubscribe(),n(e))},complete:function(){i.subscribed&&(i.unsubscribe(),t(e))}})})}try{return t(e)}catch(e){return n(e)}}function T(e,t){var n=C(t),r=n.map(function(t){return E(e,t.navigationInstruction,t.viewPortPlan)});return Promise.all(r)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.plan;for(var r in n){var i=n[r];if(i.strategy===W.replace)t.push({viewPortPlan:i,navigationInstruction:e}),i.childNavigationInstruction&&C(i.childNavigationInstruction,t);else{var o=e.addViewPortInstruction(r,i.strategy,i.prevModuleId,i.prevComponent);i.childNavigationInstruction&&(o.childNavigationInstruction=i.childNavigationInstruction,C(i.childNavigationInstruction,t))}}return t}function E(e,t,n){var r=n.config.moduleId;return P(e,t,n.config).then(function(i){var o=t.addViewPortInstruction(n.name,n.strategy,r,i),a=i.childRouter;if(a){var s=t.getWildcardPath();return a._createNavigationInstruction(s,t).then(function(t){return n.childNavigationInstruction=t,p(t).then(function(n){return t.plan=n,o.childNavigationInstruction=t,T(e,t)})})}})}function P(e,t,n){var r=t.router,i=t.lifecycleArgs;return e.loadRoute(r,n,t).then(function(e){var t=e.viewModel,o=e.childContainer;if(e.router=r,e.config=n,"configureRouter"in t){var a=o.getChildRouter();return e.childRouter=a,a.configure(function(e){return t.configureRouter.apply(t,[e,a].concat(i))}).then(function(){return e})}return e})}function M(e,t,n,r){t&&"completed"in t&&"output"in t||(t=t||{},t.output=new Error("Expected router pipeline to return a navigation result, but got ["+JSON.stringify(t)+"] instead."));var i=null;return d(t.output)?t.output.navigate(r):(i=t,t.completed||(t.output instanceof Error&&re.error(t.output),j(r))),r._dequeueInstruction(n+1).then(function(e){return i||e||t})}function A(e,t,n,r){e.resolve(t);var i={instruction:e,result:t};if(n)r.events.publish("router:navigation:child:complete",i);else{r.isNavigating=!1,r.isExplicitNavigation=!1,r.isExplicitNavigationBack=!1;var o=void 0;if(t.output instanceof Error)o="error";else if(t.completed){var a=e.queryString?"?"+e.queryString:"";r.history.previousLocation=e.fragment+a,o="success"}else o="canceled";r.events.publish("router:navigation:"+o,i),r.events.publish("router:navigation:complete",i)}return t}function j(e){e.history.previousLocation?e.navigate(e.history.previousLocation,{trigger:!1,replace:!0}):e.fallbackRoute?e.navigate(e.fallbackRoute,{trigger:!0,replace:!0}):re.error("Router navigation failed, and no previous location or fallbackRoute could be restored.")}Object.defineProperty(e,"__esModule",{value:!0}),e.AppRouter=e.PipelineProvider=e.LoadRouteStep=e.RouteLoader=e.ActivateNextStep=e.DeactivatePreviousStep=e.CanActivateNextStep=e.CanDeactivatePreviousStep=e.Router=e.BuildNavigationPlanStep=e.activationStrategy=e.RouterConfiguration=e.RedirectToRoute=e.Redirect=e.NavModel=e.NavigationInstruction=e.CommitChangesStep=e.Pipeline=e.pipelineStatus=void 0,e._normalizeAbsolutePath=u,e._createRootedPath=l,e._resolveUrl=c,e.isNavigationCommand=d,e._buildNavigationPlan=p;var R=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D=/^#?\//,N=/^([a-z][a-z0-9+\-.]*:)?\/\//i,B=e.pipelineStatus={completed:"completed",canceled:"canceled",rejected:"rejected",running:"running"},F=e.Pipeline=function(){function e(){this.steps=[]}return e.prototype.addStep=function(e){var t=void 0;if("function"==typeof e)t=e;else{if("function"==typeof e.getSteps){for(var n=e.getSteps(),r=0,i=n.length;r<i;r++)this.addStep(n[r]);return this}t=e.run.bind(e)}return this.steps.push(t),this},e.prototype.run=function(e){function t(){if(!(++n<r.length))return t.complete();var i=r[n];try{return i(e,t)}catch(e){return t.reject(e)}}var n=-1,r=this.steps;return t.complete=f(t,B.completed),t.cancel=f(t,B.canceled),t.reject=f(t,B.rejected),t()},e}(),V=e.CommitChangesStep=function(){function e(){}return e.prototype.run=function(e,t){return e._commitChanges(!0).then(function(){return e._updateTitle(),t()})},e}(),z=e.NavigationInstruction=function(){function e(e){this.plan=null,this.options={},Object.assign(this,e),this.params=this.params||{},this.viewPortInstructions={};var t=[],n=this;do{var r=Object.assign({},n.params);n.config&&n.config.hasChildRouter&&delete r[n.getWildCardName()],t.unshift(r),n=n.parentInstruction}while(n);var i=Object.assign.apply(Object,[{},this.queryParams].concat(t));this.lifecycleArgs=[i,this.config,this]}return e.prototype.getAllInstructions=function(){var e=[this]
;for(var t in this.viewPortInstructions){var n=this.viewPortInstructions[t].childNavigationInstruction;n&&e.push.apply(e,n.getAllInstructions())}return e},e.prototype.getAllPreviousInstructions=function(){return this.getAllInstructions().map(function(e){return e.previousInstruction}).filter(function(e){return e})},e.prototype.addViewPortInstruction=function(e,t,n,r){var i=Object.assign({},this.lifecycleArgs[1],{currentViewPort:e});return this.viewPortInstructions[e]={name:e,strategy:t,moduleId:n,component:r,childRouter:r.childRouter,lifecycleArgs:[].concat(this.lifecycleArgs[0],i,this.lifecycleArgs[2])}},e.prototype.getWildCardName=function(){var e=this.config.route.lastIndexOf("*");return this.config.route.substr(e+1)},e.prototype.getWildcardPath=function(){var e=this.getWildCardName(),t=this.params[e]||"";return this.queryString&&(t+="?"+this.queryString),t},e.prototype.getBaseUrl=function(){var e=this,t=decodeURI(this.fragment);if(""===t){var n=this.router.routes.find(function(t){return t.name===e.config.name&&""!==t.route});n&&(t=n.route)}if(!this.params)return encodeURI(t);var r=this.getWildCardName(),i=this.params[r]||"";return i?encodeURI(t.substr(0,t.lastIndexOf(i))):encodeURI(t)},e.prototype._commitChanges=function(e){var t=this,n=this.router;n.currentInstruction=this,this.previousInstruction&&(this.previousInstruction.config.navModel.isActive=!1),this.config.navModel.isActive=!0,n._refreshBaseUrl(),n.refreshNavigation();var r=[],i=[];for(var o in this.viewPortInstructions)!function(o){var a=t.viewPortInstructions[o],s=n.viewPorts[o];if(!s)throw new Error("There was no router-view found in the view for "+a.moduleId+".");a.strategy===W.replace?a.childNavigationInstruction&&a.childNavigationInstruction.parentCatchHandler?r.push(a.childNavigationInstruction._commitChanges()):(e&&i.push({viewPort:s,viewPortInstruction:a}),r.push(s.process(a,e).then(function(e){if(a.childNavigationInstruction)return a.childNavigationInstruction._commitChanges()}))):a.childNavigationInstruction&&r.push(a.childNavigationInstruction._commitChanges(e))}(o);return Promise.all(r).then(function(){return i.forEach(function(e){return e.viewPort.swap(e.viewPortInstruction)}),null}).then(function(){return h(t)})},e.prototype._updateTitle=function(){var e=this._buildTitle();e&&this.router.history.setTitle(e)},e.prototype._buildTitle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" | ",t="",n=[];this.config.navModel.title&&(t=this.router.transformTitle(this.config.navModel.title));for(var r in this.viewPortInstructions){var i=this.viewPortInstructions[r];if(i.childNavigationInstruction){var o=i.childNavigationInstruction._buildTitle(e);o&&n.push(o)}}return n.length&&(t=n.join(e)+(t?e:"")+t),this.router.title&&(t+=(t?e:"")+this.router.transformTitle(this.router.title)),t},e}(),H=e.NavModel=function(){function e(e,t){this.isActive=!1,this.title=null,this.href=null,this.relativeHref=null,this.settings={},this.config=null,this.router=e,this.relativeHref=t}return e.prototype.setTitle=function(e){this.title=e,this.isActive&&this.router.updateTitle()},e}(),U=e.Redirect=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.options=Object.assign({trigger:!0,replace:!0},t),this.shouldContinueProcessing=!1}return e.prototype.setRouter=function(e){this.router=e},e.prototype.navigate=function(e){(this.options.useAppRouter?e:this.router||e).navigate(this.url,this.options)},e}(),q=(e.RedirectToRoute=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.route=e,this.params=t,this.options=Object.assign({trigger:!0,replace:!0},n),this.shouldContinueProcessing=!1}return e.prototype.setRouter=function(e){this.router=e},e.prototype.navigate=function(e){(this.options.useAppRouter?e:this.router||e).navigateToRoute(this.route,this.params,this.options)},e}(),e.RouterConfiguration=function(){function e(){this.instructions=[],this.options={},this.pipelineSteps=[]}return e.prototype.addPipelineStep=function(e,t){return this.pipelineSteps.push({name:e,step:t}),this},e.prototype.addAuthorizeStep=function(e){return this.addPipelineStep("authorize",e)},e.prototype.addPreActivateStep=function(e){return this.addPipelineStep("preActivate",e)},e.prototype.addPreRenderStep=function(e){return this.addPipelineStep("preRender",e)},e.prototype.addPostRenderStep=function(e){return this.addPipelineStep("postRender",e)},e.prototype.fallbackRoute=function(e){return this._fallbackRoute=e,this},e.prototype.map=function(e){return Array.isArray(e)?(e.forEach(this.map.bind(this)),this):this.mapRoute(e)},e.prototype.mapRoute=function(e){return this.instructions.push(function(t){var n=[];if(Array.isArray(e.route))for(var r=0,i=e.route.length;r<i;++r){var o=Object.assign({},e);o.route=e.route[r],n.push(o)}else n.push(Object.assign({},e));for(var a=void 0,s=0,u=n.length;s<u;++s){var l=n[s];l.settings=l.settings||{},a||(a=t.createNavModel(l)),t.addRoute(l,a)}}),this},e.prototype.mapUnknownRoutes=function(e){return this.unknownRouteConfig=e,this},e.prototype.exportToRouter=function(e){for(var t=this.instructions,n=0,r=t.length;n<r;++n)t[n](e);this.title&&(e.title=this.title),this.unknownRouteConfig&&e.handleUnknownRoutes(this.unknownRouteConfig),this._fallbackRoute&&(e.fallbackRoute=this._fallbackRoute),e.options=this.options;var i=this.pipelineSteps;if(i.length){if(!e.isRoot)throw new Error("Pipeline steps can only be added to the root router");for(var o=e.pipelineProvider,a=0,s=i.length;a<s;++a){var u=i[a],l=u.name,c=u.step;o.addStep(l,c)}}},e}()),W=e.activationStrategy={noChange:"no-change",invokeLifecycle:"invoke-lifecycle",replace:"replace"},G=e.BuildNavigationPlanStep=function(){function e(){}return e.prototype.run=function(e,t){return p(e).then(function(n){return e.plan=n,t()}).catch(t.cancel)},e}(),Y=e.Router=function(){function e(e,t){var n=this;this.parent=null,this.options={},this.transformTitle=function(e){return n.parent?n.parent.transformTitle(e):e},this.container=e,this.history=t,this.reset()}return e.prototype.reset=function(){var e=this;this.viewPorts={},this.routes=[],this.baseUrl="",this.isConfigured=!1,this.isNavigating=!1,this.isExplicitNavigation=!1,this.isExplicitNavigationBack=!1,this.navigation=[],this.currentInstruction=null,this._fallbackOrder=100,this._recognizer=new n.RouteRecognizer,this._childRecognizer=new n.RouteRecognizer,this._configuredPromise=new Promise(function(t){e._resolveConfiguredPromise=t})},e.prototype.registerViewPort=function(e,t){t=t||"default",this.viewPorts[t]=e},e.prototype.ensureConfigured=function(){return this._configuredPromise},e.prototype.configure=function(e){var t=this;this.isConfigured=!0;var n=e,r=void 0;return"function"==typeof e&&(r=new q,n=e(r)),Promise.resolve(n).then(function(e){e&&e.exportToRouter&&(r=e),r.exportToRouter(t),t.isConfigured=!0,t._resolveConfiguredPromise()})},e.prototype.navigate=function(e,t){return!this.isConfigured&&this.parent?this.parent.navigate(e,t):(this.isExplicitNavigation=!0,this.history.navigate(c(e,this.baseUrl,this.history._hasPushState),t))},e.prototype.navigateToRoute=function(e,t,n){var r=this.generate(e,t);return this.navigate(r,n)},e.prototype.navigateBack=function(){this.isExplicitNavigationBack=!0,this.history.navigateBack()},e.prototype.createChild=function(t){var n=new e(t||this.container.createChild(),this.history);return n.parent=this,n},e.prototype.generate=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._recognizer.hasRoute(e);if((!this.isConfigured||!r)&&this.parent)return this.parent.generate(e,t);if(!r)throw new Error("A route with name '"+e+"' could not be found. Check that `name: '"+e+"'` was specified in the route's config.");var i=this._recognizer.generate(e,t),o=l(i,this.baseUrl,this.history._hasPushState,n.absolute);return n.absolute?""+this.history.getAbsoluteRoot()+o:o},e.prototype.createNavModel=function(e){var t=new H(this,"href"in e?e.href:e.route);return t.title=e.title,t.order=e.nav,t.href=e.href,t.settings=e.settings,t.config=e,t},e.prototype.addRoute=function(e,t){m(e,this.routes),"viewPorts"in e||e.navigationStrategy||(e.viewPorts={default:{moduleId:e.moduleId,view:e.view}}),t||(t=this.createNavModel(e)),this.routes.push(e);var n=e.route;"/"===n.charAt(0)&&(n=n.substr(1));var r=!0===e.caseSensitive,i=this._recognizer.add({path:n,handler:e,caseSensitive:r});if(n){var o=e.settings;delete e.settings;var a=JSON.parse(JSON.stringify(e));e.settings=o,a.route=n+"/*childRoute",a.hasChildRouter=!0,this._childRecognizer.add({path:a.route,handler:a,caseSensitive:r}),a.navModel=t,a.settings=e.settings,a.navigationStrategy=e.navigationStrategy}if(e.navModel=t,(t.order||0===t.order)&&-1===this.navigation.indexOf(t)){if(!t.href&&""!==t.href&&(i.types.dynamics||i.types.stars))throw new Error('Invalid route config for "'+e.route+'" : dynamic routes must specify an "href:" to be included in the navigation model.');"number"!=typeof t.order&&(t.order=++this._fallbackOrder),this.navigation.push(t),this.navigation=this.navigation.sort(function(e,t){return e.order-t.order})}},e.prototype.hasRoute=function(e){return!!(this._recognizer.hasRoute(e)||this.parent&&this.parent.hasRoute(e))},e.prototype.hasOwnRoute=function(e){return this._recognizer.hasRoute(e)},e.prototype.handleUnknownRoutes=function(e){var t=this;if(!e)throw new Error("Invalid unknown route handler");this.catchAllHandler=function(n){return t._createRouteConfig(e,n).then(function(e){return n.config=e,n})}},e.prototype.updateTitle=function(){if(this.parent)return this.parent.updateTitle();this.currentInstruction&&this.currentInstruction._updateTitle()},e.prototype.refreshNavigation=function(){for(var e=this.navigation,t=0,n=e.length;t<n;t++){var r=e[t];r.config.href?r.href=u(r.config.href,this.history._hasPushState):r.href=l(r.relativeHref,this.baseUrl,this.history._hasPushState)}},e.prototype._refreshBaseUrl=function(){if(this.parent){var e=this.parent.currentInstruction.getBaseUrl();this.baseUrl=this.parent.baseUrl+e}},e.prototype._createNavigationInstruction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e,r="",i=e.indexOf("?");-1!==i&&(n=e.substr(0,i),r=e.substr(i+1));var o=this._recognizer.recognize(e);o&&o.length||(o=this._childRecognizer.recognize(e));var a={fragment:n,queryString:r,config:null,parentInstruction:t,previousInstruction:this.currentInstruction,router:this,options:{compareQueryParams:this.options.compareQueryParams}};if(o&&o.length){var s=o[0],u=new z(Object.assign({},a,{params:s.params,queryParams:s.queryParams||o.queryParams,config:s.config||s.handler}));return"function"==typeof s.handler?y(u,s.handler,s):s.handler&&"function"==typeof s.handler.navigationStrategy?y(u,s.handler.navigationStrategy,s.handler):Promise.resolve(u)}if(this.catchAllHandler){return y(new z(Object.assign({},a,{params:{path:n},queryParams:o?o.queryParams:{},config:null})),this.catchAllHandler)}if(this.parent){var l=this._parentCatchAllHandler(this.parent);if(l){var c=this._findParentInstructionFromRouter(l,t);return y(new z(Object.assign({},a,{params:{path:n},queryParams:o?o.queryParams:{},router:l,parentInstruction:c,parentCatchHandler:!0,config:null})),l.catchAllHandler)}}return Promise.reject(new Error("Route not found: "+e))},e.prototype._findParentInstructionFromRouter=function(e,t){return t.router===e?(t.fragment=e.baseUrl,t):t.parentInstruction?this._findParentInstructionFromRouter(e,t.parentInstruction):void 0},e.prototype._parentCatchAllHandler=function(e){return e.catchAllHandler?e:!!e.parent&&this._parentCatchAllHandler(e.parent)},e.prototype._createRouteConfig=function(e,t){var n=this;return Promise.resolve(e).then(function(e){return"string"==typeof e?{moduleId:e}:"function"==typeof e?e(t):e}).then(function(e){return"string"==typeof e?{moduleId:e}:e}).then(function(e){return e.route=t.params.path,m(e,n.routes),e.navModel||(e.navModel=n.createNavModel(e)),e})},L(e,[{key:"isRoot",get:function(){return!this.parent}}]),e}(),X=e.CanDeactivatePreviousStep=function(){function e(){}return e.prototype.run=function(e,t){return b(e,"canDeactivate",t)},e}(),Z=e.CanActivateNextStep=function(){function e(){}return e.prototype.run=function(e,t){return _(e,"canActivate",t)},e}(),K=e.DeactivatePreviousStep=function(){function e(){}return e.prototype.run=function(e,t){return b(e,"deactivate",t,!0)},e}(),$=e.ActivateNextStep=function(){function e(){}return e.prototype.run=function(e,t){return _(e,"activate",t,!0)},e}(),Q=function(){function e(e){this._subscribed=!0,this._subscription=e(this),this._subscribed||this.unsubscribe()}return e.prototype.unsubscribe=function(){this._subscribed&&this._subscription&&this._subscription.unsubscribe(),this._subscribed=!1},L(e,[{key:"subscribed",get:function(){return this._subscribed}}]),e}(),J=e.RouteLoader=function(){function e(){}return e.prototype.loadRoute=function(e,t,n){throw Error('Route loaders must implement "loadRoute(router, config, navigationInstruction)".')},e}(),ee=e.LoadRouteStep=function(){function e(e){this.routeLoader=e}return e.inject=function(){return[J]},e.prototype.run=function(e,t){return T(this.routeLoader,e).then(t).catch(t.cancel)},e}(),te=function(){function e(e,t,n){this.steps=[],this.container=e,this.slotName=t,this.slotAlias=n}return e.prototype.getSteps=function(){var e=this;return this.steps.map(function(t){return e.container.get(t)})},e}(),ne=e.PipelineProvider=function(){function e(e){this.container=e,this.steps=[G,X,ee,this._createPipelineSlot("authorize"),Z,this._createPipelineSlot("preActivate","modelbind"),K,$,this._createPipelineSlot("preRender","precommit"),V,this._createPipelineSlot("postRender","postcomplete")]}return e.inject=function(){return[r.Container]},e.prototype.createPipeline=function(){var e=this,t=new F;return this.steps.forEach(function(n){return t.addStep(e.container.get(n))}),t},e.prototype._findStep=function(e){return this.steps.find(function(t){return t.slotName===e||t.slotAlias===e})},e.prototype.addStep=function(e,t){var n=this._findStep(e);if(!n)throw new Error("Invalid pipeline slot name: "+e+".");n.steps.includes(t)||n.steps.push(t)},e.prototype.removeStep=function(e,t){var n=this._findStep(e);n&&n.steps.splice(n.steps.indexOf(t),1)},e.prototype._clearSteps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this._findStep(e);t&&(t.steps=[])},e.prototype.reset=function(){this._clearSteps("authorize"),this._clearSteps("preActivate"),this._clearSteps("preRender"),this._clearSteps("postRender")},e.prototype._createPipelineSlot=function(e,t){return new te(this.container,e,t)},e}(),re=R.getLogger("app-router");e.AppRouter=function(e){function t(t,n,r,i){var o=a(this,e.call(this,t,n));return o.pipelineProvider=r,o.events=i,o}return s(t,e),t.inject=function(){return[r.Container,i.History,ne,o.EventAggregator]},t.prototype.reset=function(){e.prototype.reset.call(this),this.maxInstructionCount=10,this._queue?this._queue.length=0:this._queue=[]},t.prototype.loadUrl=function(e){var t=this;return this._createNavigationInstruction(e).then(function(e){return t._queueInstruction(e)}).catch(function(e){re.error(e),j(t)})},t.prototype.registerViewPort=function(t,n){var r=this;if(e.prototype.registerViewPort.call(this,t,n),this.isActive)this._dequeueInstruction();else{var i=this._findViewModel(t);if("configureRouter"in i){if(!this.isConfigured){var o=this._resolveConfiguredPromise;return this._resolveConfiguredPromise=function(){},this.configure(function(e){return i.configureRouter(e,r)}).then(function(){r.activate(),o()})}}else this.activate()}return Promise.resolve()},t.prototype.activate=function(e){this.isActive||(this.isActive=!0,this.options=Object.assign({routeHandler:this.loadUrl.bind(this)},this.options,e),this.history.activate(this.options),this._dequeueInstruction())},t.prototype.deactivate=function(){this.isActive=!1,this.history.deactivate()},t.prototype._queueInstruction=function(e){var t=this;return new Promise(function(n){e.resolve=n,t._queue.unshift(e),t._dequeueInstruction()})},t.prototype._dequeueInstruction=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Promise.resolve().then(function(){if(!e.isNavigating||t){var n=e._queue.shift();if(e._queue.length=0,n){if(e.isNavigating=!0,n.previousInstruction=e.currentInstruction,t){if(t===e.maxInstructionCount-1)return re.error(t+1+" navigation instructions have been attempted without success. Restoring last known good location."),j(e),e._dequeueInstruction(t+1);if(t>e.maxInstructionCount)throw new Error("Maximum navigation attempts exceeded. Giving up.")}else e.events.publish("router:navigation:processing",{instruction:n});return e.pipelineProvider.createPipeline().run(n).then(function(r){return M(n,r,t,e)}).catch(function(e){return{output:e instanceof Error?e:new Error(e)}}).then(function(r){return A(n,r,!!t,e)})}}})},t.prototype._findViewModel=function(e){if(this.container.viewModel)return this.container.viewModel;if(e.container)for(var t=e.container;t;){if(t.viewModel)return this.container.viewModel=t.viewModel,t.viewModel;t=t.parent}},t}(Y)}),define("aurelia-task-queue",["exports","aurelia-pal"],function(e,t){"use strict";function n(e){var n=1,r=t.DOM.createMutationObserver(e),i=t.DOM.createTextNode("");return r.observe(i,{characterData:!0}),function(){n=-n,i.data=n}}function r(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}function i(e,t,n){n&&t.stack&&"object"===(void 0===e?"undefined":u(e))&&null!==e&&(e.stack=s(e.stack)+t.stack),"onError"in t?t.onError(e):l?setImmediate(function(){throw e}):setTimeout(function(){throw e},0)}function o(){var e=new Error;if(e.stack)return e.stack;try{throw e}catch(e){return e.stack}}function a(e){return e.replace(/^[\s\S]*?\bqueue(Micro)?Task\b[^\n]*\n/,"")}function s(e){var t=e.lastIndexOf("flushMicroTaskQueue");return t<0&&(t=e.lastIndexOf("flushTaskQueue"))<0?e:(t=e.lastIndexOf("\n",t),t<0?e:e.substr(0,t))}Object.defineProperty(e,"__esModule",{value:!0}),e.TaskQueue=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},l="function"==typeof setImmediate;e.TaskQueue=function(){function e(){var e=this;this.flushing=!1,this.longStacks=!1,this.microTaskQueue=[],this.microTaskQueueCapacity=1024,this.taskQueue=[],t.FEATURE.mutationObserver?this.requestFlushMicroTaskQueue=n(function(){return e.flushMicroTaskQueue()}):this.requestFlushMicroTaskQueue=r(function(){return e.flushMicroTaskQueue()}),this.requestFlushTaskQueue=r(function(){return e.flushTaskQueue()})}return e.prototype._flushQueue=function(e,t){var n=0,r=void 0;try{for(this.flushing=!0;n<e.length;)if(r=e[n],this.longStacks&&(this.stack="string"==typeof r.stack?r.stack:void 0),r.call(),++n>t){for(var o=0,a=e.length-n;o<a;o++)e[o]=e[o+n];e.length-=n,n=0}}catch(e){i(e,r,this.longStacks)}finally{this.flushing=!1}},e.prototype.queueMicroTask=function(e){this.microTaskQueue.length<1&&this.requestFlushMicroTaskQueue(),this.longStacks&&(e.stack=this.prepareQueueStack("\nEnqueued in MicroTaskQueue by:\n")),this.microTaskQueue.push(e)},e.prototype.queueTask=function(e){this.taskQueue.length<1&&this.requestFlushTaskQueue(),this.longStacks&&(e.stack=this.prepareQueueStack("\nEnqueued in TaskQueue by:\n")),this.taskQueue.push(e)},e.prototype.flushTaskQueue=function(){var e=this.taskQueue;this.taskQueue=[],this._flushQueue(e,Number.MAX_VALUE)},e.prototype.flushMicroTaskQueue=function(){var e=this.microTaskQueue;this._flushQueue(e,this.microTaskQueueCapacity),e.length=0},e.prototype.prepareQueueStack=function(e){var t=e+a(o());return"string"==typeof this.stack&&(t=s(t)+this.stack),t},e}()}),define("aurelia-templating",["exports","aurelia-logging","aurelia-metadata","aurelia-pal","aurelia-path","aurelia-loader","aurelia-dependency-injection","aurelia-binding","aurelia-task-queue"],function(e,t,n,r,i,o,a,s,u){"use strict";function l(e){return"-"+e.toLowerCase()}function c(e){return(e.charAt(0).toLowerCase()+e.slice(1)).replace(We,l)}function f(e){return!(e.auInterpolationTarget||/[^\t\n\r ]/.test(e.textContent))}function h(e){var t=function(e){n.metadata.define(n.metadata.resource,new Ge,e)};return e?t(e):t}function d(e){throw new Error("BindingLanguage must implement "+e+"().")}function p(e,t,n,r){if(t){var i=e[t];if(i){if(i!==n)throw new Error("Attempted to register "+r+" when one with the same name already exists. Name: "+t+".")}else e[t]=n}}function v(e){if(void 0!==e.animatableElement)return e.animatableElement;for(var t=e.firstChild;t&&1!==t.nodeType;)t=t.nextSibling;return t&&1===t.nodeType?e.animatableElement=t.classList.contains("au-animate")?t:null:e.animatableElement=null}function g(e){if(e===r.DOM.Element)return this.element;if(e===mt){if(this.boundViewFactory)return this.boundViewFactory;var t=this.instruction.viewFactory,n=this.partReplacements;return n&&(t=n[t.part]||t),this.boundViewFactory=new mt(this,t,n),this.boundViewFactory}return e===pt?(void 0===this.viewSlot&&(this.viewSlot=new pt(this.element,this.instruction.anchorIsContainer),this.element.isContentProjectionSource=this.instruction.lifting,this.children.push(this.viewSlot)),this.viewSlot):e===Ye?this.elementEvents||(this.elementEvents=new Ye(this.element)):e===qe?this.compositionTransaction||(this.compositionTransaction=this.parent.get(e)):e===ht?this.viewResources:e===Qe?this.instruction:this.superGet(e)}function m(e,t,n,r,i,o){var a=e.createChild(),s=void 0,u=void 0;for(a.element=t,a.instruction=n,a.children=r,a.viewResources=o,a.partReplacements=i,s=n.providers,u=s.length;u--;)a._resolvers.set(s[u],gt);return a.superGet=a.get,a.get=g,a}function y(e){return this._element.hasAttribute(e)}function b(e){return this._element.getAttribute(e)}function w(e,t){this._element.setAttribute(e,t)}function x(e,t){var n=r.DOM.createComment("anchor");if(t){var i=e.firstChild;i&&"AU-CONTENT"===i.tagName&&(n.contentElement=i),n._element=e,n.hasAttribute=y,n.getAttribute=b,n.setAttribute=w}return r.DOM.replaceNode(n,e),n}function _(e,t,n,i,o,a,s,u,l){var c=n.behaviorInstructions,f=n.expressions,h=void 0,d=void 0,p=void 0,v=void 0,g=void 0;if(n.contentExpression)return o.push(n.contentExpression.createBinding(t.nextSibling)),t.nextSibling.auInterpolationTarget=!0,void t.parentNode.removeChild(t);if(n.shadowSlot){var y=r.DOM.createComment("slot"),b=void 0;return b=n.slotDestination?new lt(y,n.slotName,n.slotDestination,n.slotFallbackFactory):new ct(y,n.slotName,n.slotFallbackFactory),r.DOM.replaceNode(y,t),s[n.slotName]=b,void i.push(b)}if(c.length)for(n.anchorIsContainer||(t=x(t,n.elementInstruction)),e[n.injectorId]=h=m(e[n.parentInjectorId],t,n,a,u,l),d=0,p=c.length;d<p;++d)v=c[d],g=v.type.create(h,v,t,o),i.push(g);for(d=0,p=f.length;d<p;++d)o.push(f[d].createBinding(t))}function k(e,t){var n=e.split(";"),r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;for(t=t||{},i=0;i<n.length;i++)o=n[i],r=o.indexOf(":"),a=o.substring(0,r).trim(),s=o.substring(r+1).trim(),t[a]=s;return t}function S(e){var t="";for(var n in e)t+=n+":"+e[n]+";";return t}function O(e,t,n,r,i,o){var a=n.behaviorInstructions,s=n.expressions,u=n.providers,l=n.values,c=void 0,f=void 0,h=void 0,d=void 0,p=void 0;for(c=u.length;c--;)e._resolvers.set(u[c],gt);for(var v in l)if(p=t.getAttribute(v)){if("class"===v)t.setAttribute("class",p+" "+l[v]);else if("style"===v){var g=k(l[v]);k(p,g),t.setAttribute("style",S(g))}}else t.setAttribute(v,l[v]);if(a.length)for(c=0,f=a.length;c<f;++c)h=a[c],d=h.type.create(e,h,t,i),d.contentView&&o.push(d.contentView),r.push(d);for(c=0,f=s.length;c<f;++c)i.push(s[c].createBinding(t))}function T(){return++bt}function C(){return(++wt).toString()}function E(e){var t=e.getAttribute("class"),n=C();return e.setAttribute("class",t?t+" au-target":"au-target"),e.setAttribute("au-target-id",n),n}function P(e,t,n,i,o){var a=r.DOM.createElement("au-shadow-slot");r.DOM.replaceNode(a,n);var s=E(a),u=Qe.shadowSlot(o);if(u.slotName=n.getAttribute("name")||ft.defaultSlotKey,u.slotDestination=n.getAttribute("slot"),n.innerHTML.trim()){for(var l=r.DOM.createDocumentFragment(),c=void 0;c=n.firstChild;)l.appendChild(c);u.slotFallbackFactory=e.compile(l,t)}return i[s]=u,a}function M(e,t){return t instanceof o.TemplateRegistryEntry?Promise.resolve(t):e.loadTemplate(t)}function A(e,t){var r=e.__observers__;if(void 0===r){var i=Object.getPrototypeOf(e).constructor,o=n.metadata.get(n.metadata.resource,i);o.isInitialized||o.initialize(a.Container.instance||new a.Container,e.constructor),r=o.observerLocator.getOrCreateObserversLookup(e),o._ensurePropertiesDefined(e,r)}return r[t]}function j(){return++jt}function R(){return!0}function I(){}function L(e,t){return function(r,i,o){var a="string"==typeof i?r.constructor:r,s=n.metadata.getOrCreateOwn(n.metadata.resource,Rt,a);"string"==typeof e&&(e={selector:e,name:i}),o&&(o.writable=!0,o.configurable=!0),e.all=t,s.addChildBinding(new It(e))}}function D(e){return L(e,!0)}function N(e){return L(e,!1)}function B(e,t,n){var r=e.get(t);r||(r=[],e.set(t,r)),r.push(n)}function F(e,t){for(var n=t.binders,r=n.length,i=new Map,o=0,a=e.length;o<a;++o){for(var s=e[o],u=s.addedNodes,l=s.removedNodes,c=0,f=l.length;c<f;++c){var h=l[c];if(1===h.nodeType)for(var d=0;d<r;++d){var p=n[d];p.onRemove(h)&&B(i,p,s)}}for(var v=0,g=u.length;v<g;++v){var m=u[v];if(1===m.nodeType)for(var y=0;y<r;++y){var b=n[y];b.onAdd(m)&&B(i,b,s)}}}i.forEach(function(e,t){null!==t.changeHandler&&t.viewModel[t.changeHandler](e)})}function V(e,t){return Array.isArray(t)?e.removeMany(t,!0):e.remove(t,!0)}function z(e){return e.skipActivation||"function"!=typeof e.viewModel.activate?Promise.resolve():e.viewModel.activate(e.model)||Promise.resolve()}function H(e,t){if(/[A-Z]/.test(e)){var n=c(e);return Be.getLogger("templating").warn("'"+e+"' is not a valid "+t+" name and has been converted to '"+n+"'. Upper-case letters are not allowed because the DOM is not case-sensitive."),n}return e}function U(e){return function(t){n.metadata.define(n.metadata.resource,e,t)}}function q(e){return function(t){if(e instanceof Rt)n.metadata.define(n.metadata.resource,e,t);else{var r=n.metadata.getOrCreateOwn(n.metadata.resource,Rt,t);Object.assign(r,e)}}}function W(e){return function(t){n.metadata.getOrCreateOwn(n.metadata.resource,Rt,t).elementName=H(e,"custom element")}}function G(e,t,r){return function(i){var o=n.metadata.getOrCreateOwn(n.metadata.resource,Rt,i);o.attributeName=H(e,"custom attribute"),o.attributeDefaultBindingMode=t,o.aliases=r}}function Y(e){var t=function(e){n.metadata.getOrCreateOwn(n.metadata.resource,Rt,e).liftsContent=!0};return e?t(e):t}function X(e,t,r){var i=function(t,r,i){var o=r?t.constructor:t,a=n.metadata.getOrCreateOwn(n.metadata.resource,Rt,o),s=void 0;return r&&(e=e||{},e.name=r),s=new At(e),s.registerWith(o,a,i)};if(!e)return i;if(t){var o=e;return e=null,i(o,t,r)}return i}function Z(e){var t=function(e){n.metadata.getOrCreateOwn(n.metadata.resource,Rt,e).hasDynamicOptions=!0};return e?t(e):t}function K(e){var t="function"!=typeof e&&e?e:Vt,r=function(e){var r=n.metadata.getOrCreateOwn(n.metadata.resource,Rt,e);r.targetShadowDOM=!0,r.shadowDOMOptions=t};return"function"==typeof e?r(e):r}function $(e){return function(t){n.metadata.getOrCreateOwn(n.metadata.resource,Rt,t).processAttributes=function(t,n,r,i,o){try{e(t,n,r,i,o)}catch(e){Be.getLogger("templating").error(e)}}}}function Q(){return!1}function J(e){return function(t){n.metadata.getOrCreateOwn(n.metadata.resource,Rt,t).processContent=e?function(t,n,r,i){try{return e(t,n,r,i)}catch(e){return Be.getLogger("templating").error(e),!1}}:Q}}function ee(e){var t=function(e){n.metadata.getOrCreateOwn(n.metadata.resource,Rt,e).containerless=!0};return e?t(e):t}function te(e){return function(t){n.metadata.define(ot.viewStrategyMetadataKey,e,t)}}function ne(e){return te(new et(e))}function re(e,t,n){return te(new it(e,t,n))}function ie(e,t){var r=void 0,i=void 0;"function"==typeof e?r=e:(i=e,r=void 0);var o=function(e){n.metadata.define(ot.viewStrategyMetadataKey,new nt(i,t),e)};return r?o(r):o}function oe(e){var t=function(e){n.metadata.define(n.metadata.resource,new Ft,e)};return e?t(e):t}function ae(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){n.metadata.define(Et.viewModelRequireMetadataKey,t,e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.TemplatingEngine=e.ElementConfigResource=e.CompositionEngine=e.SwapStrategies=e.HtmlBehaviorResource=e.BindableProperty=e.BehaviorPropertyObserver=e.Controller=e.ViewEngine=e.ModuleAnalyzer=e.ResourceDescription=e.ResourceModule=e.ViewCompiler=e.ViewFactory=e.BoundViewFactory=e.ViewSlot=e.View=e.ViewResources=e.ShadowDOM=e.ShadowSlot=e.PassThroughSlot=e.SlotCustomAttribute=e.BindingLanguage=e.ViewLocator=e.InlineViewStrategy=e.TemplateRegistryViewStrategy=e.NoViewStrategy=e.ConventionalViewStrategy=e.RelativeViewStrategy=e.viewStrategy=e.TargetInstruction=e.BehaviorInstruction=e.ViewCompileInstruction=e.ResourceLoadContext=e.ElementEvents=e.ViewEngineHooksResource=e.CompositionTransaction=e.CompositionTransactionOwnershipToken=e.CompositionTransactionNotifier=e.Animator=e.animationEvent=void 0,e._hyphenate=c,e._isAllWhitespace=f,e.viewEngineHooks=h,e.children=D,e.child=N,e.resource=U,e.behavior=q,e.customElement=W,e.customAttribute=G,e.templateController=Y,e.bindable=X,e.dynamicOptions=Z,e.useShadowDOM=K,e.processAttributes=$,e.processContent=J,e.containerless=ee,e.useViewStrategy=te,e.useView=ne,e.inlineView=re,e.noView=ie,e.elementConfig=oe,e.viewResources=ae;var se,ue,le,ce,fe,he,de,pe,ve,ge,me,ye,be,we,xe,_e,ke,Se,Oe,Te,Ce,Ee,Pe,Me,Ae,je,Re,Ie,Le,De,Ne,Be=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),Fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze=(e.animationEvent={enterBegin:"animation:enter:begin",enterActive:"animation:enter:active",enterDone:"animation:enter:done",enterTimeout:"animation:enter:timeout",leaveBegin:"animation:leave:begin",leaveActive:"animation:leave:active",leaveDone:"animation:leave:done",leaveTimeout:"animation:leave:timeout",staggerNext:"animation:stagger:next",removeClassBegin:"animation:remove-class:begin",removeClassActive:"animation:remove-class:active",removeClassDone:"animation:remove-class:done",removeClassTimeout:"animation:remove-class:timeout",addClassBegin:"animation:add-class:begin",addClassActive:"animation:add-class:active",addClassDone:"animation:add-class:done",addClassTimeout:"animation:add-class:timeout",animateBegin:"animation:animate:begin",animateActive:"animation:animate:active",animateDone:"animation:animate:done",animateTimeout:"animation:animate:timeout",sequenceBegin:"animation:sequence:begin",sequenceDone:"animation:sequence:done"},e.Animator=function(){function e(){}return e.prototype.enter=function(e){return Promise.resolve(!1)},e.prototype.leave=function(e){return Promise.resolve(!1)},e.prototype.removeClass=function(e,t){return e.classList.remove(t),Promise.resolve(!1)},e.prototype.addClass=function(e,t){return e.classList.add(t),Promise.resolve(!1)},e.prototype.animate=function(e,t){return Promise.resolve(!1)},e.prototype.runSequence=function(e){},e.prototype.registerEffect=function(e,t){},e.prototype.unregisterEffect=function(e){},e
}()),He=e.CompositionTransactionNotifier=function(){function e(e){this.owner=e,this.owner._compositionCount++}return e.prototype.done=function(){this.owner._compositionCount--,this.owner._tryCompleteTransaction()},e}(),Ue=e.CompositionTransactionOwnershipToken=function(){function e(e){this.owner=e,this.owner._ownershipToken=this,this.thenable=this._createThenable()}return e.prototype.waitForCompositionComplete=function(){return this.owner._tryCompleteTransaction(),this.thenable},e.prototype.resolve=function(){this._resolveCallback()},e.prototype._createThenable=function(){var e=this;return new Promise(function(t,n){e._resolveCallback=t})},e}(),qe=e.CompositionTransaction=function(){function e(){this._ownershipToken=null,this._compositionCount=0}return e.prototype.tryCapture=function(){return null===this._ownershipToken?new Ue(this):null},e.prototype.enlist=function(){return new He(this)},e.prototype._tryCompleteTransaction=function(){if(this._compositionCount<=0&&(this._compositionCount=0,null!==this._ownershipToken)){var e=this._ownershipToken;this._ownershipToken=null,e.resolve()}},e}(),We=/([A-Z])/g,Ge=e.ViewEngineHooksResource=function(){function e(){}return e.prototype.initialize=function(e,t){this.instance=e.get(t)},e.prototype.register=function(e,t){e.registerViewEngineHooks(this.instance)},e.prototype.load=function(e,t){},e.convention=function(t){if(t.endsWith("ViewEngineHooks"))return new e},e}(),Ye=e.ElementEvents=function(){function e(e){this.element=e,this.subscriptions={}}return e.prototype._enqueueHandler=function(e){this.subscriptions[e.eventName]=this.subscriptions[e.eventName]||[],this.subscriptions[e.eventName].push(e)},e.prototype._dequeueHandler=function(e){var t=void 0,n=this.subscriptions[e.eventName];return n&&(t=n.indexOf(e))>-1&&n.splice(t,1),e},e.prototype.publish=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=r.DOM.createCustomEvent(e,{cancelable:i,bubbles:n,detail:t});this.element.dispatchEvent(o)},e.prototype.subscribe=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("function"==typeof t){return new Xe(this,e,t,n,!1)}},e.prototype.subscribeOnce=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("function"==typeof t){return new Xe(this,e,t,n,!0)}},e.prototype.dispose=function(e){if(e&&"string"==typeof e){var t=this.subscriptions[e];if(t)for(;t.length;){var n=t.pop();n&&n.dispose()}}else this.disposeAll()},e.prototype.disposeAll=function(){for(var e in this.subscriptions)this.dispose(e)},e}(),Xe=function(){function e(e,t,n,r,i){this.owner=e,this.eventName=t,this.handler=n,this.capture="boolean"==typeof r?r:r.capture,this.bubbles=!this.capture,this.captureOrOptions=r,this.once=i,e.element.addEventListener(t,this,r),e._enqueueHandler(this)}return e.prototype.handleEvent=function(e){(0,this.handler)(e),this.once&&this.dispose()},e.prototype.dispose=function(){this.owner.element.removeEventListener(this.eventName,this,this.captureOrOptions),this.owner._dequeueHandler(this),this.owner=this.handler=null},e}(),Ze=e.ResourceLoadContext=function(){function e(){this.dependencies={}}return e.prototype.addDependency=function(e){this.dependencies[e]=!0},e.prototype.hasDependency=function(e){return e in this.dependencies},e}(),Ke=e.ViewCompileInstruction=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.targetShadowDOM=e,this.compileSurrogate=t,this.associatedModuleId=null};Ke.normal=new Ke;var $e=e.BehaviorInstruction=function(){function e(){this.initiatedByBehavior=!1,this.enhance=!1,this.partReplacements=null,this.viewFactory=null,this.originalAttrName=null,this.skipContentProcessing=!1,this.contentFactory=null,this.viewModel=null,this.anchorIsContainer=!1,this.host=null,this.attributes=null,this.type=null,this.attrName=null,this.inheritBindingContext=!1}return e.enhance=function(){var t=new e;return t.enhance=!0,t},e.unitTest=function(t,n){var r=new e;return r.type=t,r.attributes=n||{},r},e.element=function(t,n){var r=new e;return r.type=n,r.attributes={},r.anchorIsContainer=!(t.hasAttribute("containerless")||n.containerless),r.initiatedByBehavior=!0,r},e.attribute=function(t,n){var r=new e;return r.attrName=t,r.type=n||null,r.attributes={},r},e.dynamic=function(t,n,r){var i=new e;return i.host=t,i.viewModel=n,i.viewFactory=r,i.inheritBindingContext=!0,i},e}();$e.normal=new $e;var Qe=e.TargetInstruction=(ue=se=function(){function e(){this.injectorId=null,this.parentInjectorId=null,this.shadowSlot=!1,this.slotName=null,this.slotFallbackFactory=null,this.contentExpression=null,this.expressions=null,this.behaviorInstructions=null,this.providers=null,this.viewFactory=null,this.anchorIsContainer=!1,this.elementInstruction=null,this.lifting=!1,this.values=null}return e.shadowSlot=function(t){var n=new e;return n.parentInjectorId=t,n.shadowSlot=!0,n},e.contentExpression=function(t){var n=new e;return n.contentExpression=t,n},e.lifting=function(t,n){var r=new e;return r.parentInjectorId=t,r.expressions=e.noExpressions,r.behaviorInstructions=[n],r.viewFactory=n.viewFactory,r.providers=[n.type.target],r.lifting=!0,r},e.normal=function(t,n,r,i,o,a){var s=new e;return s.injectorId=t,s.parentInjectorId=n,s.providers=r,s.behaviorInstructions=i,s.expressions=o,s.anchorIsContainer=!a||a.anchorIsContainer,s.elementInstruction=a,s},e.surrogate=function(t,n,r,i){var o=new e;return o.expressions=r,o.behaviorInstructions=n,o.providers=t,o.values=i,o},e}(),se.noExpressions=Object.freeze([]),ue),Je=e.viewStrategy=n.protocol.create("aurelia:view-strategy",{validate:function(e){return"function"==typeof e.loadViewFactory||"View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>"},compose:function(e){"function"!=typeof e.makeRelativeTo&&(e.makeRelativeTo=r.PLATFORM.noop)}}),et=e.RelativeViewStrategy=(le=Je())(ce=function(){function e(e){this.path=e,this.absolutePath=null}return e.prototype.loadViewFactory=function(e,t,n,r){return null===this.absolutePath&&this.moduleId&&(this.absolutePath=(0,i.relativeToFile)(this.path,this.moduleId)),t.associatedModuleId=this.moduleId,e.loadViewFactory(this.absolutePath||this.path,t,n,r)},e.prototype.makeRelativeTo=function(e){null===this.absolutePath&&(this.absolutePath=(0,i.relativeToFile)(this.path,e))},e}())||ce,tt=e.ConventionalViewStrategy=(fe=Je())(he=function(){function e(e,t){this.moduleId=t.moduleId,this.viewUrl=e.convertOriginToViewUrl(t)}return e.prototype.loadViewFactory=function(e,t,n,r){return t.associatedModuleId=this.moduleId,e.loadViewFactory(this.viewUrl,t,n,r)},e}())||he,nt=e.NoViewStrategy=(de=Je())(pe=function(){function e(e,t){this.dependencies=e||null,this.dependencyBaseUrl=t||""}return e.prototype.loadViewFactory=function(e,t,n,r){var i=this.entry,a=this.dependencies;if(i&&i.factoryIsReady)return Promise.resolve(null);if(this.entry=i=new o.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),i.dependencies=[],i.templateIsLoaded=!0,null!==a)for(var s=0,u=a.length;s<u;++s){var l=a[s];"string"==typeof l||"function"==typeof l?i.addDependency(l):i.addDependency(l.from,l.as)}return t.associatedModuleId=this.moduleId,e.loadViewFactory(i,t,n,r)},e}())||pe,rt=e.TemplateRegistryViewStrategy=(ve=Je())(ge=function(){function e(e,t){this.moduleId=e,this.entry=t}return e.prototype.loadViewFactory=function(e,t,n,r){var i=this.entry;return i.factoryIsReady?Promise.resolve(i.factory):(t.associatedModuleId=this.moduleId,e.loadViewFactory(i,t,n,r))},e}())||ge,it=e.InlineViewStrategy=(me=Je())(ye=function(){function e(e,t,n){this.markup=e,this.dependencies=t||null,this.dependencyBaseUrl=n||""}return e.prototype.loadViewFactory=function(e,t,n,i){var a=this.entry,s=this.dependencies;if(a&&a.factoryIsReady)return Promise.resolve(a.factory);if(this.entry=a=new o.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),a.template=r.DOM.createTemplateFromMarkup(this.markup),null!==s)for(var u=0,l=s.length;u<l;++u){var c=s[u];"string"==typeof c||"function"==typeof c?a.addDependency(c):a.addDependency(c.from,c.as)}return t.associatedModuleId=this.moduleId,e.loadViewFactory(a,t,n,i)},e}())||ye,ot=e.ViewLocator=(we=be=function(){function e(){}return e.prototype.getViewStrategy=function(t){if(!t)return null;if("object"===(void 0===t?"undefined":Ve(t))&&"getViewStrategy"in t){var r=n.Origin.get(t.constructor);return t=t.getViewStrategy(),"string"==typeof t&&(t=new et(t)),Je.assert(t),r.moduleId&&t.makeRelativeTo(r.moduleId),t}if("string"==typeof t&&(t=new et(t)),Je.validate(t))return t;"function"!=typeof t&&(t=t.constructor);var i=n.Origin.get(t),o=n.metadata.get(e.viewStrategyMetadataKey,t);if(o)i.moduleId&&(o.moduleId=i.moduleId);else{if(!i.moduleId)throw new Error("Cannot determine default view strategy for object.",t);o=this.createFallbackViewStrategy(i)}return o},e.prototype.createFallbackViewStrategy=function(e){return new tt(this,e)},e.prototype.convertOriginToViewUrl=function(e){var t=e.moduleId;return(t.endsWith(".js")||t.endsWith(".ts")?t.substring(0,t.length-3):t)+".html"},e}(),be.viewStrategyMetadataKey="aurelia:view-strategy",we),at=e.BindingLanguage=function(){function e(){}return e.prototype.inspectAttribute=function(e,t,n,r){d("inspectAttribute")},e.prototype.createAttributeInstruction=function(e,t,n,r){d("createAttributeInstruction")},e.prototype.inspectTextContent=function(e,t){d("inspectTextContent")},e}(),st=Object.freeze([]),ut=e.SlotCustomAttribute=(xe=(0,a.inject)(r.DOM.Element))(_e=function(){function e(e){this.element=e,this.element.auSlotAttribute=this}return e.prototype.valueChanged=function(e,t){},e}())||_e,lt=e.PassThroughSlot=function(){function e(e,t,n,r){this.anchor=e,this.anchor.viewSlot=this,this.name=t,this.destinationName=n,this.fallbackFactory=r,this.destinationSlot=null,this.projections=0,this.contentView=null,new ut(this.anchor).value=this.destinationName}return e.prototype.renderFallbackContent=function(e,t,n,r){if(null===this.contentView){this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext);var i=Object.create(null);i[this.destinationSlot.name]=this.destinationSlot,ft.distributeView(this.contentView,i,n,r,this.destinationSlot.name)}},e.prototype.passThroughTo=function(e){this.destinationSlot=e},e.prototype.addNode=function(t,n,r,i){if(null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),n.viewSlot instanceof e)return void n.viewSlot.passThroughTo(this);this.projections++,this.destinationSlot.addNode(t,n,r,i)},e.prototype.removeView=function(e,t){this.projections--,this.destinationSlot.removeView(e,t),this.needsFallbackRendering&&this.renderFallbackContent(null,st,t)},e.prototype.removeAll=function(e){this.projections=0,this.destinationSlot.removeAll(e),this.needsFallbackRendering&&this.renderFallbackContent(null,st,e)},e.prototype.projectFrom=function(e,t){this.destinationSlot.projectFrom(e,t)},e.prototype.created=function(e){this.ownerView=e},e.prototype.bind=function(e){this.contentView&&this.contentView.bind(e.bindingContext,e.overrideContext)},e.prototype.attached=function(){this.contentView&&this.contentView.attached()},e.prototype.detached=function(){this.contentView&&this.contentView.detached()},e.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},Fe(e,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),e}(),ct=e.ShadowSlot=function(){function e(e,t,n){this.anchor=e,this.anchor.isContentProjectionSource=!0,this.anchor.viewSlot=this,this.name=t,this.fallbackFactory=n,this.contentView=null,this.projections=0,this.children=[],this.projectFromAnchors=null,this.destinationSlots=null}return e.prototype.addNode=function(e,t,n,r,i){if(null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),t.viewSlot instanceof lt)return void t.viewSlot.passThroughTo(this);if(null!==this.destinationSlots)ft.distributeNodes(e,[t],this.destinationSlots,this,r);else{t.auOwnerView=e,t.auProjectionSource=n,t.auAssignedSlot=this;var o=this._findAnchor(e,t,n,r);o.parentNode.insertBefore(t,o),this.children.push(t),this.projections++}},e.prototype.removeView=function(e,t){if(null!==this.destinationSlots)ft.undistributeView(e,this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)ft.undistributeView(e,this.contentView.slots,t);else{var n=this.children.find(function(e){return e.auSlotProjectFrom===t});if(n){for(var r=n.auProjectionChildren,i=0,o=r.length;i<o;++i){var a=r[i];a.auOwnerView===e&&(r.splice(i,1),e.fragment.appendChild(a),i--,o--,this.projections--)}this.needsFallbackRendering&&this.renderFallbackContent(e,st,t)}}},e.prototype.removeAll=function(e){if(null!==this.destinationSlots)ft.undistributeAll(this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)ft.undistributeAll(this.contentView.slots,e);else{var t=this.children.find(function(t){return t.auSlotProjectFrom===e});if(t){for(var n=t.auProjectionChildren,r=0,i=n.length;r<i;++r){var o=n[r];o.auOwnerView.fragment.appendChild(o),this.projections--}t.auProjectionChildren=[],this.needsFallbackRendering&&this.renderFallbackContent(null,st,e)}}},e.prototype._findAnchor=function(e,t,n,r){if(n){var i=this.children.find(function(e){return e.auSlotProjectFrom===n});if(i){if(void 0!==r)for(var o=i.auProjectionChildren,a=-1,s=void 0,u=0,l=o.length;u<l;++u){var c=o[u];if(c.auOwnerView!==s&&(a++,s=c.auOwnerView,a>=r&&s!==e))return o.splice(u,0,t),c}return i.auProjectionChildren.push(t),i}}return this.anchor},e.prototype.projectTo=function(e){this.destinationSlots=e},e.prototype.projectFrom=function(e,t){var n=r.DOM.createComment("anchor"),i=this.anchor.parentNode;n.auSlotProjectFrom=t,n.auOwnerView=e,n.auProjectionChildren=[],i.insertBefore(n,this.anchor),this.children.push(n),null===this.projectFromAnchors&&(this.projectFromAnchors=[]),this.projectFromAnchors.push(n)},e.prototype.renderFallbackContent=function(e,t,n,r){if(null===this.contentView&&(this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext),this.contentView.insertNodesBefore(this.anchor)),this.contentView.hasSlots){var i=this.contentView.slots,o=this.projectFromAnchors;if(null!==o)for(var a in i)for(var s=i[a],u=0,l=o.length;u<l;++u){var c=o[u];s.projectFrom(c.auOwnerView,c.auSlotProjectFrom)}this.fallbackSlots=i,ft.distributeNodes(e,t,i,n,r)}},e.prototype.created=function(e){this.ownerView=e},e.prototype.bind=function(e){this.contentView&&this.contentView.bind(e.bindingContext,e.overrideContext)},e.prototype.attached=function(){this.contentView&&this.contentView.attached()},e.prototype.detached=function(){this.contentView&&this.contentView.detached()},e.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},Fe(e,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),e}(),ft=e.ShadowDOM=(Se=ke=function(){function e(){}return e.getSlotName=function(t){return void 0===t.auSlotAttribute?e.defaultSlotKey:t.auSlotAttribute.value},e.distributeView=function(t,n,r,i,o){var a=void 0;if(null===t)a=st;else{var s=t.fragment.childNodes,u=s.length;a=new Array(u);for(var l=0;l<u;++l)a[l]=s[l]}e.distributeNodes(t,a,n,r,i,o)},e.undistributeView=function(e,t,n){for(var r in t)t[r].removeView(e,n)},e.undistributeAll=function(e,t){for(var n in e)e[n].removeAll(t)},e.distributeNodes=function(t,n,r,i,o,a){for(var s=0,u=n.length;s<u;++s){var l=n[s],c=l.nodeType;if(l.isContentProjectionSource){l.viewSlot.projectTo(r);for(var h in r)r[h].projectFrom(t,l.viewSlot);n.splice(s,1),u--,s--}else if(1===c||3===c||l.viewSlot instanceof lt)if(3===c&&f(l))n.splice(s,1),u--,s--;else{var d=r[a||e.getSlotName(l)];d&&(d.addNode(t,l,i,o),n.splice(s,1),u--,s--)}else n.splice(s,1),u--,s--}for(var p in r){var v=r[p];v.needsFallbackRendering&&v.renderFallbackContent(t,n,i,o)}},e}(),ke.defaultSlotKey="__au-default-slot-key__",Se),ht=e.ViewResources=function(){function e(e,t){this.bindingLanguage=null,this.parent=e||null,this.hasParent=null!==this.parent,this.viewUrl=t||"",this.lookupFunctions={valueConverters:this.getValueConverter.bind(this),bindingBehaviors:this.getBindingBehavior.bind(this)},this.attributes=Object.create(null),this.elements=Object.create(null),this.valueConverters=Object.create(null),this.bindingBehaviors=Object.create(null),this.attributeMap=Object.create(null),this.values=Object.create(null),this.beforeCompile=this.afterCompile=this.beforeCreate=this.afterCreate=this.beforeBind=this.beforeUnbind=!1}return e.prototype._tryAddHook=function(e,t){if("function"==typeof e[t]){for(var n=e[t].bind(e),r=1,i=void 0;void 0!==this[i=t+r.toString()];)r++;this[t]=!0,this[i]=n}},e.prototype._invokeHook=function(e,t,n,r,i){if(this.hasParent&&this.parent._invokeHook(e,t,n,r,i),this[e]){this[e+"1"](t,n,r,i);var o=e+"2";if(this[o]&&(this[o](t,n,r,i),o=e+"3",this[o])){this[o](t,n,r,i);for(var a=4;void 0!==this[o=e+a.toString()];)this[o](t,n,r,i),a++}}},e.prototype.registerViewEngineHooks=function(e){this._tryAddHook(e,"beforeCompile"),this._tryAddHook(e,"afterCompile"),this._tryAddHook(e,"beforeCreate"),this._tryAddHook(e,"afterCreate"),this._tryAddHook(e,"beforeBind"),this._tryAddHook(e,"beforeUnbind")},e.prototype.getBindingLanguage=function(e){return this.bindingLanguage||(this.bindingLanguage=e)},e.prototype.patchInParent=function(e){var t=this.parent;this.parent=e||null,this.hasParent=null!==this.parent,null===e.parent&&(e.parent=t,e.hasParent=null!==t)},e.prototype.relativeToView=function(e){return(0,i.relativeToFile)(e,this.viewUrl)},e.prototype.registerElement=function(e,t){p(this.elements,e,t,"an Element")},e.prototype.getElement=function(e){return this.elements[e]||(this.hasParent?this.parent.getElement(e):null)},e.prototype.mapAttribute=function(e){return this.attributeMap[e]||(this.hasParent?this.parent.mapAttribute(e):null)},e.prototype.registerAttribute=function(e,t,n){this.attributeMap[e]=n,p(this.attributes,e,t,"an Attribute")},e.prototype.getAttribute=function(e){return this.attributes[e]||(this.hasParent?this.parent.getAttribute(e):null)},e.prototype.registerValueConverter=function(e,t){p(this.valueConverters,e,t,"a ValueConverter")},e.prototype.getValueConverter=function(e){return this.valueConverters[e]||(this.hasParent?this.parent.getValueConverter(e):null)},e.prototype.registerBindingBehavior=function(e,t){p(this.bindingBehaviors,e,t,"a BindingBehavior")},e.prototype.getBindingBehavior=function(e){return this.bindingBehaviors[e]||(this.hasParent?this.parent.getBindingBehavior(e):null)},e.prototype.registerValue=function(e,t){p(this.values,e,t,"a value")},e.prototype.getValue=function(e){return this.values[e]||(this.hasParent?this.parent.getValue(e):null)},e}(),dt=e.View=function(){function e(e,t,n,r,i,o,a){this.container=e,this.viewFactory=t,this.resources=t.resources,this.fragment=n,this.firstChild=n.firstChild,this.lastChild=n.lastChild,this.controllers=r,this.bindings=i,this.children=o,this.slots=a,this.hasSlots=!1,this.fromCache=!1,this.isBound=!1,this.isAttached=!1,this.bindingContext=null,this.overrideContext=null,this.controller=null,this.viewModelScope=null,this.animatableElement=void 0,this._isUserControlled=!1,this.contentView=null;for(var s in a){this.hasSlots=!0;break}}return e.prototype.returnToCache=function(){this.viewFactory.returnViewToCache(this)},e.prototype.created=function(){var e=void 0,t=void 0,n=this.controllers;for(e=0,t=n.length;e<t;++e)n[e].created(this)},e.prototype.bind=function(e,t,n){var r=void 0,i=void 0,o=void 0,a=void 0,u=void 0;if(!n||!this._isUserControlled){if(this.isBound){if(this.bindingContext===e)return;this.unbind()}for(this.isBound=!0,this.bindingContext=e,this.overrideContext=t||(0,s.createOverrideContext)(e),this.resources._invokeHook("beforeBind",this),i=this.bindings,a=0,u=i.length;a<u;++a)i[a].bind(this);for(null!==this.viewModelScope&&(e.bind(this.viewModelScope.bindingContext,this.viewModelScope.overrideContext),this.viewModelScope=null),r=this.controllers,a=0,u=r.length;a<u;++a)r[a].bind(this);for(o=this.children,a=0,u=o.length;a<u;++a)o[a].bind(e,t,!0);this.hasSlots&&ft.distributeView(this.contentView,this.slots)}},e.prototype.addBinding=function(e){this.bindings.push(e),this.isBound&&e.bind(this)},e.prototype.unbind=function(){var e=void 0,t=void 0,n=void 0,r=void 0,i=void 0;if(this.isBound){for(this.isBound=!1,this.resources._invokeHook("beforeUnbind",this),null!==this.controller&&this.controller.unbind(),t=this.bindings,r=0,i=t.length;r<i;++r)t[r].unbind();for(e=this.controllers,r=0,i=e.length;r<i;++r)e[r].unbind();for(n=this.children,r=0,i=n.length;r<i;++r)n[r].unbind();this.bindingContext=null,this.overrideContext=null}},e.prototype.insertNodesBefore=function(e){e.parentNode.insertBefore(this.fragment,e)},e.prototype.appendNodesTo=function(e){e.appendChild(this.fragment)},e.prototype.removeNodes=function(){for(var e=this.fragment,t=this.firstChild,n=this.lastChild,r=void 0;t&&(r=t.nextSibling,e.appendChild(t),t!==n);)t=r},e.prototype.attached=function(){var e=void 0,t=void 0,n=void 0,r=void 0;if(!this.isAttached){for(this.isAttached=!0,null!==this.controller&&this.controller.attached(),e=this.controllers,n=0,r=e.length;n<r;++n)e[n].attached();for(t=this.children,n=0,r=t.length;n<r;++n)t[n].attached()}},e.prototype.detached=function(){var e=void 0,t=void 0,n=void 0,r=void 0;if(this.isAttached){for(this.isAttached=!1,null!==this.controller&&this.controller.detached(),e=this.controllers,n=0,r=e.length;n<r;++n)e[n].detached();for(t=this.children,n=0,r=t.length;n<r;++n)t[n].detached()}},e}(),pt=e.ViewSlot=function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ze.instance;this.anchor=e,this.anchorIsContainer=t,this.bindingContext=null,this.overrideContext=null,this.animator=n,this.children=[],this.isBound=!1,this.isAttached=!1,this.contentSelectors=null,e.viewSlot=this,e.isContentProjectionSource=!1}return e.prototype.animateView=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"enter",n=v(e);if(null!==n)switch(t){case"enter":return this.animator.enter(n);case"leave":return this.animator.leave(n);default:throw new Error("Invalid animation direction: "+t)}},e.prototype.transformChildNodesIntoView=function(){var e=this.anchor;this.children.push({fragment:e,firstChild:e.firstChild,lastChild:e.lastChild,returnToCache:function(){},removeNodes:function(){for(var t=void 0;t=e.lastChild;)e.removeChild(t)},created:function(){},bind:function(){},unbind:function(){},attached:function(){},detached:function(){}})},e.prototype.bind=function(e,t){var n=void 0,r=void 0,i=void 0;if(this.isBound){if(this.bindingContext===e)return;this.unbind()}for(this.isBound=!0,this.bindingContext=e=e||this.bindingContext,this.overrideContext=t=t||this.overrideContext,i=this.children,n=0,r=i.length;n<r;++n)i[n].bind(e,t,!0)},e.prototype.unbind=function(){if(this.isBound){var e=void 0,t=void 0,n=this.children;for(this.isBound=!1,this.bindingContext=null,this.overrideContext=null,e=0,t=n.length;e<t;++e)n[e].unbind()}},e.prototype.add=function(e){if(this.anchorIsContainer?e.appendNodesTo(this.anchor):e.insertNodesBefore(this.anchor),this.children.push(e),this.isAttached)return e.attached(),this.animateView(e,"enter")},e.prototype.insert=function(e,t){var n=this.children,r=n.length;return 0===e&&0===r||e>=r?this.add(t):(t.insertNodesBefore(n[e].firstChild),n.splice(e,0,t),this.isAttached?(t.attached(),this.animateView(t,"enter")):void 0)},e.prototype.move=function(e,t){if(e!==t){var n=this.children,r=n[e];r.removeNodes(),r.insertNodesBefore(n[t].firstChild),n.splice(e,1),n.splice(t,0,r)}},e.prototype.remove=function(e,t,n){return this.removeAt(this.children.indexOf(e),t,n)},e.prototype.removeMany=function(e,t,n){var r=this,i=this.children,o=e.length,a=void 0,s=[];e.forEach(function(e){if(n)return void e.removeNodes();var t=r.animateView(e,"leave");t?s.push(t.then(function(){return e.removeNodes()})):e.removeNodes()});var u=function(){if(r.isAttached)for(a=0;a<o;++a)e[a].detached();if(t)for(a=0;a<o;++a)e[a].returnToCache();for(a=0;a<o;++a){var n=i.indexOf(e[a]);n>=0&&i.splice(n,1)}};return s.length>0?Promise.all(s).then(function(){return u()}):u()},e.prototype.removeAt=function(e,t,n){var r=this,i=this.children[e],o=function(){return e=r.children.indexOf(i),i.removeNodes(),r.children.splice(e,1),r.isAttached&&i.detached(),t&&i.returnToCache(),i};if(!n){var a=this.animateView(i,"leave");if(a)return a.then(function(){return o()})}return o()},e.prototype.removeAll=function(e,t){var n=this,r=this.children,i=r.length,o=void 0,a=[];r.forEach(function(e){if(t)return void e.removeNodes();var r=n.animateView(e,"leave");r?a.push(r.then(function(){return e.removeNodes()})):e.removeNodes()});var s=function(){if(n.isAttached)for(o=0;o<i;++o)r[o].detached();if(e)for(o=0;o<i;++o){var t=r[o];t&&t.returnToCache()}n.children=[]};return a.length>0?Promise.all(a).then(function(){return s()}):s()},e.prototype.attached=function(){var e=void 0,t=void 0,n=void 0,r=void 0;if(!this.isAttached)for(this.isAttached=!0,n=this.children,e=0,t=n.length;e<t;++e)r=n[e],r.attached(),this.animateView(r,"enter")},e.prototype.detached=function(){var e=void 0,t=void 0,n=void 0;if(this.isAttached)for(this.isAttached=!1,n=this.children,e=0,t=n.length;e<t;++e)n[e].detached()},e.prototype.projectTo=function(e){var t=this;this.projectToSlots=e,this.add=this._projectionAdd,this.insert=this._projectionInsert,this.move=this._projectionMove,this.remove=this._projectionRemove,this.removeAt=this._projectionRemoveAt,this.removeMany=this._projectionRemoveMany,this.removeAll=this._projectionRemoveAll,this.children.forEach(function(n){return ft.distributeView(n,e,t)})},e.prototype._projectionAdd=function(e){ft.distributeView(e,this.projectToSlots,this),this.children.push(e),this.isAttached&&e.attached()},e.prototype._projectionInsert=function(e,t){0===e&&!this.children.length||e>=this.children.length?this.add(t):(ft.distributeView(t,this.projectToSlots,this,e),this.children.splice(e,0,t),this.isAttached&&t.attached())},e.prototype._projectionMove=function(e,t){if(e!==t){var n=this.children,r=n[e];ft.undistributeView(r,this.projectToSlots,this),ft.distributeView(r,this.projectToSlots,this,t),n.splice(e,1),n.splice(t,0,r)}},e.prototype._projectionRemove=function(e,t){ft.undistributeView(e,this.projectToSlots,this),this.children.splice(this.children.indexOf(e),1),this.isAttached&&e.detached()},e.prototype._projectionRemoveAt=function(e,t){var n=this.children[e];ft.undistributeView(n,this.projectToSlots,this),this.children.splice(e,1),this.isAttached&&n.detached()},e.prototype._projectionRemoveMany=function(e,t){var n=this;e.forEach(function(e){return n.remove(e,t)})},e.prototype._projectionRemoveAll=function(e){ft.undistributeAll(this.projectToSlots,this);var t=this.children;if(this.isAttached)for(var n=0,r=t.length;n<r;++n)t[n].detached();this.children=[]},e}(),vt=(0,a.resolver)(Oe=function(){function e(){}return e.prototype.get=function(e,t){var n=t.__providerId__;return n in e?e[n]:e[n]=e.invoke(t)},e}())||Oe,gt=new vt,mt=e.BoundViewFactory=function(){function e(e,t,n){this.parentContainer=e,this.viewFactory=t,this.factoryCreateInstruction={partReplacements:n}}return e.prototype.create=function(){var e=this.viewFactory.create(this.parentContainer.createChild(),this.factoryCreateInstruction);return e._isUserControlled=!0,e},e.prototype.setCacheSize=function(e,t){this.viewFactory.setCacheSize(e,t)},e.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},e.prototype.returnViewToCache=function(e){this.viewFactory.returnViewToCache(e)},Fe(e,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),e}(),yt=e.ViewFactory=function(){function e(e,t,n){this.isCaching=!1,this.template=e,this.instructions=t,this.resources=n,this.cacheSize=-1,this.cache=null}return e.prototype.setCacheSize=function(e,t){e&&("*"===e?e=Number.MAX_VALUE:"string"==typeof e&&(e=parseInt(e,10))),-1!==this.cacheSize&&t||(this.cacheSize=e),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0},e.prototype.getCachedView=function(){return null!==this.cache?this.cache.pop()||null:null},e.prototype.returnViewToCache=function(e){e.isAttached&&e.detached(),e.isBound&&e.unbind(),null!==this.cache&&this.cache.length<this.cacheSize&&(e.fromCache=!0,this.cache.push(e))},e.prototype.create=function(e,t,n){t=t||$e.normal;var r=this.getCachedView();if(null!==r)return r;var i=t.enhance?this.template:this.template.cloneNode(!0),o=i.querySelectorAll(".au-target"),a=this.instructions,s=this.resources,u=[],l=[],c=[],f=Object.create(null),h={root:e},d=t.partReplacements,p=void 0,v=void 0,g=void 0,m=void 0,y=void 0;for(this.resources._invokeHook("beforeCreate",this,e,i,t),n&&null!==this.surrogateInstruction&&O(e,n,this.surrogateInstruction,u,l,c),t.enhance&&i.hasAttribute("au-target-id")&&(m=i,y=a[m.getAttribute("au-target-id")],_(h,m,y,u,l,c,f,d,s)),p=0,v=o.length;p<v;++p)m=o[p],y=a[m.getAttribute("au-target-id")],_(h,m,y,u,l,c,f,d,s);return g=new dt(e,this,i,u,l,c,f),t.initiatedByBehavior||g.created(),this.resources._invokeHook("afterCreate",g),g},e}(),bt=0,wt=0,xt=e.ViewCompiler=(Te=(0,a.inject)(at,ht))(Ce=function(){function e(e,t){this.bindingLanguage=e,this.resources=t}return e.prototype.compile=function(e,t,n){t=t||this.resources,n=n||Ke.normal,e="string"==typeof e?r.DOM.createTemplateFromMarkup(e):e;var i=void 0,o=void 0,a=void 0;e.content?(o=e.getAttribute("part"),a=e.getAttribute("view-cache"),i=r.DOM.adoptNode(e.content)):i=e,n.targetShadowDOM=n.targetShadowDOM&&r.FEATURE.shadowDOM,t._invokeHook("beforeCompile",i,t,n);var s={};this._compileNode(i,t,s,e,"root",!n.targetShadowDOM);var u=i.firstChild;if(u&&1===u.nodeType){var l=u.getAttribute("au-target-id");if(l){var c=s[l];(c.shadowSlot||c.lifting||c.elementInstruction&&!c.elementInstruction.anchorIsContainer)&&i.insertBefore(r.DOM.createComment("view"),u)}}var f=new yt(i,s,t);return f.surrogateInstruction=n.compileSurrogate?this._compileSurrogate(e,t):null,f.part=o,a&&f.setCacheSize(a),t._invokeHook("afterCompile",f),f},e.prototype._compileNode=function(e,t,n,i,o,a){switch(e.nodeType){case 1:return this._compileElement(e,t,n,i,o,a);case 3:var s=t.getBindingLanguage(this.bindingLanguage).inspectTextContent(t,e.wholeText);if(s){var u=r.DOM.createElement("au-marker"),l=E(u);for((e.parentNode||i).insertBefore(u,e),e.textContent=" ",n[l]=Qe.contentExpression(s);e.nextSibling&&3===e.nextSibling.nodeType;)(e.parentNode||i).removeChild(e.nextSibling)}else for(;e.nextSibling&&3===e.nextSibling.nodeType;)e=e.nextSibling;return e.nextSibling;case 11:for(var c=e.firstChild;c;)c=this._compileNode(c,t,n,e,o,a)}return e.nextSibling},e.prototype._compileSurrogate=function(e,t){var n=e.tagName.toLowerCase(),r=e.attributes,i=t.getBindingLanguage(this.bindingLanguage),o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,h=void 0,d=void 0,p=void 0,v=[],g=void 0,m=[],y={},b=!1,w=[];for(u=0,l=r.length;u<l;++u){if(c=r[u],f=c.name,h=c.value,d=i.inspectAttribute(t,n,f,h),(p=t.getAttribute(d.attrName))&&(o=t.mapAttribute(d.attrName))&&(a=p.attributes[o])&&(d.defaultBindingMode=a.defaultBindingMode,d.command||d.expression||(d.command=a.hasOptions?"options":null),d.command&&"options"!==d.command&&p.primaryProperty)){var x=p.primaryProperty;f=d.attrName=x.attribute,d.defaultBindingMode=x.defaultBindingMode}if(s=i.createAttributeInstruction(t,e,d,void 0,p))if(s.alteredAttr&&(p=t.getAttribute(s.attrName)),s.discrete)v.push(s);else if(p){
if(s.type=p,this._configureProperties(s,t),p.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");m.push(s)}else v.push(s.attributes[s.attrName]);else if(p){if(s=$e.attribute(f,p),s.attributes[t.mapAttribute(f)]=h,p.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");m.push(s)}else"id"!==f&&"part"!==f&&"replace-part"!==f&&(b=!0,y[f]=h)}if(v.length||m.length||b){for(u=0,l=m.length;u<l;++u)s=m[u],s.type.compile(this,t,e,s),w.push(s.type.target);for(u=0,l=v.length;u<l;++u)g=v[u],void 0!==g.attrToRemove&&e.removeAttribute(g.attrToRemove);return Qe.surrogate(w,m,v,y)}return null},e.prototype._compileElement=function(e,t,n,r,i,o){var a=e.tagName.toLowerCase(),s=e.attributes,u=[],l=void 0,c=[],f=[],h=t.getBindingLanguage(this.bindingLanguage),d=void 0,p=void 0,v=void 0,g=void 0,m=void 0,y=void 0,b=void 0,w=void 0,x=void 0,_=void 0,k=void 0,S=void 0,O=void 0,C=void 0,M=void 0,A=void 0,j=void 0;if("slot"===a)return o&&(e=P(this,t,e,n,i)),e.nextSibling;if("template"===a){if(!("content"in e))throw new Error("You cannot place a template element within "+e.namespaceURI+" namespace");p=this.compile(e,t),p.part=e.getAttribute("part")}else(v=t.getElement(e.getAttribute("as-element")||a))&&(g=$e.element(e,v),v.processAttributes(this,t,e,s,g),c.push(g));for(y=0,b=s.length;y<b;++y){if(w=s[y],k=x=w.name,_=w.value,O=h.inspectAttribute(t,a,x,_),o&&"slot"===O.attrName&&(O.attrName=x="au-slot"),v=t.getAttribute(O.attrName),m=null,v){if((M=t.mapAttribute(O.attrName))&&(C=v.attributes[M])&&(O.defaultBindingMode=C.defaultBindingMode,O.command||O.expression||(O.command=C.hasOptions?"options":null),O.command&&"options"!==O.command&&v.primaryProperty)){var R=v.primaryProperty;x=O.attrName=R.attribute,O.defaultBindingMode=R.defaultBindingMode}}else g&&(m=g.type.attributes[O.attrName])&&(O.defaultBindingMode=m.defaultBindingMode);if(S=m?h.createAttributeInstruction(t,e,O,g):h.createAttributeInstruction(t,e,O,void 0,v))if(S.alteredAttr&&(v=t.getAttribute(S.attrName)),S.discrete)u.push(S);else if(v){if(S.type=v,this._configureProperties(S,t),v.liftsContent){S.originalAttrName=k,d=S;break}c.push(S)}else m?g.attributes[O.attrName].targetProperty=m.name:u.push(S.attributes[S.attrName]);else if(v){if(S=$e.attribute(x,v),S.attributes[t.mapAttribute(x)]=_,v.liftsContent){S.originalAttrName=k,d=S;break}c.push(S)}else m&&(g.attributes[x]=_)}if(d)d.viewFactory=p,e=d.type.compile(this,t,e,d,r),A=E(e),n[A]=Qe.lifting(i,d);else{var I=!1;if(u.length||c.length){for(j=!!c.length&&T(),y=0,b=c.length;y<b;++y)S=c[y],S.type.compile(this,t,e,S,r),f.push(S.type.target),I=I||S.skipContentProcessing;for(y=0,b=u.length;y<b;++y)l=u[y],void 0!==l.attrToRemove&&e.removeAttribute(l.attrToRemove);A=E(e),n[A]=Qe.normal(j,i,f,c,u,g)}if(I)return e.nextSibling;for(var L=e.firstChild;L;)L=this._compileNode(L,t,n,e,j||i,o)}return e.nextSibling},e.prototype._configureProperties=function(e,t){var n=e.type,r=e.attrName,i=e.attributes,o=void 0,a=void 0,s=void 0,u=t.mapAttribute(r);u&&r in i&&u!==r&&(i[u]=i[r],delete i[r]);for(a in i)null!==(s=i[a])&&"object"===(void 0===s?"undefined":Ve(s))&&(o=n.attributes[a],s.targetProperty=void 0!==o?o.name:a)},e}())||Ce,_t=e.ResourceModule=function(){function e(e){this.id=e,this.moduleInstance=null,this.mainResource=null,this.resources=null,this.viewStrategy=null,this.isInitialized=!1,this.onLoaded=null,this.loadContext=null}return e.prototype.initialize=function(e){var t=this.mainResource,n=this.resources,r=this.viewStrategy;if(!this.isInitialized){this.isInitialized=!0,void 0!==t&&(t.metadata.viewStrategy=r,t.initialize(e));for(var i=0,o=n.length;i<o;++i)t=n[i],t.metadata.viewStrategy=r,t.initialize(e)}},e.prototype.register=function(e,t){var n=this.mainResource,r=this.resources;void 0!==n&&(n.register(e,t),t=null);for(var i=0,o=r.length;i<o;++i)r[i].register(e,t),t=null},e.prototype.load=function(e,t){if(null!==this.onLoaded)return this.loadContext===t?Promise.resolve():this.onLoaded;var n=this.mainResource,r=this.resources,i=void 0;if(void 0!==n){i=new Array(r.length+1),i[0]=n.load(e,t);for(var o=0,a=r.length;o<a;++o)i[o+1]=r[o].load(e,t)}else{i=new Array(r.length);for(var s=0,u=r.length;s<u;++s)i[s]=r[s].load(e,t)}return this.loadContext=t,this.onLoaded=Promise.all(i),this.onLoaded},e}(),kt=e.ResourceDescription=function(){function e(e,t,r){r||(r=n.metadata.get(n.metadata.resource,t))||(r=new Rt,r.elementName=c(e),n.metadata.define(n.metadata.resource,r,t)),r instanceof Rt?void 0===r.elementName?r.elementName=c(e):void 0===r.attributeName?r.attributeName=c(e):null===r.attributeName&&null===r.elementName&&Rt.convention(e,r):r.name||(r.name=c(e)),this.metadata=r,this.value=t}return e.prototype.initialize=function(e){this.metadata.initialize(e,this.value)},e.prototype.register=function(e,t){this.metadata.register(e,t)},e.prototype.load=function(e,t){return this.metadata.load(e,this.value,t)},e}(),St=e.ModuleAnalyzer=function(){function e(){this.cache=Object.create(null)}return e.prototype.getAnalysis=function(e){return this.cache[e]},e.prototype.analyze=function(e,t,r){var i=void 0,a=void 0,u=void 0,l=void 0,f=void 0,h=void 0,d=[],p=void 0,v=void 0,g=void 0;if(g=this.cache[e])return g;g=new _t(e),this.cache[e]=g,"function"==typeof t&&(t={default:t}),r&&(i=new kt(r,t[r]));for(f in t)h=t[f],f!==r&&"function"==typeof h&&(l=n.metadata.get(n.metadata.resource,h),l?(null===l.attributeName&&null===l.elementName&&Rt.convention(f,l),null===l.attributeName&&null===l.elementName&&(l.elementName=c(f)),!i&&l instanceof Rt&&null!==l.elementName?i=new kt(f,h,l):d.push(new kt(f,h,l))):Je.decorates(h)?v=h:h instanceof o.TemplateRegistryEntry?v=new rt(e,h):(p=Rt.convention(f))?(null===p.elementName||i?d.push(new kt(f,h,p)):i=new kt(f,h,p),n.metadata.define(n.metadata.resource,p,h)):(p=s.ValueConverterResource.convention(f)||s.BindingBehaviorResource.convention(f)||Ge.convention(f))?(d.push(new kt(f,h,p)),n.metadata.define(n.metadata.resource,p,h)):a||(a=h,u=f));return!i&&a&&(i=new kt(u,a)),g.moduleInstance=t,g.mainResource=i,g.resources=d,g.viewStrategy=v,g},e}(),Ot=Be.getLogger("templating"),Tt=function(){function e(e){var t=this;e.then(function(e){return t.viewFactory=e})}return e.prototype.create=function(e,t,n,r){return this.viewFactory.create(e,t,n,r)},e.prototype.setCacheSize=function(e,t){this.viewFactory.setCacheSize(e,t)},e.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},e.prototype.returnViewToCache=function(e){this.viewFactory.returnViewToCache(e)},Fe(e,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),e}(),Ct=null,Et=e.ViewEngine=(Ee=(0,a.inject)(o.Loader,a.Container,xt,St,ht))((Ae=Me=function(){function e(e,t,r,i,o){this.loader=e,this.container=t,this.viewCompiler=r,this.moduleAnalyzer=i,this.appResources=o,this._pluginMap={},null===Ct&&(Ct=new Rt,Ct.attributeName="au-slot",n.metadata.define(n.metadata.resource,Ct,ut)),Ct.initialize(t,ut),Ct.register(o)}return e.prototype.addResourcePlugin=function(e,t){var n=e.replace(".","")+"-resource-plugin";this._pluginMap[e]=n,this.loader.addPlugin(n,t)},e.prototype.loadViewFactory=function(e,t,n,r){var i=this;return n=n||new Ze,M(this.loader,e).then(function(e){var o=e.address;return e.onReady?n.hasDependency(o)?null===e.template?e.onReady:Promise.resolve(new Tt(e.onReady)):(n.addDependency(o),e.onReady):(n.addDependency(o),e.onReady=i.loadTemplateResources(e,t,n,r).then(function(n){if(e.resources=n,null===e.template)return e.factory=null;var r=i.viewCompiler.compile(e.template,n,t);return e.factory=r}),e.onReady)})},e.prototype.loadTemplateResources=function(t,r,o,a){var s=new ht(this.appResources,t.address),u=t.dependencies,l=void 0,c=void 0;if(r=r||Ke.normal,0===u.length&&!r.associatedModuleId)return Promise.resolve(s);if(l=u.map(function(e){return e.src}),c=u.map(function(e){return e.name}),Ot.debug("importing resources for "+t.address,l),a){var f=n.metadata.get(e.viewModelRequireMetadataKey,a);if(f){for(var h=l.length,d=0,p=f.length;d<p;++d){var v=f[d],g="function"==typeof v?n.Origin.get(v).moduleId:(0,i.relativeToFile)(v.src||v,t.address);-1===l.indexOf(g)&&(l.push(g),c.push(v.as))}Ot.debug("importing ViewModel resources for "+r.associatedModuleId,l.slice(h))}}return this.importViewResources(l,c,s,r,o)},e.prototype.importViewModelResource=function(e,t){var r=this;return this.loader.loadModule(e).then(function(i){var o=n.Origin.get(i).moduleId,a=r.moduleAnalyzer.analyze(o,i,t);if(!a.mainResource)throw new Error('No view model found in module "'+e+'".');return a.initialize(r.container),a.mainResource})},e.prototype.importViewResources=function(e,t,r,i,o){var a=this;return o=o||new Ze,i=i||Ke.normal,e=e.map(function(e){return a._applyLoaderPlugin(e)}),this.loader.loadAllModules(e).then(function(e){var s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,h=void 0,d=a.container,p=a.moduleAnalyzer,v=new Array(e.length);for(s=0,u=e.length;s<u;++s)f=e[s],c=n.Origin.get(f).moduleId,l=p.analyze(c,f),l.initialize(d),l.register(r,t[s]),v[s]=l;for(i.associatedModuleId&&(h=p.getAnalysis(i.associatedModuleId))&&h.register(r),s=0,u=v.length;s<u;++s)v[s]=v[s].load(d,o);return Promise.all(v).then(function(){return r})})},e.prototype._applyLoaderPlugin=function(e){var t=e.lastIndexOf(".");if(-1!==t){var n=e.substring(t),r=this._pluginMap[n];return void 0===r?e:this.loader.applyPluginToUrl(e,r)}return e},e}(),Me.viewModelRequireMetadataKey="aurelia:view-model-require",Pe=Ae))||Pe,Pt=e.Controller=function(){function e(e,t,n,r){this.behavior=e,this.instruction=t,this.viewModel=n,this.isAttached=!1,this.view=null,this.isBound=!1,this.scope=null,this.container=r,this.elementEvents=r.elementEvents||null;var i=e.observerLocator.getOrCreateObserversLookup(n),o=e.handlesBind,a=t.attributes,s=this.boundProperties=[],u=e.properties,l=void 0,c=void 0;for(e._ensurePropertiesDefined(n,i),l=0,c=u.length;l<c;++l)u[l]._initialize(n,i,a,o,s)}return e.prototype.created=function(e){this.behavior.handlesCreated&&this.viewModel.created(e,this.view)},e.prototype.automate=function(e,t){this.view.bindingContext=this.viewModel,this.view.overrideContext=e||(0,s.createOverrideContext)(this.viewModel),this.view._isUserControlled=!0,this.behavior.handlesCreated&&this.viewModel.created(t||null,this.view),this.bind(this.view)},e.prototype.bind=function(e){var t=this.behavior.handlesBind,n=this.boundProperties,r=void 0,i=void 0,o=void 0,a=void 0,u=void 0;if(this.isBound){if(this.scope===e)return;this.unbind()}for(this.isBound=!0,this.scope=e,r=0,i=n.length;r<i;++r)o=n[r],a=o.observer,u=a.selfSubscriber,a.publishing=!1,t&&(a.selfSubscriber=null),o.binding.bind(e),a.call(),a.publishing=!0,a.selfSubscriber=u;var l=void 0;null!==this.view?(t&&(this.view.viewModelScope=e),this.viewModel===e.overrideContext.bindingContext?l=e.overrideContext:this.instruction.inheritBindingContext?l=(0,s.createOverrideContext)(this.viewModel,e.overrideContext):(l=(0,s.createOverrideContext)(this.viewModel),l.__parentOverrideContext=e.overrideContext),this.view.bind(this.viewModel,l)):t&&(l=e.overrideContext,void 0!==e.overrideContext.__parentOverrideContext&&this.viewModel.viewFactory&&this.viewModel.viewFactory.factoryCreateInstruction.partReplacements&&(l=Object.assign({},e.overrideContext),l.parentOverrideContext=e.overrideContext.__parentOverrideContext),this.viewModel.bind(e.bindingContext,l))},e.prototype.unbind=function(){if(this.isBound){var e=this.boundProperties,t=void 0,n=void 0;for(this.isBound=!1,this.scope=null,null!==this.view&&this.view.unbind(),this.behavior.handlesUnbind&&this.viewModel.unbind(),null!==this.elementEvents&&this.elementEvents.disposeAll(),t=0,n=e.length;t<n;++t)e[t].binding.unbind()}},e.prototype.attached=function(){this.isAttached||(this.isAttached=!0,this.behavior.handlesAttached&&this.viewModel.attached(),null!==this.view&&this.view.attached())},e.prototype.detached=function(){this.isAttached&&(this.isAttached=!1,null!==this.view&&this.view.detached(),this.behavior.handlesDetached&&this.viewModel.detached())},e}(),Mt=e.BehaviorPropertyObserver=(je=(0,s.subscriberCollection)())(Re=function(){function e(e,t,n,r,i){this.taskQueue=e,this.obj=t,this.propertyName=n,this.notqueued=!0,this.publishing=!1,this.selfSubscriber=r,this.currentValue=this.oldValue=i}return e.prototype.getValue=function(){return this.currentValue},e.prototype.setValue=function(e){var t=this.currentValue;t!==e&&(this.oldValue=t,this.currentValue=e,this.publishing&&this.notqueued&&(this.taskQueue.flushing?this.call():(this.notqueued=!1,this.taskQueue.queueMicroTask(this))))},e.prototype.call=function(){var e=this.oldValue,t=this.currentValue;this.notqueued=!0,t!==e&&(this.selfSubscriber&&this.selfSubscriber(t,e),this.callSubscribers(t,e),this.oldValue=t)},e.prototype.subscribe=function(e,t){this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)},e}())||Re,At=e.BindableProperty=function(){function e(e){"string"==typeof e?this.name=e:Object.assign(this,e),this.attribute=this.attribute||c(this.name),null!==this.defaultBindingMode&&void 0!==this.defaultBindingMode||(this.defaultBindingMode=s.bindingMode.oneWay),this.changeHandler=this.changeHandler||null,this.owner=null,this.descriptor=null}return e.prototype.registerWith=function(e,t,n){if(t.properties.push(this),t.attributes[this.attribute]=this,this.owner=t,n)return this.descriptor=n,this._configureDescriptor(n)},e.prototype._configureDescriptor=function(e){var t=this.name;return e.configurable=!0,e.enumerable=!0,"initializer"in e&&(this.defaultValue=e.initializer,delete e.initializer,delete e.writable),"value"in e&&(this.defaultValue=e.value,delete e.value,delete e.writable),e.get=function(){return A(this,t).getValue()},e.set=function(e){A(this,t).setValue(e)},e.get.getObserver=function(e){return A(e,t)},e},e.prototype.defineOn=function(e,t){var n=this.name,r=void 0;null===this.changeHandler&&(r=n+"Changed")in e.prototype&&(this.changeHandler=r),null===this.descriptor&&Object.defineProperty(e.prototype,n,this._configureDescriptor(t,{}))},e.prototype.createObserver=function(e){var t=null,n=this.defaultValue,r=this.changeHandler,i=this.name,o=void 0;if(!this.hasOptions){if(r in e)t="propertyChanged"in e?function(t,n){e[r](t,n),e.propertyChanged(i,t,n)}:function(t,n){return e[r](t,n)};else if("propertyChanged"in e)t=function(t,n){return e.propertyChanged(i,t,n)};else if(null!==r)throw new Error("Change handler "+r+" was specified but not declared on the class.");return void 0!==n&&(o="function"==typeof n?n.call(e):n),new Mt(this.owner.taskQueue,e,this.name,t,o)}},e.prototype._initialize=function(e,t,n,r,i){var o=void 0,a=void 0,s=void 0,u=this.defaultValue;if(this.isDynamic)for(var l in n)this._createDynamicProperty(e,t,r,l,n[l],i);else this.hasOptions||(a=t[this.name],null!==n&&(o=a.selfSubscriber,s=n[this.attribute],r&&(a.selfSubscriber=null),"string"==typeof s?(e[this.name]=s,a.call()):s?i.push({observer:a,binding:s.createBinding(e)}):void 0!==u&&a.call(),a.selfSubscriber=o),a.publishing=!0)},e.prototype._createDynamicProperty=function(e,t,n,r,i,o){var a=r+"Changed",s=null,u=void 0,l=void 0;a in e?s="propertyChanged"in e?function(t,n){e[a](t,n),e.propertyChanged(r,t,n)}:function(t,n){return e[a](t,n)}:"propertyChanged"in e&&(s=function(t,n){return e.propertyChanged(r,t,n)}),u=t[r]=new Mt(this.owner.taskQueue,e,r,s),Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:u.getValue.bind(u),set:u.setValue.bind(u)}),n&&(u.selfSubscriber=null),"string"==typeof i?(e[r]=i,u.call()):i&&(l={observer:u,binding:i.createBinding(e)},o.push(l)),u.publishing=!0,u.selfSubscriber=s},e}(),jt=0,Rt=e.HtmlBehaviorResource=function(){function e(){this.elementName=null,this.attributeName=null,this.attributeDefaultBindingMode=void 0,this.liftsContent=!1,this.targetShadowDOM=!1,this.shadowDOMOptions=null,this.processAttributes=I,this.processContent=R,this.usesShadowDOM=!1,this.childBindings=null,this.hasDynamicOptions=!1,this.containerless=!1,this.properties=[],this.attributes={},this.isInitialized=!1,this.primaryProperty=null}return e.convention=function(t,n){var r=void 0;return t.endsWith("CustomAttribute")&&(r=n||new e,r.attributeName=c(t.substring(0,t.length-15))),t.endsWith("CustomElement")&&(r=n||new e,r.elementName=c(t.substring(0,t.length-13))),r},e.prototype.addChildBinding=function(e){null===this.childBindings&&(this.childBindings=[]),this.childBindings.push(e)},e.prototype.initialize=function(e,t){var n=t.prototype,i=this.properties,o=this.attributeName,a=this.attributeDefaultBindingMode,l=void 0,c=void 0,f=void 0;if(!this.isInitialized)if(this.isInitialized=!0,t.__providerId__=j(),this.observerLocator=e.get(s.ObserverLocator),this.taskQueue=e.get(u.TaskQueue),this.target=t,this.usesShadowDOM=this.targetShadowDOM&&r.FEATURE.shadowDOM,this.handlesCreated="created"in n,this.handlesBind="bind"in n,this.handlesUnbind="unbind"in n,this.handlesAttached="attached"in n,this.handlesDetached="detached"in n,this.htmlName=this.elementName||this.attributeName,null!==o)if(0===i.length&&new At({name:"value",changeHandler:"valueChanged"in n?"valueChanged":null,attribute:o,defaultBindingMode:a}).registerWith(t,this),f=i[0],1===i.length&&"value"===f.name)f.isDynamic=f.hasOptions=this.hasDynamicOptions,f.defineOn(t,this);else{for(l=0,c=i.length;l<c;++l)if(i[l].defineOn(t,this),i[l].primaryProperty){if(this.primaryProperty)throw new Error("Only one bindable property on a custom element can be defined as the default");this.primaryProperty=i[l]}f=new At({name:"value",changeHandler:"valueChanged"in n?"valueChanged":null,attribute:o,defaultBindingMode:a}),f.hasOptions=!0,f.registerWith(t,this)}else{for(l=0,c=i.length;l<c;++l)i[l].defineOn(t,this);this._copyInheritedProperties(e,t)}},e.prototype.register=function(e,t){var n=this;null!==this.attributeName&&(e.registerAttribute(t||this.attributeName,this,this.attributeName),Array.isArray(this.aliases)&&this.aliases.forEach(function(t){e.registerAttribute(t,n,n.attributeName)})),null!==this.elementName&&e.registerElement(t||this.elementName,this)},e.prototype.load=function(e,t,r,i,o){var a=this,s=void 0;return null!==this.elementName?(i=e.get(ot).getViewStrategy(i||this.viewStrategy||t),s=new Ke(this.targetShadowDOM,!0),i.moduleId||(i.moduleId=n.Origin.get(t).moduleId),i.loadViewFactory(e.get(Et),s,r,t).then(function(e){return o&&a.viewFactory||(a.viewFactory=e),e})):Promise.resolve(this)},e.prototype.compile=function(e,t,n,i,o){if(this.liftsContent){if(!i.viewFactory){var a=r.DOM.createElement("template"),s=r.DOM.createDocumentFragment(),u=n.getAttribute("view-cache"),l=n.getAttribute("part");n.removeAttribute(i.originalAttrName),r.DOM.replaceNode(a,n,o),s.appendChild(n),i.viewFactory=e.compile(s,t),l&&(i.viewFactory.part=l,n.removeAttribute("part")),u&&(i.viewFactory.setCacheSize(u),n.removeAttribute("view-cache")),n=a}}else if(null!==this.elementName){var c={};if(this.processContent(e,t,n,i)&&n.hasChildNodes()){for(var h=n.firstChild,d=this.usesShadowDOM?null:r.DOM.createElement("au-content"),p=void 0,v=void 0;h;)p=h.nextSibling,"TEMPLATE"===h.tagName&&(v=h.getAttribute("replace-part"))?(c[v]=e.compile(h,t),r.DOM.removeNode(h,o),i.partReplacements=c):null!==d&&(3===h.nodeType&&f(h)?r.DOM.removeNode(h,o):d.appendChild(h)),h=p;null!==d&&d.hasChildNodes()&&n.appendChild(d),i.skipContentProcessing=!1}else i.skipContentProcessing=!0}else this.processContent(e,t,n,i)||(i.skipContentProcessing=!0);return n},e.prototype.create=function(e,t,n,i){var o=void 0,a=null;t=t||$e.normal,n=n||null,i=i||null,null!==this.elementName&&n&&(this.usesShadowDOM?(o=n.attachShadow(this.shadowDOMOptions),e.registerInstance(r.DOM.boundary,o)):(o=n,this.targetShadowDOM&&e.registerInstance(r.DOM.boundary,o))),null!==n&&(n.au=a=n.au||{});var s=t.viewModel||e.get(this.target),u=new Pt(this,t,s,e),l=this.childBindings,c=void 0;if(this.liftsContent)a.controller=u;else if(null!==this.elementName){if(c=t.viewFactory||this.viewFactory,e.viewModel=s,c&&(u.view=c.create(e,t,n)),null!==n){if(a.controller=u,u.view){if(!this.usesShadowDOM&&(1===n.childNodes.length||n.contentElement)){var f=n.childNodes[0]||n.contentElement;u.view.contentView={fragment:f},f.parentNode&&r.DOM.removeNode(f)}if(t.anchorIsContainer){if(null!==l)for(var h=0,d=l.length;h<d;++h)u.view.addBinding(l[h].create(n,s,u));u.view.appendNodesTo(o)}else u.view.insertNodesBefore(o)}else if(null!==l)for(var p=0,v=l.length;p<v;++p)i.push(l[p].create(n,s,u))}else if(u.view){if(u.view.controller=u,null!==l)for(var g=0,m=l.length;g<m;++g)u.view.addBinding(l[g].create(t.host,s,u))}else if(null!==l)for(var y=0,b=l.length;y<b;++y)i.push(l[y].create(t.host,s,u))}else if(null!==l)for(var w=0,x=l.length;w<x;++w)i.push(l[w].create(n,s,u));return null!==a&&(a[this.htmlName]=u),t.initiatedByBehavior&&c&&u.view.created(),u},e.prototype._ensurePropertiesDefined=function(e,t){var n=void 0,r=void 0,i=void 0,o=void 0;if(!("__propertiesDefined__"in t))for(t.__propertiesDefined__=!0,n=this.properties,r=0,i=n.length;r<i;++r)void 0!==(o=n[r].createObserver(e))&&(t[o.propertyName]=o)},e.prototype._copyInheritedProperties=function(e,t){for(var r=this,i=void 0,o=t;;){var a=Object.getPrototypeOf(t.prototype);if(!(t=a&&a.constructor))return;if(i=n.metadata.getOwn(n.metadata.resource,t))break}i.initialize(e,t);for(var s=0,u=i.properties.length;s<u;++s){(function(e,t){var n=i.properties[e];if(r.properties.some(function(e){return e.name===n.name}))return"continue";new At(n).registerWith(o,r)})(s)}},e}(),It=function(){function e(e){this.name=e.name,this.changeHandler=e.changeHandler||this.name+"Changed",this.selector=e.selector,this.all=e.all}return e.prototype.create=function(e,t,n){return new Dt(this.selector,e,this.name,t,n,this.changeHandler,this.all)},e}(),Lt=[],Dt=function(){function e(e,t,n,r,i,o,a){this.selector=e,this.viewHost=t,this.property=n,this.viewModel=r,this.controller=i,this.changeHandler=o in r?o:null,this.usesShadowDOM=i.behavior.usesShadowDOM,this.all=a,!this.usesShadowDOM&&i.view&&i.view.contentView?this.contentView=i.view.contentView:this.contentView=null}return e.prototype.matches=function(e){if(e.matches(this.selector)){if(null===this.contentView)return!0;var t=this.contentView,n=e.auAssignedSlot;if(n&&n.projectFromAnchors){for(var r=n.projectFromAnchors,i=0,o=r.length;i<o;++i)if(r[i].auOwnerView===t)return!0;return!1}return e.auOwnerView===t}return!1},e.prototype.bind=function(e){var t=this.viewHost,n=this.viewModel,i=t.__childObserver__;if(!i){i=t.__childObserver__=r.DOM.createMutationObserver(F);var o={childList:!0,subtree:!this.usesShadowDOM};i.observe(t,o),i.binders=[]}if(i.binders.push(this),this.usesShadowDOM){var a=t.firstElementChild;if(this.all){var s=n[this.property];for(s?s.length=0:s=n[this.property]=[];a;)this.matches(a)&&s.push(a.au&&a.au.controller?a.au.controller.viewModel:a),a=a.nextElementSibling;null!==this.changeHandler&&this.viewModel[this.changeHandler](Lt)}else for(;a;){if(this.matches(a)){var u=a.au&&a.au.controller?a.au.controller.viewModel:a;this.viewModel[this.property]=u,null!==this.changeHandler&&this.viewModel[this.changeHandler](u);break}a=a.nextElementSibling}}},e.prototype.onRemove=function(e){if(this.matches(e)){var t=e.au&&e.au.controller?e.au.controller.viewModel:e;if(this.all){var n=this.viewModel[this.property]||(this.viewModel[this.property]=[]),r=n.indexOf(t);return-1!==r&&n.splice(r,1),!0}return!1}return!1},e.prototype.onAdd=function(e){if(this.matches(e)){var t=e.au&&e.au.controller?e.au.controller.viewModel:e;if(this.all){var n=this.viewModel[this.property]||(this.viewModel[this.property]=[]);if("*"===this.selector)return n.push(t),!0;for(var r=0,i=e.previousElementSibling;i;)this.matches(i)&&r++,i=i.previousElementSibling;return n.splice(r,0,t),!0}this.viewModel[this.property]=t,null!==this.changeHandler&&this.viewModel[this.changeHandler](t)}return!1},e.prototype.unbind=function(){this.viewHost.__childObserver__&&(this.viewHost.__childObserver__.disconnect(),this.viewHost.__childObserver__=null)},e}(),Nt=e.SwapStrategies={before:function(e,t,n){return void 0===t?n():n().then(function(){return V(e,t)})},with:function(e,t,n){return void 0===t?n():Promise.all([V(e,t),n()])},after:function(e,t,n){return Promise.resolve(e.removeAll(!0)).then(n)}},Bt=e.CompositionEngine=(Ie=(0,a.inject)(Et,ot))(Le=function(){function e(e,t){this.viewEngine=e,this.viewLocator=t}return e.prototype._swap=function(e,t){var n=Nt[e.swapOrder]||Nt.after,r=e.viewSlot.children.slice();return n(e.viewSlot,r,function(){return Promise.resolve(e.viewSlot.add(t)).then(function(){e.currentController&&e.currentController.unbind()})}).then(function(){e.compositionTransactionNotifier&&e.compositionTransactionNotifier.done()})},e.prototype._createControllerAndSwap=function(e){var t=this;return this.createController(e).then(function(n){return n.automate(e.overrideContext,e.owningView),e.compositionTransactionOwnershipToken?e.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return t._swap(e,n.view)}).then(function(){return n}):t._swap(e,n.view).then(function(){return n})})},e.prototype.createController=function(e){var t=this,n=void 0,r=void 0,i=void 0,o=void 0;return this.ensureViewModel(e).then(z).then(function(){n=e.childContainer,r=e.viewModel,i=e.viewModelResource,o=i.metadata;var a=t.viewLocator.getViewStrategy(e.view||r);return e.viewResources&&a.makeRelativeTo(e.viewResources.viewUrl),o.load(n,i.value,null,a,!0)}).then(function(t){return o.create(n,$e.dynamic(e.host,r,t))})},e.prototype.ensureViewModel=function(e){var t=e.childContainer=e.childContainer||e.container.createChild();if("string"==typeof e.viewModel)return e.viewModel=e.viewResources?e.viewResources.relativeToView(e.viewModel):e.viewModel,this.viewEngine.importViewModelResource(e.viewModel).then(function(n){return t.autoRegister(n.value),e.host&&t.registerInstance(r.DOM.Element,e.host),e.viewModel=t.viewModel=t.get(n.value),e.viewModelResource=n,e});var i=n.metadata.getOrCreateOwn(n.metadata.resource,Rt,e.viewModel.constructor);return i.elementName=i.elementName||"dynamic-element",i.initialize(e.container||t,e.viewModel.constructor),e.viewModelResource={metadata:i,value:e.viewModel.constructor},t.viewModel=e.viewModel,Promise.resolve(e)},e.prototype.compose=function(e){var t=this;e.childContainer=e.childContainer||e.container.createChild(),e.view=this.viewLocator.getViewStrategy(e.view);var n=e.childContainer.get(qe),r=n.tryCapture();return r?e.compositionTransactionOwnershipToken=r:e.compositionTransactionNotifier=n.enlist(),e.viewModel?this._createControllerAndSwap(e):e.view?(e.viewResources&&e.view.makeRelativeTo(e.viewResources.viewUrl),e.view.loadViewFactory(this.viewEngine,new Ke).then(function(n){var r=n.create(e.childContainer);return r.bind(e.bindingContext,e.overrideContext),e.compositionTransactionOwnershipToken?e.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return t._swap(e,r)}).then(function(){return r}):t._swap(e,r).then(function(){return r})})):e.viewSlot?(e.viewSlot.removeAll(),e.compositionTransactionNotifier&&e.compositionTransactionNotifier.done(),Promise.resolve(null)):Promise.resolve(null)},e}())||Le,Ft=e.ElementConfigResource=function(){function e(){}return e.prototype.initialize=function(e,t){},e.prototype.register=function(e,t){},e.prototype.load=function(e,t){var n=new t;e.get(s.EventManager).registerElementConfig(n)},e}(),Vt={mode:"open"};e.TemplatingEngine=(De=(0,a.inject)(a.Container,St,xt,Bt))(Ne=function(){function e(e,t,n,r){this._container=e,this._moduleAnalyzer=t,this._viewCompiler=n,this._compositionEngine=r,e.registerInstance(ze,ze.instance=new ze)}return e.prototype.configureAnimator=function(e){this._container.unregister(ze),this._container.registerInstance(ze,ze.instance=e)},e.prototype.compose=function(e){return this._compositionEngine.compose(e)},e.prototype.enhance=function(e){e instanceof r.DOM.Element&&(e={element:e});var t={},n=e.resources||this._container.get(ht);this._viewCompiler._compileNode(e.element,n,t,e.element.parentNode,"root",!0);var i=new yt(e.element,t,n),o=e.container||this._container.createChild(),a=i.create(o,$e.enhance());return a.bind(e.bindingContext||{},e.overrideContext),a.firstChild=a.lastChild=a.fragment,a.fragment=r.DOM.createDocumentFragment(),a.attached(),a},e}())||Ne}),define("aurelia-templating-resources/compose",["exports","aurelia-dependency-injection","aurelia-logging","aurelia-task-queue","aurelia-templating","aurelia-pal"],function(e,t,n,r,i,o){"use strict";function a(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function s(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function u(e){for(var t in e)return!1;return!0}function l(e,t){if(e&&"function"==typeof e.activate)return Promise.resolve(e.activate(t))}function c(e,t){return Object.assign(t,{bindingContext:e.bindingContext,overrideContext:e.overrideContext,owningView:e.owningView,container:e.container,viewSlot:e.viewSlot,viewResources:e.viewResources,currentController:e.currentController,host:e.element,swapOrder:e.swapOrder})}function f(e){var t=e.changes;if(e.changes=Object.create(null),"view"in t||"viewModel"in t||!("model"in t)){var n={view:e.view,viewModel:e.currentViewModel||e.viewModel,model:e.model};n=Object.assign(n,t),n=c(e,n),e.pendingTask=e.compositionEngine.compose(n).then(function(t){e.currentController=t,e.currentViewModel=t?t.viewModel:null})}else if(e.pendingTask=l(e.currentViewModel,t.model),!e.pendingTask)return;e.pendingTask=e.pendingTask.catch(function(e){_.error(e)}).then(function(){e.pendingTask&&(e.pendingTask=null,u(e.changes)||f(e))})}function h(e){e.pendingTask||e.updateRequested||(e.updateRequested=!0,e.taskQueue.queueMicroTask(function(){e.updateRequested=!1,f(e)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.Compose=void 0;var d,p,v,g,m,y,b,w,x=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n),_=x.getLogger("templating-resources");e.Compose=(d=(0,i.customElement)("compose"),p=(0,t.inject)(o.DOM.Element,t.Container,i.CompositionEngine,i.ViewSlot,i.ViewResources,r.TaskQueue),d(v=(0,i.noView)(v=p((g=function(){function e(e,t,n,r,i,o){a(this,"model",m,this),a(this,"view",y,this),a(this,"viewModel",b,this),a(this,"swapOrder",w,this),this.element=e,this.container=t,this.compositionEngine=n,this.viewSlot=r,this.viewResources=i,this.taskQueue=o,this.currentController=null,this.currentViewModel=null,this.changes=Object.create(null)}return e.prototype.created=function(e){this.owningView=e},e.prototype.bind=function(e,t){this.bindingContext=e,this.overrideContext=t,this.changes.view=this.view,this.changes.viewModel=this.viewModel,this.changes.model=this.model,f(this)},e.prototype.unbind=function(){this.changes=Object.create(null),this.pendingTask=null,this.bindingContext=null,this.overrideContext=null;this.viewSlot.removeAll(!0,!0)},e.prototype.modelChanged=function(e,t){this.changes.model=e,h(this)},e.prototype.viewChanged=function(e,t){this.changes.view=e,h(this)},e.prototype.viewModelChanged=function(e,t){this.changes.viewModel=e,h(this)},e}(),m=s(g.prototype,"model",[i.bindable],{enumerable:!0,initializer:null}),y=s(g.prototype,"view",[i.bindable],{enumerable:!0,initializer:null}),b=s(g.prototype,"viewModel",[i.bindable],{enumerable:!0,initializer:null}),w=s(g.prototype,"swapOrder",[i.bindable],{enumerable:!0,initializer:null}),v=g))||v)||v)||v)}),
define("aurelia-templating-resources/if",["exports","aurelia-templating","aurelia-dependency-injection","./if-core"],function(e,t,n,r){"use strict";function i(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.If=void 0;var u,l,c,f,h,d,p;e.If=(u=(0,t.customAttribute)("if"),l=(0,n.inject)(t.BoundViewFactory,t.ViewSlot),c=(0,t.bindable)({primaryProperty:!0}),u(f=(0,t.templateController)(f=l((h=function(e){function t(){for(var t,n,r,a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return t=n=o(this,e.call.apply(e,[this].concat(s))),i(n,"condition",d,n),i(n,"swapOrder",p,n),r=t,o(n,r)}return a(t,e),t.prototype.bind=function(t,n){e.prototype.bind.call(this,t,n),this.condition?this._show():this._hide()},t.prototype.conditionChanged=function(e){this._update(e)},t.prototype._update=function(e){var t=this;if(!this.animating){var n=void 0;n=this.elseVm?e?this._swap(this.elseVm,this):this._swap(this,this.elseVm):e?this._show():this._hide(),n&&(this.animating=!0,n.then(function(){t.animating=!1,t.condition!==t.showing&&t._update(t.condition)}))}},t.prototype._swap=function(e,t){switch(this.swapOrder){case"before":return Promise.resolve(t._show()).then(function(){return e._hide()});case"with":return Promise.all([e._hide(),t._show()]);default:var n=e._hide();return n?n.then(function(){return t._show()}):t._show()}},t}(r.IfCore),d=s(h.prototype,"condition",[c],{enumerable:!0,initializer:null}),p=s(h.prototype,"swapOrder",[t.bindable],{enumerable:!0,initializer:null}),f=h))||f)||f)||f)}),define("aurelia-templating-resources/if-core",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.IfCore=function(){function e(e,t){this.viewFactory=e,this.viewSlot=t,this.view=null,this.bindingContext=null,this.overrideContext=null,this.showing=!1}return e.prototype.bind=function(e,t){this.bindingContext=e,this.overrideContext=t},e.prototype.unbind=function(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing?(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)):this.view.returnToCache(),this.view=null))},e.prototype._show=function(){return this.showing?void(this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext)):(null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),this.showing=!0,this.viewSlot.add(this.view))},e.prototype._hide=function(){var e=this;if(this.showing){this.showing=!1;var t=this.viewSlot.remove(this.view);if(t instanceof Promise)return t.then(function(){return e.view.unbind()});this.view.unbind()}},e}()}),define("aurelia-templating-resources/else",["exports","aurelia-templating","aurelia-dependency-injection","./if-core"],function(e,t,n,r){"use strict";function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Else=void 0;var a,s,u;e.Else=(a=(0,t.customAttribute)("else"),s=(0,n.inject)(t.BoundViewFactory,t.ViewSlot),a(u=(0,t.templateController)(u=s(u=function(e){function t(t,n){var r=i(this,e.call(this,t,n));return r._registerInIf(),r}return o(t,e),t.prototype.bind=function(t,n){e.prototype.bind.call(this,t,n),this.ifVm.condition?this._hide():this._show()},t.prototype._registerInIf=function(){for(var e=this.viewSlot.anchor.previousSibling;e&&!e.au;)e=e.previousSibling;if(!e||!e.au.if)throw new Error("Can't find matching If for Else custom attribute.");this.ifVm=e.au.if.viewModel,this.ifVm.elseVm=this},t}(r.IfCore))||u)||u)||u)}),define("aurelia-templating-resources/with",["exports","aurelia-dependency-injection","aurelia-templating","aurelia-binding"],function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.With=void 0;var i,o,a;e.With=(i=(0,n.customAttribute)("with"),o=(0,t.inject)(n.BoundViewFactory,n.ViewSlot),i(a=(0,n.templateController)(a=o(a=function(){function e(e,t){this.viewFactory=e,this.viewSlot=t,this.parentOverrideContext=null,this.view=null}return e.prototype.bind=function(e,t){this.parentOverrideContext=t,this.valueChanged(this.value)},e.prototype.valueChanged=function(e){var t=(0,r.createOverrideContext)(e,this.parentOverrideContext);this.view?this.view.bind(e,t):(this.view=this.viewFactory.create(),this.view.bind(e,t),this.viewSlot.add(this.view))},e.prototype.unbind=function(){this.parentOverrideContext=null,this.view&&this.view.unbind()},e}())||a)||a)||a)}),define("aurelia-templating-resources/repeat",["exports","aurelia-dependency-injection","aurelia-binding","aurelia-templating","./repeat-strategy-locator","./repeat-utilities","./analyze-view-factory","./abstract-repeater"],function(e,t,n,r,i,o,a,s){"use strict";function u(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.Repeat=void 0;var h,d,p,v,g,m,y,b;e.Repeat=(h=(0,r.customAttribute)("repeat"),d=(0,t.inject)(r.BoundViewFactory,r.TargetInstruction,r.ViewSlot,r.ViewResources,n.ObserverLocator,i.RepeatStrategyLocator),h(p=(0,r.templateController)(p=d((v=function(e){function t(t,n,r,i,s,c){var f=l(this,e.call(this,{local:"item",viewsRequireLifecycle:(0,a.viewsRequireLifecycle)(t)}));return u(f,"items",g,f),u(f,"local",m,f),u(f,"key",y,f),u(f,"value",b,f),f.viewFactory=t,f.instruction=n,f.viewSlot=r,f.lookupFunctions=i.lookupFunctions,f.observerLocator=s,f.key="key",f.value="value",f.strategyLocator=c,f.ignoreMutation=!1,f.sourceExpression=(0,o.getItemsSourceExpression)(f.instruction,"repeat.for"),f.isOneTime=(0,o.isOneTime)(f.sourceExpression),f.viewsRequireLifecycle=(0,a.viewsRequireLifecycle)(t),f}return c(t,e),t.prototype.call=function(e,t){this[e](this.items,t)},t.prototype.bind=function(e,t){this.scope={bindingContext:e,overrideContext:t},this.matcherBinding=this._captureAndRemoveMatcherBinding(),this.itemsChanged()},t.prototype.unbind=function(){this.scope=null,this.items=null,this.matcherBinding=null,this.viewSlot.removeAll(!0,!0),this._unsubscribeCollection()},t.prototype._unsubscribeCollection=function(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)},t.prototype.itemsChanged=function(){if(this._unsubscribeCollection(),this.scope){var e=this.items;if(this.strategy=this.strategyLocator.getStrategy(e),!this.strategy)throw new Error("Value for '"+this.sourceExpression+"' is non-repeatable");this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.strategy.instanceChanged(this,e)}},t.prototype._getInnerCollection=function(){var e=(0,o.unwrapExpression)(this.sourceExpression);return e?e.evaluate(this.scope,null):null},t.prototype.handleCollectionMutated=function(e,t){this.collectionObserver&&this.strategy.instanceMutated(this,e,t)},t.prototype.handleInnerCollectionMutated=function(e,t){var n=this;if(this.collectionObserver&&!this.ignoreMutation){this.ignoreMutation=!0;var r=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask(function(){return n.ignoreMutation=!1}),r===this.items?this.itemsChanged():this.items=r}},t.prototype._observeInnerCollection=function(){var e=this._getInnerCollection(),t=this.strategyLocator.getStrategy(e);return!!t&&(this.collectionObserver=t.getCollectionObserver(this.observerLocator,e),!!this.collectionObserver&&(this.callContext="handleInnerCollectionMutated",this.collectionObserver.subscribe(this.callContext,this),!0))},t.prototype._observeCollection=function(){var e=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,e),this.collectionObserver&&(this.callContext="handleCollectionMutated",this.collectionObserver.subscribe(this.callContext,this))},t.prototype._captureAndRemoveMatcherBinding=function(){if(this.viewFactory.viewFactory)for(var e=this.viewFactory.viewFactory.instructions,t=Object.keys(e),n=0;n<t.length;n++){var r=e[t[n]].expressions;if(r)for(;n<r.length;n++)if("matcher"===r[0].targetProperty){var i=r[0];return r.splice(0,1),i}}},t.prototype.viewCount=function(){return this.viewSlot.children.length},t.prototype.views=function(){return this.viewSlot.children},t.prototype.view=function(e){return this.viewSlot.children[e]},t.prototype.matcher=function(){return this.matcherBinding?this.matcherBinding.sourceExpression.evaluate(this.scope,this.matcherBinding.lookupFunctions):null},t.prototype.addView=function(e,t){var n=this.viewFactory.create();n.bind(e,t),this.viewSlot.add(n)},t.prototype.insertView=function(e,t,n){var r=this.viewFactory.create();r.bind(t,n),this.viewSlot.insert(e,r)},t.prototype.moveView=function(e,t){this.viewSlot.move(e,t)},t.prototype.removeAllViews=function(e,t){return this.viewSlot.removeAll(e,t)},t.prototype.removeViews=function(e,t,n){return this.viewSlot.removeMany(e,t,n)},t.prototype.removeView=function(e,t,n){return this.viewSlot.removeAt(e,t,n)},t.prototype.updateBindings=function(e){for(var t=e.bindings.length;t--;)(0,o.updateOneTimeBinding)(e.bindings[t]);for(t=e.controllers.length;t--;)for(var n=e.controllers[t].boundProperties.length;n--;){var r=e.controllers[t].boundProperties[n].binding;(0,o.updateOneTimeBinding)(r)}},t}(s.AbstractRepeater),g=f(v.prototype,"items",[r.bindable],{enumerable:!0,initializer:null}),m=f(v.prototype,"local",[r.bindable],{enumerable:!0,initializer:null}),y=f(v.prototype,"key",[r.bindable],{enumerable:!0,initializer:null}),b=f(v.prototype,"value",[r.bindable],{enumerable:!0,initializer:null}),p=v))||p)||p)||p)}),define("aurelia-templating-resources/repeat-strategy-locator",["exports","./null-repeat-strategy","./array-repeat-strategy","./map-repeat-strategy","./set-repeat-strategy","./number-repeat-strategy"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RepeatStrategyLocator=void 0;e.RepeatStrategyLocator=function(){function e(){this.matchers=[],this.strategies=[],this.addStrategy(function(e){return null===e||void 0===e},new t.NullRepeatStrategy),this.addStrategy(function(e){return e instanceof Array},new n.ArrayRepeatStrategy),this.addStrategy(function(e){return e instanceof Map},new r.MapRepeatStrategy),this.addStrategy(function(e){return e instanceof Set},new i.SetRepeatStrategy),this.addStrategy(function(e){return"number"==typeof e},new o.NumberRepeatStrategy)}return e.prototype.addStrategy=function(e,t){this.matchers.push(e),this.strategies.push(t)},e.prototype.getStrategy=function(e){for(var t=this.matchers,n=0,r=t.length;n<r;++n)if(t[n](e))return this.strategies[n];return null},e}()}),define("aurelia-templating-resources/null-repeat-strategy",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.NullRepeatStrategy=function(){function e(){}return e.prototype.instanceChanged=function(e,t){e.removeAllViews(!0)},e.prototype.getCollectionObserver=function(e,t){},e}()}),define("aurelia-templating-resources/array-repeat-strategy",["exports","./repeat-utilities","aurelia-binding"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayRepeatStrategy=void 0;e.ArrayRepeatStrategy=function(){function e(){}return e.prototype.getCollectionObserver=function(e,t){return e.getArrayObserver(t)},e.prototype.instanceChanged=function(e,n){var r=this,i=n.length;if(!n||0===i)return void e.removeAllViews(!0,!e.viewsRequireLifecycle);var o=e.views(),a=o.length;if(0===a)return void this._standardProcessInstanceChanged(e,n);if(e.viewsRequireLifecycle){for(var s=o.slice(0),u=e.local,l=e.matcher(),c=[],f=[],h=0;h<a;h++){var d=s[h],p=d.bindingContext[u];-1===(0,t.indexOf)(n,p,l)?f.push(d):c.push(p)}var v=void 0,g=void 0;c.length>0?(g=e.removeViews(f,!0,!e.viewsRequireLifecycle),v=function(){for(var a=0;a<i;a++){var s=n[a],u=(0,t.indexOf)(c,s,l,a),f=void 0;if(-1===u){var h=(0,t.createFullOverrideContext)(e,n[a],a,i);e.insertView(a,h.bindingContext,h),c.splice(a,0,void 0)}else u===a?(f=o[u],c[u]=void 0):(f=o[u],e.moveView(u,a),c.splice(u,1),c.splice(a,0,void 0));f&&(0,t.updateOverrideContext)(f.overrideContext,a,i)}r._inPlaceProcessItems(e,n)}):(g=e.removeAllViews(!0,!e.viewsRequireLifecycle),v=function(){return r._standardProcessInstanceChanged(e,n)}),g instanceof Promise?g.then(v):v()}else this._inPlaceProcessItems(e,n)},e.prototype._standardProcessInstanceChanged=function(e,n){for(var r=0,i=n.length;r<i;r++){var o=(0,t.createFullOverrideContext)(e,n[r],r,i);e.addView(o.bindingContext,o)}},e.prototype._inPlaceProcessItems=function(e,n){for(var r=n.length,i=e.viewCount();i>r;)i--,e.removeView(i,!0,!e.viewsRequireLifecycle);for(var o=e.local,a=0;a<i;a++){var s=e.view(a),u=a===r-1,l=0!==a&&!u;s.bindingContext[o]===n[a]&&s.overrideContext.$middle===l&&s.overrideContext.$last===u||(s.bindingContext[o]=n[a],s.overrideContext.$middle=l,s.overrideContext.$last=u,e.updateBindings(s))}for(var c=i;c<r;c++){var f=(0,t.createFullOverrideContext)(e,n[c],c,r);e.addView(f.bindingContext,f)}},e.prototype.instanceMutated=function(e,t,r){var i=this;if(e.__queuedSplices){for(var o=0,a=r.length;o<a;++o){var s=r[o],u=s.index,l=s.removed,c=s.addedCount;(0,n.mergeSplice)(e.__queuedSplices,u,l,c)}return void(e.__array=t.slice(0))}var f=this._runSplices(e,t.slice(0),r);if(f instanceof Promise){var h=e.__queuedSplices=[],d=function t(){if(!h.length)return e.__queuedSplices=void 0,void(e.__array=void 0);var n=i._runSplices(e,e.__array,h)||Promise.resolve();h=e.__queuedSplices=[],n.then(t)};f.then(d)}},e.prototype._runSplices=function(e,n,r){for(var i=this,o=0,a=[],s=0,u=r.length;s<u;++s){for(var l=r[s],c=l.removed,f=0,h=c.length;f<h;++f){var d=e.removeView(l.index+o+a.length,!0);d instanceof Promise&&a.push(d)}o-=l.addedCount}if(a.length>0)return Promise.all(a).then(function(){var o=i._handleAddedSplices(e,n,r);(0,t.updateOverrideContexts)(e.views(),o)});var p=this._handleAddedSplices(e,n,r);(0,t.updateOverrideContexts)(e.views(),p)},e.prototype._handleAddedSplices=function(e,n,r){for(var i=void 0,o=void 0,a=n.length,s=0,u=r.length;s<u;++s){var l=r[s],c=i=l.index,f=l.index+l.addedCount;for((void 0===o||null===o||o>l.index)&&(o=i);c<f;++c){var h=(0,t.createFullOverrideContext)(e,n[c],c,a);e.insertView(c,h.bindingContext,h)}}return o},e}()}),define("aurelia-templating-resources/repeat-utilities",["exports","aurelia-binding"],function(e,t){"use strict";function n(e,t){var n=e.length;for(t>0&&(t-=1);t<n;++t)i(e[t].overrideContext,t,n)}function r(e,n,r,o,a){var s={},u=(0,t.createOverrideContext)(s,e.scope.overrideContext);return void 0!==a?(s[e.key]=a,s[e.value]=n):s[e.local]=n,i(u,r,o),u}function i(e,t,n){var r=0===t,i=t===n-1,o=t%2==0;e.$index=t,e.$first=r,e.$last=i,e.$middle=!(r||i),e.$odd=!o,e.$even=o}function o(e,t){return e.behaviorInstructions.filter(function(e){return e.originalAttrName===t})[0].attributes.items.sourceExpression}function a(e){for(var n=!1;e instanceof t.BindingBehavior;)e=e.expression;for(;e instanceof t.ValueConverter;)e=e.expression,n=!0;return n?e:null}function s(e){for(;e instanceof t.BindingBehavior;){if("oneTime"===e.name)return!0;e=e.expression}return!1}function u(e){e.call&&e.mode===c?e.call(t.sourceContext):e.updateOneTimeBindings&&e.updateOneTimeBindings()}function l(e,t,n,r){if(!n)return e.indexOf(t);for(var i=e.length,o=r||0;o<i;o++)if(n(e[o],t))return o;return-1}Object.defineProperty(e,"__esModule",{value:!0}),e.updateOverrideContexts=n,e.createFullOverrideContext=r,e.updateOverrideContext=i,e.getItemsSourceExpression=o,e.unwrapExpression=a,e.isOneTime=s,e.updateOneTimeBinding=u,e.indexOf=l;var c=t.bindingMode.oneTime}),define("aurelia-templating-resources/map-repeat-strategy",["exports","./repeat-utilities"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapRepeatStrategy=void 0;e.MapRepeatStrategy=function(){function e(){}return e.prototype.getCollectionObserver=function(e,t){return e.getMapObserver(t)},e.prototype.instanceChanged=function(e,t){var n=this,r=e.removeAllViews(!0,!e.viewsRequireLifecycle);if(r instanceof Promise)return void r.then(function(){return n._standardProcessItems(e,t)});this._standardProcessItems(e,t)},e.prototype._standardProcessItems=function(e,n){var r=0,i=void 0;n.forEach(function(o,a){i=(0,t.createFullOverrideContext)(e,o,r,n.size,a),e.addView(i.bindingContext,i),++r})},e.prototype.instanceMutated=function(e,n,r){var i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=[],h=void 0;for(o=0,a=r.length;o<a;++o)switch(c=r[o],i=c.key,c.type){case"update":u=this._getViewIndexByKey(e,i),h=e.removeView(u,!0,!e.viewsRequireLifecycle),h instanceof Promise&&f.push(h),s=(0,t.createFullOverrideContext)(e,n.get(i),u,n.size,i),e.insertView(u,s.bindingContext,s);break;case"add":l=e.viewCount()<=n.size-1?e.viewCount():n.size-1,s=(0,t.createFullOverrideContext)(e,n.get(i),l,n.size,i),e.insertView(n.size-1,s.bindingContext,s);break;case"delete":if(void 0===c.oldValue)return;u=this._getViewIndexByKey(e,i),h=e.removeView(u,!0,!e.viewsRequireLifecycle),h instanceof Promise&&f.push(h);break;case"clear":e.removeAllViews(!0,!e.viewsRequireLifecycle);break;default:continue}f.length>0?Promise.all(f).then(function(){(0,t.updateOverrideContexts)(e.views(),0)}):(0,t.updateOverrideContexts)(e.views(),0)},e.prototype._getViewIndexByKey=function(e,t){var n=void 0,r=void 0,i=void 0;for(n=0,r=e.viewCount();n<r;++n)if(i=e.view(n),i.bindingContext[e.key]===t)return n},e}()}),define("aurelia-templating-resources/set-repeat-strategy",["exports","./repeat-utilities"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetRepeatStrategy=void 0;e.SetRepeatStrategy=function(){function e(){}return e.prototype.getCollectionObserver=function(e,t){return e.getSetObserver(t)},e.prototype.instanceChanged=function(e,t){var n=this,r=e.removeAllViews(!0,!e.viewsRequireLifecycle);if(r instanceof Promise)return void r.then(function(){return n._standardProcessItems(e,t)});this._standardProcessItems(e,t)},e.prototype._standardProcessItems=function(e,n){var r=0,i=void 0;n.forEach(function(o){i=(0,t.createFullOverrideContext)(e,o,r,n.size),e.addView(i.bindingContext,i),++r})},e.prototype.instanceMutated=function(e,n,r){var i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=[],f=void 0;for(o=0,a=r.length;o<a;++o)switch(l=r[o],i=l.value,l.type){case"add":var h=Math.max(n.size-1,0);s=(0,t.createFullOverrideContext)(e,i,h,n.size),e.insertView(h,s.bindingContext,s);break;case"delete":u=this._getViewIndexByValue(e,i),f=e.removeView(u,!0,!e.viewsRequireLifecycle),f instanceof Promise&&c.push(f);break;case"clear":e.removeAllViews(!0,!e.viewsRequireLifecycle);break;default:continue}c.length>0?Promise.all(c).then(function(){(0,t.updateOverrideContexts)(e.views(),0)}):(0,t.updateOverrideContexts)(e.views(),0)},e.prototype._getViewIndexByValue=function(e,t){var n=void 0,r=void 0,i=void 0;for(n=0,r=e.viewCount();n<r;++n)if(i=e.view(n),i.bindingContext[e.local]===t)return n},e}()}),define("aurelia-templating-resources/number-repeat-strategy",["exports","./repeat-utilities"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NumberRepeatStrategy=void 0;e.NumberRepeatStrategy=function(){function e(){}return e.prototype.getCollectionObserver=function(){return null},e.prototype.instanceChanged=function(e,t){var n=this,r=e.removeAllViews(!0,!e.viewsRequireLifecycle);if(r instanceof Promise)return void r.then(function(){return n._standardProcessItems(e,t)});this._standardProcessItems(e,t)},e.prototype._standardProcessItems=function(e,n){var r=e.viewCount(),i=void 0,o=void 0,a=void 0,s=void 0;if(n=Math.floor(n),(s=r-n)>0)for(s>r&&(s=r),i=0,o=s;i<o;++i)e.removeView(r-(i+1),!0,!e.viewsRequireLifecycle);else{for(i=r,o=n;i<o;++i)a=(0,t.createFullOverrideContext)(e,i,i,o),e.addView(a.bindingContext,a);(0,t.updateOverrideContexts)(e.views(),0)}},e}()}),define("aurelia-templating-resources/analyze-view-factory",["exports"],function(e){"use strict";function t(e){var t=e.type,n=null!==t.elementName?t.elementName:t.attributeName;return-1===i.indexOf(n)&&(t.handlesAttached||t.handlesBind||t.handlesCreated||t.handlesDetached||t.handlesUnbind)||t.viewFactory&&r(t.viewFactory)||e.viewFactory&&r(e.viewFactory)}function n(e){var n=e.behaviorInstructions;if(n)for(var i=n.length;i--;)if(t(n[i]))return!0;return e.viewFactory&&r(e.viewFactory)}function r(e){if("_viewsRequireLifecycle"in e)return e._viewsRequireLifecycle;if(e._viewsRequireLifecycle=!1,e.viewFactory)return e._viewsRequireLifecycle=r(e.viewFactory),e._viewsRequireLifecycle;if(e.template.querySelector(".au-animate"))return e._viewsRequireLifecycle=!0,!0;for(var t in e.instructions)if(n(e.instructions[t]))return e._viewsRequireLifecycle=!0,!0;return e._viewsRequireLifecycle=!1,!1}Object.defineProperty(e,"__esModule",{value:!0}),e.viewsRequireLifecycle=r;var i=e.lifecycleOptionalBehaviors=["focus","if","repeat","show","with"]}),define("aurelia-templating-resources/abstract-repeater",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.AbstractRepeater=function(){function e(e){Object.assign(this,{local:"items",viewsRequireLifecycle:!0},e)}return e.prototype.viewCount=function(){throw new Error("subclass must implement `viewCount`")},e.prototype.views=function(){throw new Error("subclass must implement `views`")},e.prototype.view=function(e){throw new Error("subclass must implement `view`")},e.prototype.matcher=function(){throw new Error("subclass must implement `matcher`")},e.prototype.addView=function(e,t){throw new Error("subclass must implement `addView`")},e.prototype.insertView=function(e,t,n){throw new Error("subclass must implement `insertView`")},e.prototype.moveView=function(e,t){throw new Error("subclass must implement `moveView`")},e.prototype.removeAllViews=function(e,t){throw new Error("subclass must implement `removeAllViews`")},e.prototype.removeViews=function(e,t,n){throw new Error("subclass must implement `removeView`")},e.prototype.removeView=function(e,t,n){throw new Error("subclass must implement `removeView`")},e.prototype.updateBindings=function(e){throw new Error("subclass must implement `updateBindings`")},e}()}),define("aurelia-templating-resources/show",["exports","aurelia-dependency-injection","aurelia-templating","aurelia-pal","./aurelia-hide-style"],function(e,t,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Show=void 0;var o,a,s;e.Show=(o=(0,n.customAttribute)("show"),a=(0,t.inject)(r.DOM.Element,n.Animator,t.Optional.of(r.DOM.boundary,!0)),o(s=a(s=function(){function e(e,t,n){this.element=e,this.animator=t,this.domBoundary=n}return e.prototype.created=function(){(0,i.injectAureliaHideStyleAtBoundary)(this.domBoundary)},e.prototype.valueChanged=function(e){e?this.animator.removeClass(this.element,i.aureliaHideClassName):this.animator.addClass(this.element,i.aureliaHideClassName)},e.prototype.bind=function(e){this.valueChanged(this.value)},e}())||s)||s)}),define("aurelia-templating-resources/aurelia-hide-style",["exports","aurelia-pal"],function(e,t){"use strict";function n(){t.DOM.injectStyles(o)}function r(e){t.FEATURE.shadowDOM&&e&&!e.hasAureliaHideStyle&&(e.hasAureliaHideStyle=!0,t.DOM.injectStyles(o,e))}Object.defineProperty(e,"__esModule",{value:!0}),e.aureliaHideClassName=void 0,e.injectAureliaHideStyleAtHead=n,e.injectAureliaHideStyleAtBoundary=r;var i=e.aureliaHideClassName="aurelia-hide",o="."+i+" { display:none !important; }"}),define("aurelia-templating-resources/hide",["exports","aurelia-dependency-injection","aurelia-templating","aurelia-pal","./aurelia-hide-style"],function(e,t,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Hide=void 0;var o,a,s;e.Hide=(o=(0,n.customAttribute)("hide"),a=(0,t.inject)(r.DOM.Element,n.Animator,t.Optional.of(r.DOM.boundary,!0)),o(s=a(s=function(){function e(e,t,n){this.element=e,this.animator=t,this.domBoundary=n}return e.prototype.created=function(){(0,i.injectAureliaHideStyleAtBoundary)(this.domBoundary)},e.prototype.valueChanged=function(e){e?this.animator.addClass(this.element,i.aureliaHideClassName):this.animator.removeClass(this.element,i.aureliaHideClassName)},e.prototype.bind=function(e){this.valueChanged(this.value)},e}())||s)||s)}),define("aurelia-templating-resources/sanitize-html",["exports","aurelia-binding","aurelia-dependency-injection","./html-sanitizer"],function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SanitizeHTMLValueConverter=void 0;var i,o,a;e.SanitizeHTMLValueConverter=(i=(0,t.valueConverter)("sanitizeHTML"),o=(0,n.inject)(r.HTMLSanitizer),i(a=o(a=function(){function e(e){this.sanitizer=e}return e.prototype.toView=function(e){return null===e||void 0===e?null:this.sanitizer.sanitize(e)},e}())||a)||a)}),define("aurelia-templating-resources/html-sanitizer",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;e.HTMLSanitizer=function(){function e(){}return e.prototype.sanitize=function(e){return e.replace(t,"")},e}()}),define("aurelia-templating-resources/replaceable",["exports","aurelia-dependency-injection","aurelia-templating"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Replaceable=void 0;var r,i,o;e.Replaceable=(r=(0,n.customAttribute)("replaceable"),i=(0,t.inject)(n.BoundViewFactory,n.ViewSlot),r(o=(0,n.templateController)(o=i(o=function(){function e(e,t){this.viewFactory=e,this.viewSlot=t,this.view=null}return e.prototype.bind=function(e,t){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(e,t)},e.prototype.unbind=function(){this.view.unbind()},e}())||o)||o)||o)}),define("aurelia-templating-resources/focus",["exports","aurelia-templating","aurelia-binding","aurelia-dependency-injection","aurelia-task-queue","aurelia-pal"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Focus=void 0;var a,s,u;e.Focus=(a=(0,t.customAttribute)("focus",n.bindingMode.twoWay),s=(0,r.inject)(o.DOM.Element,i.TaskQueue),a(u=s(u=function(){function e(e,t){this.element=e,this.taskQueue=t,this.isAttached=!1,this.needsApply=!1}return e.prototype.valueChanged=function(e){this.isAttached?this._apply():this.needsApply=!0},e.prototype._apply=function(){var e=this;this.value?this.taskQueue.queueMicroTask(function(){e.value&&e.element.focus()}):this.element.blur()},e.prototype.attached=function(){this.isAttached=!0,this.needsApply&&(this.needsApply=!1,this._apply()),this.element.addEventListener("focus",this),this.element.addEventListener("blur",this)},e.prototype.detached=function(){this.isAttached=!1,this.element.removeEventListener("focus",this),this.element.removeEventListener("blur",this)},e.prototype.handleEvent=function(e){"focus"===e.type?this.value=!0:o.DOM.activeElement!==this.element&&(this.value=!1)},e}())||u)||u)}),define("aurelia-templating-resources/css-resource",["exports","aurelia-templating","aurelia-loader","aurelia-dependency-injection","aurelia-path","aurelia-pal"],function(e,t,n,r,i,o){"use strict";function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if("string"!=typeof t)throw new Error("Failed loading required CSS file: "+e);return t.replace(c,function(t,n){var r=n.charAt(0);return"'"!==r&&'"'!==r||(n=n.substr(1,n.length-2)),"url('"+(0,i.relativeToFile)(n,e)+"')"})}function l(e){var n;return(0,t.resource)(new f(e))(n=function(e){function t(){return a(this,e.apply(this,arguments))}return s(t,e),t}(h))||n}Object.defineProperty(e,"__esModule",{value:!0}),e._createCSSResource=l;var c=/url\((?!['"]data)([^)]+)\)/gi,f=function(){function e(e){this.address=e,this._scoped=null,this._global=!1,this._alreadyGloballyInjected=!1}return e.prototype.initialize=function(e,t){this._scoped=new t(this)},e.prototype.register=function(e,t){"scoped"===t?e.registerViewEngineHooks(this._scoped):this._global=!0},e.prototype.load=function(e){var t=this;return e.get(n.Loader).loadText(this.address).catch(function(e){return null}).then(function(e){e=u(t.address,e),t._scoped.css=e,t._global&&(t._alreadyGloballyInjected=!0,o.DOM.injectStyles(e))})},e}(),h=function(){function e(e){this.owner=e,this.css=null}return e.prototype.beforeCompile=function(e,t,n){if(n.targetShadowDOM)o.DOM.injectStyles(this.css,e,!0);else if(o.FEATURE.scopedCSS){var r=o.DOM.injectStyles(this.css,e,!0);r.setAttribute("scoped","scoped")}else this._global&&!this.owner._alreadyGloballyInjected&&(o.DOM.injectStyles(this.css),this.owner._alreadyGloballyInjected=!0)},e}()}),define("aurelia-templating-resources/attr-binding-behavior",["exports","aurelia-binding"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AttrBindingBehavior=void 0;e.AttrBindingBehavior=function(){function e(){}return e.prototype.bind=function(e,n){e.targetObserver=new t.DataAttributeObserver(e.target,e.targetProperty)},e.prototype.unbind=function(e,t){},e}()}),define("aurelia-templating-resources/binding-mode-behaviors",["exports","aurelia-binding","aurelia-metadata"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),
e.TwoWayBindingBehavior=e.OneWayBindingBehavior=e.OneTimeBindingBehavior=void 0;var r,i,o,a={bind:function(e,t,n){e.originalMode=e.mode,e.mode=this.mode},unbind:function(e,t){e.mode=e.originalMode,e.originalMode=null}};e.OneTimeBindingBehavior=(0,n.mixin)(a)(r=function(){this.mode=t.bindingMode.oneTime})||r,e.OneWayBindingBehavior=(0,n.mixin)(a)(i=function(){this.mode=t.bindingMode.oneWay})||i,e.TwoWayBindingBehavior=(0,n.mixin)(a)(o=function(){this.mode=t.bindingMode.twoWay})||o}),define("aurelia-templating-resources/throttle-binding-behavior",["exports","aurelia-binding"],function(e,t){"use strict";function n(e){var t=this,n=this.throttleState,r=+new Date-n.last;if(r>=n.delay)return clearTimeout(n.timeoutId),n.timeoutId=null,n.last=+new Date,void this.throttledMethod(e);n.newValue=e,null===n.timeoutId&&(n.timeoutId=setTimeout(function(){n.timeoutId=null,n.last=+new Date,t.throttledMethod(n.newValue)},n.delay-r))}Object.defineProperty(e,"__esModule",{value:!0}),e.ThrottleBindingBehavior=void 0;e.ThrottleBindingBehavior=function(){function e(){}return e.prototype.bind=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,o="updateTarget";e.callSource?o="callSource":e.updateSource&&e.mode===t.bindingMode.twoWay&&(o="updateSource"),e.throttledMethod=e[o],e.throttledMethod.originalName=o,e[o]=n,e.throttleState={delay:i,last:0,timeoutId:null}},e.prototype.unbind=function(e,t){e[e.throttledMethod.originalName]=e.throttledMethod,e.throttledMethod=null,clearTimeout(e.throttleState.timeoutId),e.throttleState=null},e}()}),define("aurelia-templating-resources/debounce-binding-behavior",["exports","aurelia-binding"],function(e,t){"use strict";function n(e){var t=this,n=this.debounceState;if(n.immediate)return n.immediate=!1,void this.debouncedMethod(e);clearTimeout(n.timeoutId),n.timeoutId=setTimeout(function(){return t.debouncedMethod(e)},n.delay)}Object.defineProperty(e,"__esModule",{value:!0}),e.DebounceBindingBehavior=void 0;e.DebounceBindingBehavior=function(){function e(){}return e.prototype.bind=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,o="updateTarget";e.callSource?o="callSource":e.updateSource&&e.mode===t.bindingMode.twoWay&&(o="updateSource"),e.debouncedMethod=e[o],e.debouncedMethod.originalName=o,e[o]=n,e.debounceState={delay:i,timeoutId:null,immediate:"updateTarget"===o}},e.prototype.unbind=function(e,t){e[e.debouncedMethod.originalName]=e.debouncedMethod,e.debouncedMethod=null,clearTimeout(e.debounceState.timeoutId),e.debounceState=null},e}()}),define("aurelia-templating-resources/self-binding-behavior",["exports"],function(e){"use strict";function t(e){return e.path&&e.path[0]||e.deepPath&&e.deepPath[0]||e.target}function n(e){var n=t(e);this.target===n&&this.selfEventCallSource(e)}Object.defineProperty(e,"__esModule",{value:!0});e.SelfBindingBehavior=function(){function e(){}return e.prototype.bind=function(e,t){if(!e.callSource||!e.targetEvent)throw new Error("Self binding behavior only supports event.");e.selfEventCallSource=e.callSource,e.callSource=n},e.prototype.unbind=function(e,t){e.callSource=e.selfEventCallSource,e.selfEventCallSource=null},e}()}),define("aurelia-templating-resources/signal-binding-behavior",["exports","./binding-signaler"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignalBindingBehavior=void 0;e.SignalBindingBehavior=function(){function e(e){this.signals=e.signals}return e.inject=function(){return[t.BindingSignaler]},e.prototype.bind=function(e,t){if(!e.updateTarget)throw new Error("Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.");if(3===arguments.length){var n=arguments[2];(this.signals[n]||(this.signals[n]=[])).push(e),e.signalName=n}else{if(!(arguments.length>3))throw new Error("Signal name is required.");for(var r=Array.prototype.slice.call(arguments,2),i=r.length;i--;){var o=r[i];(this.signals[o]||(this.signals[o]=[])).push(e)}e.signalName=r}},e.prototype.unbind=function(e,t){var n=e.signalName;if(e.signalName=null,Array.isArray(n))for(var r=n,i=r.length;i--;){var o=r[i],a=this.signals[o];a.splice(a.indexOf(e),1)}else{var s=this.signals[n];s.splice(s.indexOf(e),1)}},e}()}),define("aurelia-templating-resources/binding-signaler",["exports","aurelia-binding"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingSignaler=void 0;e.BindingSignaler=function(){function e(){this.signals={}}return e.prototype.signal=function(e){var n=this.signals[e];if(n)for(var r=n.length;r--;)n[r].call(t.sourceContext)},e}()}),define("aurelia-templating-resources/update-trigger-binding-behavior",["exports","aurelia-binding"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UpdateTriggerBindingBehavior=void 0;var n,r,i="The updateTrigger binding behavior can only be applied to two-way bindings on input/select elements.";e.UpdateTriggerBindingBehavior=(r=n=function(){function e(e){this.eventManager=e}return e.prototype.bind=function(e,n){for(var r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];if(0===o.length)throw new Error("The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">");if(e.mode!==t.bindingMode.twoWay)throw new Error(i);var s=e.observerLocator.getObserver(e.target,e.targetProperty);if(!s.handler)throw new Error(i);e.targetObserver=s,s.originalHandler=e.targetObserver.handler;var u=this.eventManager.createElementHandler(o);s.handler=u},e.prototype.unbind=function(e,t){e.targetObserver.handler=e.targetObserver.originalHandler,e.targetObserver.originalHandler=null},e}(),n.inject=[t.EventManager],r)}),define("aurelia-templating-resources/html-resource-plugin",["exports","aurelia-templating","./dynamic-element"],function(e,t,n){"use strict";function r(e){return/([^\/^\?]+)\.html/i.exec(e)[1].toLowerCase()}function i(e){var i=e.container.get(t.ViewEngine),o=e.aurelia.loader;i.addResourcePlugin(".html",{fetch:function(e){return o.loadTemplate(e).then(function(t){var i,o=t.template.getAttribute("bindable"),a=r(e);return o?(o=o.split(",").map(function(e){return e.trim()}),t.template.removeAttribute("bindable")):o=[],i={},i[a]=(0,n._createDynamicElement)(a,e,o),i})}})}Object.defineProperty(e,"__esModule",{value:!0}),e.getElementName=r,e.configure=i}),define("aurelia-templating-resources/dynamic-element",["exports","aurelia-templating"],function(e,t){"use strict";function n(e,n,r){for(var i,o,a,s=(i=(0,t.customElement)(e),o=(0,t.useView)(n),i(a=o(a=function(){function e(){}return e.prototype.bind=function(e){this.$parent=e},e}())||a)||a),u=0,l=r.length;u<l;++u)(0,t.bindable)(r[u])(s);return s}Object.defineProperty(e,"__esModule",{value:!0}),e._createDynamicElement=n}),define("aurelia-templating-router/route-loader",["exports","aurelia-dependency-injection","aurelia-templating","aurelia-router","aurelia-path","aurelia-metadata","./router-view"],function(e,t,n,r,i,o,a){"use strict";function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t,r,i,o=/([^\/^\?]+)\.html/i.exec(e)[1];return t=(0,n.customElement)(o),r=(0,n.useView)(e),t(i=r(i=function(){function e(){}return e.prototype.bind=function(e){this.$parent=e},e}())||i)||i}Object.defineProperty(e,"__esModule",{value:!0}),e.TemplatingRouteLoader=void 0;var c,f;e.TemplatingRouteLoader=(c=(0,t.inject)(n.CompositionEngine))(f=function(e){function t(t){var n=s(this,e.call(this));return n.compositionEngine=t,n}return u(t,e),t.prototype.loadRoute=function(e,t){var n=e.container.createChild(),s=/\.html/.test(t.moduleId)?l(t.moduleId):(0,i.relativeToFile)(t.moduleId,o.Origin.get(e.container.viewModel.constructor).moduleId),u={viewModel:s,childContainer:n,view:t.view||t.viewStrategy,router:e};return n.registerSingleton(a.RouterViewLocator),n.getChildRouter=function(){var t=void 0;return n.registerHandler(r.Router,function(r){return t||(t=e.createChild(n))}),n.get(r.Router)},this.compositionEngine.ensureViewModel(u)},t}(r.RouteLoader))||f}),define("aurelia-templating-router/router-view",["exports","aurelia-dependency-injection","aurelia-binding","aurelia-templating","aurelia-router","aurelia-metadata","aurelia-pal"],function(e,t,n,r,i,o,a){"use strict";function s(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function u(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.RouterViewLocator=e.RouterView=void 0;var l,c,f,h,d,p,v,g,m=(e.RouterView=(l=(0,r.customElement)("router-view"),c=(0,t.inject)(a.DOM.Element,t.Container,r.ViewSlot,i.Router,r.ViewLocator,r.CompositionTransaction,r.CompositionEngine),l(f=(0,r.noView)(f=c((h=function(){function e(e,t,n,r,i,o,a){s(this,"swapOrder",d,this),s(this,"layoutView",p,this),s(this,"layoutViewModel",v,this),s(this,"layoutModel",g,this),this.element=e,this.container=t,this.viewSlot=n,this.router=r,this.viewLocator=i,this.compositionTransaction=o,this.compositionEngine=a,this.router.registerViewPort(this,this.element.getAttribute("name")),"initialComposition"in o||(o.initialComposition=!0,this.compositionTransactionNotifier=o.enlist())}return e.prototype.created=function(e){this.owningView=e},e.prototype.bind=function(e,t){this.container.viewModel=e,this.overrideContext=t},e.prototype.process=function(e,t){var n=this,i=e.component,a=i.childContainer,s=i.viewModel,u=i.viewModelResource,l=u.metadata,c=i.router.currentInstruction.config,f=c.viewPorts?c.viewPorts[e.name]:{};a.get(m)._notify(this);var h={viewModel:f.layoutViewModel||c.layoutViewModel||this.layoutViewModel,view:f.layoutView||c.layoutView||this.layoutView,model:f.layoutModel||c.layoutModel||this.layoutModel,router:e.component.router,childContainer:a,viewSlot:this.viewSlot},d=this.viewLocator.getViewStrategy(i.view||s);return d&&i.view&&d.makeRelativeTo(o.Origin.get(i.router.container.viewModel.constructor).moduleId),l.load(a,u.value,null,d,!0).then(function(i){if(n.compositionTransactionNotifier||(n.compositionTransactionOwnershipToken=n.compositionTransaction.tryCapture()),(h.viewModel||h.view)&&(e.layoutInstruction=h),e.controller=l.create(a,r.BehaviorInstruction.dynamic(n.element,s,i)),t)return null;n.swap(e)})},e.prototype.swap=function(e){var t=this,i=e.layoutInstruction,o=this.view,a=function(){var e=r.SwapStrategies[t.swapOrder]||r.SwapStrategies.after,n=t.viewSlot;e(n,o,function(){return Promise.resolve(n.add(t.view))}).then(function(){t._notify()})},s=function(n){return e.controller.automate(t.overrideContext,n),t.compositionTransactionOwnershipToken?t.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return t.compositionTransactionOwnershipToken=null,a()}):a()};return i?(i.viewModel||(i.viewModel={}),this.compositionEngine.createController(i).then(function(o){return r.ShadowDOM.distributeView(e.controller.view,o.slots||o.view.slots),o.automate((0,n.createOverrideContext)(i.viewModel),t.owningView),o.view.children.push(e.controller.view),o.view||o}).then(function(e){return t.view=e,s(e)})):(this.view=e.controller.view,s(this.owningView))},e.prototype._notify=function(){this.compositionTransactionNotifier&&(this.compositionTransactionNotifier.done(),this.compositionTransactionNotifier=null)},e}(),d=u(h.prototype,"swapOrder",[r.bindable],{enumerable:!0,initializer:null}),p=u(h.prototype,"layoutView",[r.bindable],{enumerable:!0,initializer:null}),v=u(h.prototype,"layoutViewModel",[r.bindable],{enumerable:!0,initializer:null}),g=u(h.prototype,"layoutModel",[r.bindable],{enumerable:!0,initializer:null}),f=h))||f)||f)||f),e.RouterViewLocator=function(){function e(){var e=this;this.promise=new Promise(function(t){return e.resolve=t})}return e.prototype.findNearest=function(){return this.promise},e.prototype._notify=function(e){this.resolve(e)},e}())}),define("aurelia-templating-router/route-href",["exports","aurelia-templating","aurelia-dependency-injection","aurelia-router","aurelia-pal","aurelia-logging"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RouteHref=void 0;var a,s,u,l,c,f,h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),d=h.getLogger("route-href");e.RouteHref=(a=(0,t.customAttribute)("route-href"),s=(0,t.bindable)({name:"route",changeHandler:"processChange",primaryProperty:!0}),u=(0,t.bindable)({name:"params",changeHandler:"processChange"}),l=(0,t.bindable)({name:"attribute",defaultValue:"href"}),c=(0,n.inject)(r.Router,i.DOM.Element),a(f=s(f=u(f=l(f=c(f=function(){function e(e,t){this.router=e,this.element=t}return e.prototype.attached=function(){this.isActive=!0,this.processChange()},e.prototype.unbind=function(){this.isActive=!1},e.prototype.attributeChanged=function(e,t){t&&this.element.removeAttribute(t),this.processChange()},e.prototype.processChange=function(){var e=this;return this.router.ensureConfigured().then(function(){if(!e.isActive)return null;var t=e.router.generate(e.route,e.params);return e.element.au.controller?e.element.au.controller.viewModel[e.attribute]=t:e.element.setAttribute(e.attribute,t),null}).catch(function(e){d.error(e)})},e}())||f)||f)||f)||f)||f)}),define("aurelia-templating-binding",["exports","aurelia-logging","aurelia-binding","aurelia-templating"],function(e,t,n,r){"use strict";function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if("style"===t)g.getLogger("templating-binding").info('Internet Explorer does not support interpolation in "style" attributes.  Use the style attribute\'s alias, "css" instead.');else if(e.parentElement&&"TEXTAREA"===e.parentElement.nodeName&&"textContent"===t)throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind="expression"></textarea> instead.')}function s(e){e.container.registerSingleton(r.BindingLanguage,k),e.container.registerAlias(r.BindingLanguage,k)}Object.defineProperty(e,"__esModule",{value:!0}),e.TemplatingBindingLanguage=e.SyntaxInterpreter=e.ChildInterpolationBinding=e.InterpolationBinding=e.InterpolationBindingExpression=e.AttributeMap=void 0,e.configure=s;var u,l,c,f,h,d,p,v,g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),m=e.AttributeMap=(l=u=function(){function e(e){this.elements=Object.create(null),this.allElements=Object.create(null),this.svg=e,this.registerUniversal("accesskey","accessKey"),this.registerUniversal("contenteditable","contentEditable"),this.registerUniversal("tabindex","tabIndex"),this.registerUniversal("textcontent","textContent"),this.registerUniversal("innerhtml","innerHTML"),this.registerUniversal("scrolltop","scrollTop"),this.registerUniversal("scrollleft","scrollLeft"),this.registerUniversal("readonly","readOnly"),this.register("label","for","htmlFor"),this.register("img","usemap","useMap"),this.register("input","maxlength","maxLength"),this.register("input","minlength","minLength"),this.register("input","formaction","formAction"),this.register("input","formenctype","formEncType"),this.register("input","formmethod","formMethod"),this.register("input","formnovalidate","formNoValidate"),this.register("input","formtarget","formTarget"),this.register("textarea","maxlength","maxLength"),this.register("td","rowspan","rowSpan"),this.register("td","colspan","colSpan"),this.register("th","rowspan","rowSpan"),this.register("th","colspan","colSpan")}return e.prototype.register=function(e,t,n){e=e.toLowerCase(),t=t.toLowerCase(),(this.elements[e]=this.elements[e]||Object.create(null))[t]=n},e.prototype.registerUniversal=function(e,t){e=e.toLowerCase(),this.allElements[e]=t},e.prototype.map=function(e,t){if(this.svg.isStandardSvgAttribute(e,t))return t;e=e.toLowerCase(),t=t.toLowerCase();var r=this.elements[e];return void 0!==r&&t in r?r[t]:t in this.allElements?this.allElements[t]:/(?:^data-)|(?:^aria-)|:/.test(t)?t:(0,n.camelCase)(t)},e}(),u.inject=[n.SVGAnalyzer],l),y=e.InterpolationBindingExpression=function(){function e(e,t,n,r,i,o){this.observerLocator=e,this.targetProperty=t,this.parts=n,this.mode=r,this.lookupFunctions=i,this.attribute=this.attrToRemove=o,this.discrete=!1}return e.prototype.createBinding=function(e){return 3===this.parts.length?new w(e,this.observerLocator,this.parts[1],this.mode,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new b(this.observerLocator,this.parts,e,this.targetProperty,this.mode,this.lookupFunctions)},e}(),b=e.InterpolationBinding=function(){function e(e,t,n,r,i,o){a(n,r),this.observerLocator=e,this.parts=t,this.target=n,this.targetProperty=r,this.targetAccessor=e.getAccessor(n,r),this.mode=i,this.lookupFunctions=o}return e.prototype.interpolate=function(){if(this.isBound){for(var e="",t=this.parts,n=0,r=t.length;n<r;n++)e+=n%2==0?t[n]:this["childBinding"+n].value;this.targetAccessor.setValue(e,this.target,this.targetProperty)}},e.prototype.updateOneTimeBindings=function(){for(var e=1,t=this.parts.length;e<t;e+=2){var r=this["childBinding"+e];r.mode===n.bindingMode.oneTime&&r.call()}},e.prototype.bind=function(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.source=e;for(var t=this.parts,n=1,r=t.length;n<r;n+=2){var i=new w(this,this.observerLocator,t[n],this.mode,this.lookupFunctions);i.bind(e),this["childBinding"+n]=i}this.isBound=!0,this.interpolate()},e.prototype.unbind=function(){if(this.isBound){this.isBound=!1,this.source=null;for(var e=this.parts,t=1,n=e.length;t<n;t+=2){this["childBinding"+t].unbind()}}},e}(),w=e.ChildInterpolationBinding=(c=(0,n.connectable)())(f=function(){function e(e,t,n,r,i,o,s,u){e instanceof b?this.parent=e:(a(e,o),this.target=e,this.targetProperty=o,this.targetAccessor=t.getAccessor(e,o)),this.observerLocator=t,this.sourceExpression=n,this.mode=r,this.lookupFunctions=i,this.left=s,this.right=u}return e.prototype.updateTarget=function(e){(e=null===e||void 0===e?"":e.toString())!==this.value&&(this.value=e,this.parent?this.parent.interpolate():this.targetAccessor.setValue(this.left+e+this.right,this.target,this.targetProperty))},e.prototype.call=function(){this.isBound&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode!==n.bindingMode.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue),this.unobserve(!1)))},e.prototype.bind=function(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e;var t=this.sourceExpression;t.bind&&t.bind(this,e,this.lookupFunctions),this.rawValue=t.evaluate(e,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode===n.bindingMode.oneWay&&(0,n.enqueueBindingConnect)(this)},e.prototype.unbind=function(){if(this.isBound){this.isBound=!1;var e=this.sourceExpression;e.unbind&&e.unbind(this,this.source),this.source=null,this.value=null,this.rawValue=null,this.unobserve(!0)}},e.prototype.connect=function(e){this.isBound&&(e&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue)),this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue))},e}())||f,x=e.SyntaxInterpreter=(d=h=function(){function e(e,t,n,r){this.parser=e,this.observerLocator=t,this.eventManager=n,this.attributeMap=r}return e.prototype.interpret=function(e,t,n,r,i){return n.command in this?this[n.command](e,t,n,r,i):this.handleUnknownCommand(e,t,n,r,i)},e.prototype.handleUnknownCommand=function(e,t,n,r,i){return g.getLogger("templating-binding").warn("Unknown binding command.",n),r},e.prototype.determineDefaultBindingMode=function(e,t,r){var i=e.tagName.toLowerCase();return"input"===i&&("value"===t||"files"===t)&&"checkbox"!==e.type&&"radio"!==e.type||"input"===i&&"checked"===t&&("checkbox"===e.type||"radio"===e.type)||("textarea"===i||"select"===i)&&"value"===t||("textcontent"===t||"innerhtml"===t)&&"true"===e.contentEditable||"scrolltop"===t||"scrollleft"===t?n.bindingMode.twoWay:r&&t in r.attributes&&r.attributes[t]&&r.attributes[t].defaultBindingMode>=n.bindingMode.oneTime?r.attributes[t].defaultBindingMode:n.bindingMode.oneWay},e.prototype.bind=function(e,t,i,o,a){var s=o||r.BehaviorInstruction.attribute(i.attrName);return s.attributes[i.attrName]=new n.BindingExpression(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),void 0===i.defaultBindingMode||null===i.defaultBindingMode?this.determineDefaultBindingMode(t,i.attrName,a):i.defaultBindingMode,e.lookupFunctions),s},e.prototype.trigger=function(e,t,r){return new n.ListenerExpression(this.eventManager,r.attrName,this.parser.parse(r.attrValue),n.delegationStrategy.none,!0,e.lookupFunctions)},e.prototype.capture=function(e,t,r){return new n.ListenerExpression(this.eventManager,r.attrName,this.parser.parse(r.attrValue),n.delegationStrategy.capturing,!0,e.lookupFunctions)},e.prototype.delegate=function(e,t,r){return new n.ListenerExpression(this.eventManager,r.attrName,this.parser.parse(r.attrValue),n.delegationStrategy.bubbling,!0,e.lookupFunctions)},e.prototype.call=function(e,t,i,o){var a=o||r.BehaviorInstruction.attribute(i.attrName);return a.attributes[i.attrName]=new n.CallExpression(this.observerLocator,i.attrName,this.parser.parse(i.attrValue),e.lookupFunctions),a},e.prototype.options=function(e,t,n,i,o){var a=i||r.BehaviorInstruction.attribute(n.attrName),s=n.attrValue,u=this.language,l=null,c="",f=void 0,h=void 0,d=void 0,p=!1,v=!1,g=!1;for(h=0,d=s.length;h<d;++h){if(";"!==(f=s[h])||p)if(":"===f&&null===l)g=!0,l=c.trim(),c="";else{if("\\"===f){c+=f,v=!0;continue}c+=f,null!==l&&!1===v&&"'"===f&&(p=!p)}else g||(l=this._getPrimaryPropertyName(e,o)),n=u.inspectAttribute(e,"?",l,c.trim()),u.createAttributeInstruction(e,t,n,a,o),a.attributes[n.attrName]||(a.attributes[n.attrName]=n.attrValue),c="",l=null;v=!1}return g||(l=this._getPrimaryPropertyName(e,o)),null!==l&&(n=u.inspectAttribute(e,"?",l,c.trim()),u.createAttributeInstruction(e,t,n,a,o),a.attributes[n.attrName]||(a.attributes[n.attrName]=n.attrValue)),a},e.prototype._getPrimaryPropertyName=function(e,t){var n=e.getAttribute(t.attributeName);return n&&n.primaryProperty?n.primaryProperty.name:null},e.prototype.for=function(e,t,i,o){var a=void 0,s=void 0,u=void 0,l=void 0,c=void 0;if(l=i.attrValue,c=l.match(/^ *[[].+[\]]/),a=c?l.split("of "):l.split(" of "),2!==a.length)throw new Error('Incorrect syntax for "for". The form is: "$local of $items" or "[$key, $value] of $items".');return u=o||r.BehaviorInstruction.attribute(i.attrName),c?(s=a[0].replace(/[[\]]/g,"").replace(/,/g," ").replace(/\s+/g," ").trim().split(" "),u.attributes.key=s[0],u.attributes.value=s[1]):u.attributes.local=a[0],u.attributes.items=new n.BindingExpression(this.observerLocator,"items",this.parser.parse(a[1]),n.bindingMode.oneWay,e.lookupFunctions),u},e.prototype["two-way"]=function(e,t,i,o){var a=o||r.BehaviorInstruction.attribute(i.attrName);return a.attributes[i.attrName]=new n.BindingExpression(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),n.bindingMode.twoWay,e.lookupFunctions),a},e.prototype["to-view"]=function(e,t,i,o){var a=o||r.BehaviorInstruction.attribute(i.attrName);return a.attributes[i.attrName]=new n.BindingExpression(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),n.bindingMode.toView,e.lookupFunctions),a},e.prototype["from-view"]=function(e,t,i,o){var a=o||r.BehaviorInstruction.attribute(i.attrName);return a.attributes[i.attrName]=new n.BindingExpression(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),n.bindingMode.fromView,e.lookupFunctions),a},e.prototype["one-time"]=function(e,t,i,o){var a=o||r.BehaviorInstruction.attribute(i.attrName);return a.attributes[i.attrName]=new n.BindingExpression(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),n.bindingMode.oneTime,e.lookupFunctions),a},e}(),h.inject=[n.Parser,n.ObserverLocator,n.EventManager,m],d);x.prototype["one-way"]=x.prototype["to-view"];var _={},k=e.TemplatingBindingLanguage=(v=p=function(e){function t(t,n,r,o){var a=i(this,e.call(this));return a.parser=t,a.observerLocator=n,a.syntaxInterpreter=r,a.emptyStringExpression=a.parser.parse("''"),r.language=a,a.attributeMap=o,a}return o(t,e),t.prototype.inspectAttribute=function(e,t,r,i){var o=r.split(".");if(_.defaultBindingMode=null,2===o.length)_.attrName=o[0].trim(),_.attrValue=i,_.command=o[1].trim(),"ref"===_.command?(_.expression=new n.NameExpression(this.parser.parse(i),_.attrName,e.lookupFunctions),_.command=null,_.attrName="ref"):_.expression=null;else if("ref"===r)_.attrName=r,_.attrValue=i,_.command=null,_.expression=new n.NameExpression(this.parser.parse(i),"element",e.lookupFunctions);else{_.attrName=r,_.attrValue=i,_.command=null;var a=this.parseInterpolation(e,i);_.expression=null===a?null:new y(this.observerLocator,this.attributeMap.map(t,r),a,n.bindingMode.oneWay,e.lookupFunctions,r)}return _},t.prototype.createAttributeInstruction=function(e,t,n,i,o){var a=void 0;if(n.expression){if("ref"===n.attrName)return n.expression;a=i||r.BehaviorInstruction.attribute(n.attrName),a.attributes[n.attrName]=n.expression}else n.command&&(a=this.syntaxInterpreter.interpret(e,t,n,i,o));return a},t.prototype.inspectTextContent=function(e,t){var r=this.parseInterpolation(e,t);return null===r?null:new y(this.observerLocator,"textContent",r,n.bindingMode.oneWay,e.lookupFunctions,"textContent")},t.prototype.parseInterpolation=function(e,t){for(var n=t.indexOf("${",0),r=t.length,i=void 0,o=0,a=0,s=null,u=void 0,l=void 0,c=0;n>=0&&n<r-2;){a=1,u=n,n+=2;do{i=t[n],n++,"'"!==i&&'"'!==i?"\\"!==i?null===s&&("{"===i?a++:"}"===i&&a--):n++:null===s?s=i:s===i&&(s=null)}while(a>0&&n<r);if(0!==a)break;l=l||[],"\\"===t[u-1]&&"\\"!==t[u-2]?(l[c]=t.substring(o,u-1)+t.substring(u,n),c++,l[c]=this.emptyStringExpression,c++):(l[c]=t.substring(o,u),c++,l[c]=this.parser.parse(t.substring(u+2,n-1)),c++),o=n,n=t.indexOf("${",n)}return 0===c?null:(l[c]=t.substr(o),l)},t}(r.BindingLanguage),p.inject=[n.Parser,n.ObserverLocator,x,m],v)}),define("json-stringify-safe",["require","exports","module"],function(e,t,n){function r(e,t,n,r){return JSON.stringify(e,i(t,r),n)}function i(e,t){var n=[],r=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"}),function(i,o){if(n.length>0){var a=n.indexOf(this);~a?n.splice(a+1):n.push(this),~a?r.splice(a,1/0,i):r.push(i),~n.indexOf(o)&&(o=t.call(this,i,o))}else n.push(o);return null==e?o:e.call(this,i,o)}}t=n.exports=r,t.getSerialize=i}),define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("aurelia-templating-resources/aurelia-templating-resources",["exports","aurelia-pal","./compose","./if","./else","./with","./repeat","./show","./hide","./sanitize-html","./replaceable","./focus","aurelia-templating","./css-resource","./html-sanitizer","./attr-binding-behavior","./binding-mode-behaviors","./throttle-binding-behavior","./debounce-binding-behavior","./self-binding-behavior","./signal-binding-behavior","./binding-signaler","./update-trigger-binding-behavior","./abstract-repeater","./repeat-strategy-locator","./html-resource-plugin","./null-repeat-strategy","./array-repeat-strategy","./map-repeat-strategy","./set-repeat-strategy","./number-repeat-strategy","./repeat-utilities","./analyze-view-factory","./aurelia-hide-style"],function(e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,v,g,m,y,b,w,x,_,k,S,O,T,C,E,P,M,A,j,R){"use strict";function I(e){(0,R.injectAureliaHideStyleAtHead)(),e.globalResources(t.PLATFORM.moduleName("./compose"),t.PLATFORM.moduleName("./if"),t.PLATFORM.moduleName("./else"),t.PLATFORM.moduleName("./with"),t.PLATFORM.moduleName("./repeat"),t.PLATFORM.moduleName("./show"),t.PLATFORM.moduleName("./hide"),t.PLATFORM.moduleName("./replaceable"),t.PLATFORM.moduleName("./sanitize-html"),t.PLATFORM.moduleName("./focus"),t.PLATFORM.moduleName("./binding-mode-behaviors"),t.PLATFORM.moduleName("./self-binding-behavior"),t.PLATFORM.moduleName("./throttle-binding-behavior"),t.PLATFORM.moduleName("./debounce-binding-behavior"),t.PLATFORM.moduleName("./signal-binding-behavior"),t.PLATFORM.moduleName("./update-trigger-binding-behavior"),t.PLATFORM.moduleName("./attr-binding-behavior")),(0,O.configure)(e);var n=e.container.get(h.ViewEngine),r={fetch:function(e){var t;return t={},t[e]=(0,d._createCSSResource)(e),t}};[".css",".less",".sass",".scss",".styl"].forEach(function(e){return n.addResourcePlugin(e,r)})}Object.defineProperty(e,"__esModule",{value:!0}),e.viewsRequireLifecycle=e.unwrapExpression=e.updateOneTimeBinding=e.isOneTime=e.getItemsSourceExpression=e.updateOverrideContext=e.createFullOverrideContext=e.NumberRepeatStrategy=e.SetRepeatStrategy=e.MapRepeatStrategy=e.ArrayRepeatStrategy=e.NullRepeatStrategy=e.RepeatStrategyLocator=e.AbstractRepeater=e.UpdateTriggerBindingBehavior=e.BindingSignaler=e.SignalBindingBehavior=e.SelfBindingBehavior=e.DebounceBindingBehavior=e.ThrottleBindingBehavior=e.TwoWayBindingBehavior=e.OneWayBindingBehavior=e.OneTimeBindingBehavior=e.AttrBindingBehavior=e.configure=e.Focus=e.Replaceable=e.SanitizeHTMLValueConverter=e.HTMLSanitizer=e.Hide=e.Show=e.Repeat=e.With=e.Else=e.If=e.Compose=void 0,e.Compose=n.Compose,e.If=r.If,e.Else=i.Else,e.With=o.With,e.Repeat=a.Repeat,e.Show=s.Show,e.Hide=u.Hide,e.HTMLSanitizer=p.HTMLSanitizer,e.SanitizeHTMLValueConverter=l.SanitizeHTMLValueConverter,e.Replaceable=c.Replaceable,e.Focus=f.Focus,e.configure=I,e.AttrBindingBehavior=v.AttrBindingBehavior,e.OneTimeBindingBehavior=g.OneTimeBindingBehavior,e.OneWayBindingBehavior=g.OneWayBindingBehavior,e.TwoWayBindingBehavior=g.TwoWayBindingBehavior,e.ThrottleBindingBehavior=m.ThrottleBindingBehavior,e.DebounceBindingBehavior=y.DebounceBindingBehavior,e.SelfBindingBehavior=b.SelfBindingBehavior,e.SignalBindingBehavior=w.SignalBindingBehavior,e.BindingSignaler=x.BindingSignaler,e.UpdateTriggerBindingBehavior=_.UpdateTriggerBindingBehavior,e.AbstractRepeater=k.AbstractRepeater,e.RepeatStrategyLocator=S.RepeatStrategyLocator,e.NullRepeatStrategy=T.NullRepeatStrategy,e.ArrayRepeatStrategy=C.ArrayRepeatStrategy,e.MapRepeatStrategy=E.MapRepeatStrategy,e.SetRepeatStrategy=P.SetRepeatStrategy,e.NumberRepeatStrategy=M.NumberRepeatStrategy,e.createFullOverrideContext=A.createFullOverrideContext,
e.updateOverrideContext=A.updateOverrideContext,e.getItemsSourceExpression=A.getItemsSourceExpression,e.isOneTime=A.isOneTime,e.updateOneTimeBinding=A.updateOneTimeBinding,e.unwrapExpression=A.unwrapExpression,e.viewsRequireLifecycle=j.viewsRequireLifecycle}),define("aurelia-templating-resources",["aurelia-templating-resources/aurelia-templating-resources"],function(e){return e}),define("aurelia-templating-router/aurelia-templating-router",["exports","aurelia-pal","aurelia-router","./route-loader","./router-view","./route-href"],function(e,t,n,r,i,o){"use strict";function a(e){e.singleton(n.RouteLoader,r.TemplatingRouteLoader).singleton(n.Router,n.AppRouter).globalResources(t.PLATFORM.moduleName("./router-view"),t.PLATFORM.moduleName("./route-href")),e.container.registerAlias(n.Router,n.AppRouter)}Object.defineProperty(e,"__esModule",{value:!0}),e.configure=e.RouteHref=e.RouterView=e.TemplatingRouteLoader=void 0,e.TemplatingRouteLoader=r.TemplatingRouteLoader,e.RouterView=i.RouterView,e.RouteHref=o.RouteHref,e.configure=a}),define("aurelia-templating-router",["aurelia-templating-router/aurelia-templating-router"],function(e){return e}),define("aurelia-validation/aurelia-validation",["require","exports","./get-target-dom-element","./property-info","./property-accessor-parser","./validate-binding-behavior","./validate-event","./validate-result","./validate-trigger","./validation-controller","./validation-controller-factory","./validation-errors-custom-attribute","./validation-renderer-custom-attribute","./validator","./implementation/rules","./implementation/standard-validator","./implementation/validation-messages","./implementation/validation-message-parser","./implementation/validation-rules","aurelia-pal","./validator","./implementation/standard-validator","./implementation/validation-message-parser","./property-accessor-parser","./implementation/validation-rules"],function(e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,v,g,m,y,b,w,x,_,k,S){"use strict";function O(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function T(e,t){var n=e.container.get(_.ValidationMessageParser),r=e.container.get(k.PropertyAccessorParser);S.ValidationRules.initialize(n,r);var i=new C;t instanceof Function&&t(i),i.apply(e.container),e.globalResources&&e.globalResources(b.PLATFORM.moduleName("./validate-binding-behavior"),b.PLATFORM.moduleName("./validation-errors-custom-attribute"),b.PLATFORM.moduleName("./validation-renderer-custom-attribute"))}Object.defineProperty(t,"__esModule",{value:!0}),O(n),O(r),O(i),O(o),O(a),O(s),O(u),O(l),O(c),O(f),O(h),O(d),O(p),O(v),O(g),O(m),O(y);var C=function(){function e(){this.validatorType=x.StandardValidator}return e.prototype.customValidator=function(e){this.validatorType=e},e.prototype.apply=function(e){var t=e.get(this.validatorType);e.registerInstance(w.Validator,t)},e}();t.AureliaValidationConfiguration=C,t.configure=T}),define("aurelia-validation",["aurelia-validation/aurelia-validation"],function(e){return e}),define("aurelia-validation/get-target-dom-element",["require","exports","aurelia-pal"],function(e,t,n){"use strict";function r(e,t){var r=e.target;if(r instanceof Element)return r;for(var i=0,o=t.controllers.length;i<o;i++){var a=t.controllers[i];if(a.viewModel===r){var s=a.container.get(n.DOM.Element);if(s)return s;throw new Error('Unable to locate target element for "'+e.sourceExpression+'".')}}throw new Error('Unable to locate target element for "'+e.sourceExpression+'".')}Object.defineProperty(t,"__esModule",{value:!0}),t.getTargetDOMElement=r}),define("aurelia-validation/property-info",["require","exports","aurelia-binding"],function(e,t,n){"use strict";function r(e,t,n){var r=t.evaluate(n,null);if(null===r||void 0===r||r instanceof Object)return r;throw new Error("The '"+t+"' part of '"+e+"' evaluates to "+r+" instead of an object, null or undefined.")}function i(e,t){for(var i=e;e instanceof n.BindingBehavior||e instanceof n.ValueConverter;)e=e.expression;var o,a;if(e instanceof n.AccessScope)o=n.getContextFor(e.name,t,e.ancestor),a=e.name;else if(e instanceof n.AccessMember)o=r(i,e.object,t),a=e.name;else{if(!(e instanceof n.AccessKeyed))throw new Error("Expression '"+i+"' is not compatible with the validate binding-behavior.");o=r(i,e.object,t),a=e.key.evaluate(t)}return null===o||void 0===o?null:{object:o,propertyName:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.getPropertyInfo=i}),define("aurelia-validation/property-accessor-parser",["require","exports","aurelia-binding","./util"],function(e,t,n,r){"use strict";function i(e){var t=/^function\s*\([$_\w\d]+\)\s*\{(?:\s*"use strict";)?\s*(?:[$_\w\d.['"\]+;]+)?\s*return\s+[$_\w\d]+\.([$_\w\d]+)\s*;?\s*\}$/,n=/^\(?[$_\w\d]+\)?\s*=>\s*[$_\w\d]+\.([$_\w\d]+)$/,r=t.exec(e)||n.exec(e);if(null===r)throw new Error("Unable to parse accessor function:\n"+e);return r[1]}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.parser=e}return e.prototype.parse=function(e){if(r.isString(e))return e;var t=i(e.toString()),o=this.parser.parse(t);if(o instanceof n.AccessScope||o instanceof n.AccessMember&&o.object instanceof n.AccessScope)return o.name;throw new Error('Invalid property expression: "'+o+'"')},e.inject=[n.Parser],e}();t.PropertyAccessorParser=o,t.getAccessorExpression=i}),define("aurelia-validation/util",["require","exports"],function(e,t){"use strict";function n(e){return"[object String]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isString=n});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();define("aurelia-validation/validate-binding-behavior",["require","exports","aurelia-task-queue","./validate-trigger","./validate-binding-behavior-base"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getValidateTrigger=function(e){return e.validateTrigger},t.inject=[n.TaskQueue],t}(i.ValidateBindingBehaviorBase);t.ValidateBindingBehavior=o;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getValidateTrigger=function(){return r.validateTrigger.manual},t.inject=[n.TaskQueue],t}(i.ValidateBindingBehaviorBase);t.ValidateManuallyBindingBehavior=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getValidateTrigger=function(){return r.validateTrigger.blur},t.inject=[n.TaskQueue],t}(i.ValidateBindingBehaviorBase);t.ValidateOnBlurBindingBehavior=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getValidateTrigger=function(){return r.validateTrigger.change},t.inject=[n.TaskQueue],t}(i.ValidateBindingBehaviorBase);t.ValidateOnChangeBindingBehavior=u;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getValidateTrigger=function(){return r.validateTrigger.changeOrBlur},t.inject=[n.TaskQueue],t}(i.ValidateBindingBehaviorBase);t.ValidateOnChangeOrBlurBindingBehavior=l}),define("aurelia-validation/validate-trigger",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.manual=0]="manual",e[e.blur=1]="blur",e[e.change=2]="change",e[e.changeOrBlur=3]="changeOrBlur"}(t.validateTrigger||(t.validateTrigger={}))}),define("aurelia-validation/validate-binding-behavior-base",["require","exports","aurelia-dependency-injection","./validation-controller","./validate-trigger","./get-target-dom-element"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.taskQueue=e}return e.prototype.bind=function(e,t,a,s){var u,l=this,c=o.getTargetDOMElement(e,t);if(a instanceof r.ValidationController?u=a:(u=t.container.get(n.Optional.of(r.ValidationController)),s=a),null===u)throw new Error("A ValidationController has not been registered.");u.registerBinding(e,c,s),e.validationController=u;var f=this.getValidateTrigger(u);f&i.validateTrigger.change&&(e.standardUpdateSource=e.updateSource,e.updateSource=function(e){this.standardUpdateSource(e),this.validationController.validateBinding(this)}),f&i.validateTrigger.blur&&(e.validateBlurHandler=function(){l.taskQueue.queueMicroTask(function(){return u.validateBinding(e)})},e.validateTarget=c,c.addEventListener("blur",e.validateBlurHandler)),f!==i.validateTrigger.manual&&(e.standardUpdateTarget=e.updateTarget,e.updateTarget=function(e){this.standardUpdateTarget(e),this.validationController.resetBinding(this)})},e.prototype.unbind=function(e){e.standardUpdateSource&&(e.updateSource=e.standardUpdateSource,e.standardUpdateSource=null),e.standardUpdateTarget&&(e.updateTarget=e.standardUpdateTarget,e.standardUpdateTarget=null),e.validateBlurHandler&&(e.validateTarget.removeEventListener("blur",e.validateBlurHandler),e.validateBlurHandler=null,e.validateTarget=null),e.validationController.unregisterBinding(e),e.validationController=null},e}();t.ValidateBindingBehaviorBase=a}),define("aurelia-validation/validation-controller",["require","exports","./validator","./validate-trigger","./property-info","./validate-result","./property-accessor-parser","./validate-event"],function(e,t,n,r,i,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){this.validator=e,this.propertyParser=t,this.bindings=new Map,this.renderers=[],this.results=[],this.errors=[],this.validating=!1,this.elements=new Map,this.objects=new Map,this.validateTrigger=r.validateTrigger.blur,this.finishValidating=Promise.resolve(),this.eventCallbacks=[]}return e.prototype.subscribe=function(e){var t=this;return this.eventCallbacks.push(e),{dispose:function(){var n=t.eventCallbacks.indexOf(e);-1!==n&&t.eventCallbacks.splice(n,1)}}},e.prototype.addObject=function(e,t){this.objects.set(e,t)},e.prototype.removeObject=function(e){this.objects.delete(e),this.processResultDelta("reset",this.results.filter(function(t){return t.object===e}),[])},e.prototype.addError=function(e,t,n){void 0===n&&(n=null);var r;r=null===n?n:this.propertyParser.parse(n);var i=new o.ValidateResult({__manuallyAdded__:!0},t,r,!1,e);return this.processResultDelta("validate",[],[i]),i},e.prototype.removeError=function(e){-1!==this.results.indexOf(e)&&this.processResultDelta("reset",[e],[])},e.prototype.addRenderer=function(e){var t=this;this.renderers.push(e),e.render({kind:"validate",render:this.results.map(function(e){return{result:e,elements:t.elements.get(e)}}),unrender:[]})},e.prototype.removeRenderer=function(e){var t=this;this.renderers.splice(this.renderers.indexOf(e),1),e.render({kind:"reset",render:[],unrender:this.results.map(function(e){return{result:e,elements:t.elements.get(e)}})})},e.prototype.registerBinding=function(e,t,n){this.bindings.set(e,{target:t,rules:n,propertyInfo:null})},e.prototype.unregisterBinding=function(e){this.resetBinding(e),this.bindings.delete(e)},e.prototype.getInstructionPredicate=function(e){var t=this;if(e){var n,r=e.object,i=e.propertyName,o=e.rules;return n=e.propertyName?function(e){return e.object===r&&e.propertyName===i}:function(e){return e.object===r},o?function(e){return n(e)&&t.validator.ruleExists(o,e.rule)}:n}return function(){return!0}},e.prototype.validate=function(e){var t,n=this;if(e){var r=e.object,o=e.propertyName,a=e.rules;a=a||this.objects.get(r),t=void 0===e.propertyName?function(){return n.validator.validateObject(r,a)}:function(){return n.validator.validateProperty(r,o,a)}}else t=function(){for(var e=[],t=0,r=Array.from(n.objects);t<r.length;t++){var o=r[t],a=o[0],s=o[1];e.push(n.validator.validateObject(a,s))}for(var u=0,l=Array.from(n.bindings);u<l.length;u++){var c=l[u],f=c[0],s=c[1].rules,h=i.getPropertyInfo(f.sourceExpression,f.source);h&&!n.objects.has(h.object)&&e.push(n.validator.validateProperty(h.object,h.propertyName,s))}return Promise.all(e).then(function(e){return e.reduce(function(e,t){return e.concat(t)},[])})};this.validating=!0;var s=this.finishValidating.then(t).then(function(t){var r=n.getInstructionPredicate(e),i=n.results.filter(r);n.processResultDelta("validate",i,t),s===n.finishValidating&&(n.validating=!1);var o={instruction:e,valid:void 0===t.find(function(e){return!e.valid}),results:t};return n.invokeCallbacks(e,o),o}).catch(function(e){return n.validating=!1,n.finishValidating=Promise.resolve(),Promise.reject(e)});return this.finishValidating=s,s},e.prototype.reset=function(e){var t=this.getInstructionPredicate(e),n=this.results.filter(t);this.processResultDelta("reset",n,[]),this.invokeCallbacks(e,null)},e.prototype.getAssociatedElements=function(e){for(var t=e.object,n=e.propertyName,r=[],o=0,a=Array.from(this.bindings);o<a.length;o++){var s=a[o],u=s[0],l=s[1].target,c=i.getPropertyInfo(u.sourceExpression,u.source);c&&c.object===t&&c.propertyName===n&&r.push(l)}return r},e.prototype.processResultDelta=function(e,t,n){var r={kind:e,render:[],unrender:[]};n=n.slice(0);for(var i=this,o=0,a=t;o<a.length;o++){var s=a[o];!function(e){var t=i.elements.get(e);i.elements.delete(e),r.unrender.push({result:e,elements:t});var o=n.findIndex(function(t){return t.rule===e.rule&&t.object===e.object&&t.propertyName===e.propertyName});if(-1===o)i.results.splice(i.results.indexOf(e),1),e.valid||i.errors.splice(i.errors.indexOf(e),1);else{var a=n.splice(o,1)[0],s=i.getAssociatedElements(a);i.elements.set(a,s),r.render.push({result:a,elements:s}),i.results.splice(i.results.indexOf(e),1,a),!e.valid&&a.valid?i.errors.splice(i.errors.indexOf(e),1):e.valid||a.valid?a.valid||i.errors.push(a):i.errors.splice(i.errors.indexOf(e),1,a)}}(s)}for(var u=0,l=n;u<l.length;u++){var c=l[u],f=this.getAssociatedElements(c);r.render.push({result:c,elements:f}),this.elements.set(c,f),this.results.push(c),c.valid||this.errors.push(c)}for(var h=0,d=this.renderers;h<d.length;h++){d[h].render(r)}},e.prototype.validateBinding=function(e){if(e.isBound){var t,n=i.getPropertyInfo(e.sourceExpression,e.source),r=this.bindings.get(e);if(r&&(t=r.rules,r.propertyInfo=n),n){var o=n.object,a=n.propertyName;this.validate({object:o,propertyName:a,rules:t})}}},e.prototype.resetBinding=function(e){var t=this.bindings.get(e),n=i.getPropertyInfo(e.sourceExpression,e.source);if(!n&&t&&(n=t.propertyInfo),t&&(t.propertyInfo=null),n){var r=n.object,o=n.propertyName;this.reset({object:r,propertyName:o})}},e.prototype.changeTrigger=function(e){this.validateTrigger=e;for(var t=Array.from(this.bindings.keys()),n=0,r=t;n<r.length;n++){var i=r[n],o=i.source;i.unbind(),i.bind(o)}},e.prototype.revalidateErrors=function(){for(var e=0,t=this.errors;e<t.length;e++){var n=t[e],r=n.object,i=n.propertyName,o=n.rule;if(!o.__manuallyAdded__){var a=[[o]];this.validate({object:r,propertyName:i,rules:a})}}},e.prototype.invokeCallbacks=function(e,t){if(0!==this.eventCallbacks.length)for(var n=new s.ValidateEvent(t?"validate":"reset",this.errors,this.results,e||null,t),r=0;r<this.eventCallbacks.length;r++)this.eventCallbacks[r](n)},e.inject=[n.Validator,a.PropertyAccessorParser],e}();t.ValidationController=u}),define("aurelia-validation/validator",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e}();t.Validator=n}),define("aurelia-validation/validate-result",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t,n,r,i,o){void 0===o&&(o=null),this.rule=t,this.object=n,this.propertyName=r,this.valid=i,this.message=o,this.id=e.nextId++}return e.prototype.toString=function(){return this.valid?"Valid.":this.message},e.nextId=0,e}();t.ValidateResult=n}),define("aurelia-validation/validate-event",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,r,i){this.type=e,this.errors=t,this.results=n,this.instruction=r,this.controllerValidateResult=i}return e}();t.ValidateEvent=n}),define("aurelia-validation/validation-controller-factory",["require","exports","./validation-controller","./validator","./property-accessor-parser"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.container=e}return e.get=function(t){return new e(t)},e.prototype.create=function(e){e||(e=this.container.get(r.Validator));var t=this.container.get(i.PropertyAccessorParser);return new n.ValidationController(e,t)},e.prototype.createForCurrentScope=function(e){var t=this.create(e);return this.container.registerInstance(n.ValidationController,t),t},e}();t.ValidationControllerFactory=o,o["protocol:aurelia:resolver"]=!0});var __decorate=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};define("aurelia-validation/validation-errors-custom-attribute",["require","exports","aurelia-binding","aurelia-dependency-injection","aurelia-templating","./validation-controller","aurelia-pal"],function(e,t,n,r,i,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this.boundaryElement=e,this.controllerAccessor=t,this.controller=null,this.errors=[],this.errorsInternal=[]}return e.prototype.sort=function(){this.errorsInternal.sort(function(e,t){return e.targets[0]===t.targets[0]?0:2&e.targets[0].compareDocumentPosition(t.targets[0])?1:-1})},e.prototype.interestingElements=function(e){var t=this;return e.filter(function(e){return t.boundaryElement.contains(e)})},e.prototype.render=function(e){for(var t=this,n=0,r=e.unrender;n<r.length;n++){var i=r[n].result;!function(e){var n=t.errorsInternal.findIndex(function(t){return t.error===e});-1!==n&&t.errorsInternal.splice(n,1)}(i)}for(var o=0,a=e.render;o<a.length;o++){var s=a[o],i=s.result,u=s.elements;if(!i.valid){var l=this.interestingElements(u);l.length&&this.errorsInternal.push({error:i,targets:l})}}this.sort(),this.errors=this.errorsInternal},e.prototype.bind=function(){this.controller||(this.controller=this.controllerAccessor()),this.controller.addRenderer(this)},e.prototype.unbind=function(){this.controller&&this.controller.removeRenderer(this)},e.inject=[a.DOM.Element,r.Lazy.of(o.ValidationController)],__decorate([i.bindable({defaultBindingMode:n.bindingMode.oneWay})],e.prototype,"controller",void 0),__decorate([i.bindable({primaryProperty:!0,defaultBindingMode:n.bindingMode.twoWay})],e.prototype,"errors",void 0),e=__decorate([i.customAttribute("validation-errors")],e)}();t.ValidationErrorsCustomAttribute=s}),define("aurelia-validation/validation-renderer-custom-attribute",["require","exports","./validation-controller"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.created=function(e){this.container=e.container},e.prototype.bind=function(){this.controller=this.container.get(n.ValidationController),this.renderer=this.container.get(this.value),this.controller.addRenderer(this.renderer)},e.prototype.unbind=function(){this.controller.removeRenderer(this.renderer),this.controller=null,this.renderer=null},e}();t.ValidationRendererCustomAttribute=r}),define("aurelia-validation/implementation/rules",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.set=function(t,n){t instanceof Function&&(t=t.prototype),Object.defineProperty(t,e.key,{enumerable:!1,configurable:!1,writable:!0,value:n})},e.unset=function(t){t instanceof Function&&(t=t.prototype),t[e.key]=null},e.get=function(t){return t[e.key]||null},e.key="__rules__",e}();t.Rules=n});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();define("aurelia-validation/implementation/standard-validator",["require","exports","aurelia-templating","../validator","../validate-result","./rules","./validation-messages"],function(e,t,n,r,i,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,n){var r=e.call(this)||this;return r.messageProvider=t,r.lookupFunctions=n.lookupFunctions,r.getDisplayName=t.getDisplayName.bind(t),r}return __extends(t,e),t.prototype.validateProperty=function(e,t,n){return this.validate(e,t,n||null)},t.prototype.validateObject=function(e,t){return this.validate(e,null,t||null)},t.prototype.ruleExists=function(e,t){for(var n=e.length;n--;)if(-1!==e[n].indexOf(t))return!0;return!1},t.prototype.getMessage=function(e,t,n){var r=e.message||this.messageProvider.getMessage(e.messageKey),i=e.property,o=i.name,a=i.displayName;null!==o&&(a=this.messageProvider.getDisplayName(o,a));var s={$displayName:a,$propertyName:o,$value:n,$object:t,$config:e.config,$getDisplayName:this.getDisplayName};return r.evaluate({bindingContext:t,overrideContext:s},this.lookupFunctions)},t.prototype.validateRuleSequence=function(e,t,n,r,o){for(var a=this,s=null===t||void 0===t,u=n[r],l=!0,c=[],f=0;f<u.length;f++)!function(n){var r=u[n];if(!s&&r.property.name!==t)return"continue";if(r.when&&!r.when(e))return"continue";var f=null===r.property.name?e:e[r.property.name],h=r.condition(f,e);h instanceof Promise||(h=Promise.resolve(h)),c.push(h.then(function(t){var n=t?null:a.getMessage(r,e,f);return o.push(new i.ValidateResult(r,e,r.property.name,t,n)),l=l&&t,t}))}(f);return Promise.all(c).then(function(){return r++,l&&r<n.length?a.validateRuleSequence(e,t,n,r,o):o})},t.prototype.validate=function(e,t,n){return n||(n=o.Rules.get(e)),n?this.validateRuleSequence(e,t,n,0,[]):Promise.resolve([])},t.inject=[a.ValidationMessageProvider,n.ViewResources],t}(r.Validator);t.StandardValidator=s}),define("aurelia-validation/implementation/validation-messages",["require","exports","./validation-message-parser"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validationMessages={default:"${$displayName} is invalid.",required:"${$displayName} is required.",matches:"${$displayName} is not correctly formatted.",email:"${$displayName} is not a valid email.",minLength:"${$displayName} must be at least ${$config.length} character${$config.length === 1 ? '' : 's'}.",maxLength:"${$displayName} cannot be longer than ${$config.length} character${$config.length === 1 ? '' : 's'}.",minItems:"${$displayName} must contain at least ${$config.count} item${$config.count === 1 ? '' : 's'}.",maxItems:"${$displayName} cannot contain more than ${$config.count} item${$config.count === 1 ? '' : 's'}.",equals:"${$displayName} must be ${$config.expectedValue}."};var r=function(){function e(e){this.parser=e}return e.prototype.getMessage=function(e){var n;return n=e in t.validationMessages?t.validationMessages[e]:t.validationMessages.default,this.parser.parse(n)},e.prototype.getDisplayName=function(e,t){if(null!==t&&void 0!==t)return t instanceof Function?t():t;var n=e.split(/(?=[A-Z])/).join(" ");return n.charAt(0).toUpperCase()+n.slice(1)},e.inject=[n.ValidationMessageParser],e}();t.ValidationMessageProvider=r});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();define("aurelia-validation/implementation/validation-message-parser",["require","exports","aurelia-binding","aurelia-templating","aurelia-logging","./expression-visitor"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.bindinqLanguage=e,this.emptyStringExpression=new n.LiteralString(""),this.nullExpression=new n.LiteralPrimitive(null),this.undefinedExpression=new n.LiteralPrimitive(void 0),this.cache={}}return e.prototype.parse=function(e){if(void 0!==this.cache[e])return this.cache[e];var t=this.bindinqLanguage.parseInterpolation(null,e);if(null===t)return new n.LiteralString(e);for(var r=new n.LiteralString(t[0]),i=1;i<t.length;i+=2)r=new n.Binary("+",r,new n.Binary("+",this.coalesce(t[i]),new n.LiteralString(t[i+1])));return s.validate(r,e),this.cache[e]=r,r},e.prototype.coalesce=function(e){return new n.Conditional(new n.Binary("||",new n.Binary("===",e,this.nullExpression),new n.Binary("===",e,this.undefinedExpression)),this.emptyStringExpression,new n.CallMember(e,"toString",[]))},e.inject=[r.BindingLanguage],e}();t.ValidationMessageParser=a;var s=function(e){function t(t){var n=e.call(this)||this;return n.originalMessage=t,n}return __extends(t,e),t.validate=function(e,n){var r=new t(n);e.accept(r)},t.prototype.visitAccessScope=function(e){if(0!==e.ancestor)throw new Error("$parent is not permitted in validation message expressions.");-1!==["displayName","propertyName","value","object","config","getDisplayName"].indexOf(e.name)&&i.getLogger("aurelia-validation").warn('Did you mean to use "$'+e.name+'" instead of "'+e.name+'" in this validation message template: "'+this.originalMessage+'"?')},t}(o.ExpressionVisitor);t.MessageExpressionValidator=s}),define("aurelia-validation/implementation/expression-visitor",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.visitChain=function(e){this.visitArgs(e.expressions)},e.prototype.visitBindingBehavior=function(e){e.expression.accept(this),this.visitArgs(e.args)},e.prototype.visitValueConverter=function(e){e.expression.accept(this),this.visitArgs(e.args)},e.prototype.visitAssign=function(e){e.target.accept(this),e.value.accept(this)},e.prototype.visitConditional=function(e){e.condition.accept(this),e.yes.accept(this),e.no.accept(this)},e.prototype.visitAccessThis=function(e){e.ancestor=e.ancestor},e.prototype.visitAccessScope=function(e){e.name=e.name},e.prototype.visitAccessMember=function(e){e.object.accept(this)},e.prototype.visitAccessKeyed=function(e){e.object.accept(this),e.key.accept(this)},e.prototype.visitCallScope=function(e){this.visitArgs(e.args)},e.prototype.visitCallFunction=function(e){e.func.accept(this),this.visitArgs(e.args)},e.prototype.visitCallMember=function(e){e.object.accept(this),this.visitArgs(e.args)},e.prototype.visitPrefix=function(e){e.expression.accept(this)},e.prototype.visitBinary=function(e){e.left.accept(this),e.right.accept(this)},e.prototype.visitLiteralPrimitive=function(e){e.value=e.value},e.prototype.visitLiteralArray=function(e){this.visitArgs(e.elements)},e.prototype.visitLiteralObject=function(e){this.visitArgs(e.values)},e.prototype.visitLiteralString=function(e){e.value=e.value},e.prototype.visitArgs=function(e){for(var t=0;t<e.length;t++)e[t].accept(this)},e}();t.ExpressionVisitor=n}),define("aurelia-validation/implementation/validation-rules",["require","exports","./rules","./validation-messages","../util"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n,r,i,o){void 0===n&&(n={}),this.fluentEnsure=r,this.fluentRules=i,this.parsers=o,this.rule={property:e,condition:t,config:n,when:null,messageKey:"default",message:null,sequence:i.sequence},this.fluentEnsure._addRule(this.rule)}return e.prototype.then=function(){return this.fluentRules.sequence++,this},e.prototype.withMessageKey=function(e){return this.rule.messageKey=e,this.rule.message=null,this},e.prototype.withMessage=function(e){return this.rule.messageKey="custom",this.rule.message=this.parsers.message.parse(e),this},e.prototype.when=function(e){return this.rule.when=e,this},e.prototype.tag=function(e){return this.rule.tag=e,this},e.prototype.ensure=function(e){return this.fluentEnsure.ensure(e)},e.prototype.ensureObject=function(){return this.fluentEnsure.ensureObject()},Object.defineProperty(e.prototype,"rules",{get:function(){return this.fluentEnsure.rules},enumerable:!0,configurable:!0}),e.prototype.on=function(e){return this.fluentEnsure.on(e)},e.prototype.satisfies=function(e,t){return this.fluentRules.satisfies(e,t)},e.prototype.satisfiesRule=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return(r=this.fluentRules).satisfiesRule.apply(r,[e].concat(t));var r},e.prototype.required=function(){return this.fluentRules.required()},e.prototype.matches=function(e){return this.fluentRules.matches(e)},e.prototype.email=function(){return this.fluentRules.email()},e.prototype.minLength=function(e){return this.fluentRules.minLength(e)},e.prototype.maxLength=function(e){return this.fluentRules.maxLength(e)},e.prototype.minItems=function(e){return this.fluentRules.minItems(e)},e.prototype.maxItems=function(e){return this.fluentRules.maxItems(e)},e.prototype.equals=function(e){return this.fluentRules.equals(e)},e}();t.FluentRuleCustomizer=o;var a=function(){function e(e,t,n){this.fluentEnsure=e,this.parsers=t,this.property=n,this.sequence=0}return e.prototype.displayName=function(e){return this.property.displayName=e,this},e.prototype.satisfies=function(e,t){return new o(this.property,e,t,this.fluentEnsure,this,this.parsers)},e.prototype.satisfiesRule=function(t){for(var n=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=e.customRules[t];if(!o){if((o=this[t])instanceof Function)return o.call.apply(o,[this].concat(r));throw new Error('Rule with name "'+t+'" does not exist.')}var a=o.argsToConfig?o.argsToConfig.apply(o,r):void 0;return this.satisfies(function(e,t){return(i=o.condition).call.apply(i,[n,e,t].concat(r));var i},a).withMessageKey(t)},e.prototype.required=function(){return this.satisfies(function(e){return null!==e&&void 0!==e&&!(i.isString(e)&&!/\S/.test(e))}).withMessageKey("required")},e.prototype.matches=function(e){return this.satisfies(function(t){return null===t||void 0===t||0===t.length||e.test(t)}).withMessageKey("matches")},e.prototype.email=function(){return this.matches(/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/).withMessageKey("email")},e.prototype.minLength=function(e){return this.satisfies(function(t){return null===t||void 0===t||0===t.length||t.length>=e},{length:e}).withMessageKey("minLength")},e.prototype.maxLength=function(e){return this.satisfies(function(t){return null===t||void 0===t||0===t.length||t.length<=e},{length:e}).withMessageKey("maxLength")},e.prototype.minItems=function(e){return this.satisfies(function(t){return null===t||void 0===t||t.length>=e},{count:e}).withMessageKey("minItems")},e.prototype.maxItems=function(e){return this.satisfies(function(t){return null===t||void 0===t||t.length<=e},{count:e}).withMessageKey("maxItems")},e.prototype.equals=function(e){return this.satisfies(function(t){return null===t||void 0===t||""===t||t===e},{expectedValue:e}).withMessageKey("equals")},e.customRules={},e}();t.FluentRules=a;var s=function(){function e(e){this.parsers=e,this.rules=[]}return e.prototype.ensure=function(e){this.assertInitialized();var t=this.parsers.property.parse(e),n=new a(this,this.parsers,{name:t,displayName:null});return this.mergeRules(n,t)},e.prototype.ensureObject=function(){this.assertInitialized();var e=new a(this,this.parsers,{name:null,
displayName:null});return this.mergeRules(e,null)},e.prototype.on=function(e){return n.Rules.set(e,this.rules),this},e.prototype._addRule=function(e){for(;this.rules.length<e.sequence+1;)this.rules.push([]);this.rules[e.sequence].push(e)},e.prototype.assertInitialized=function(){if(!this.parsers)throw new Error("Did you forget to add \".plugin('aurelia-validation')\" to your main.js?")},e.prototype.mergeRules=function(e,t){var n=this.rules.find(function(e){return e.length>0&&e[0].property.name===t});if(n){var r=n[n.length-1];e.sequence=r.sequence,null!==r.property.displayName&&(e=e.displayName(r.property.displayName))}return e},e}();t.FluentEnsure=s;var u=function(){function e(){}return e.initialize=function(e,t){this.parsers={message:e,property:t}},e.ensure=function(t){return new s(e.parsers).ensure(t)},e.ensureObject=function(){return new s(e.parsers).ensureObject()},e.customRule=function(e,t,n,i){r.validationMessages[e]=n,a.customRules[e]={condition:t,argsToConfig:i}},e.taggedRules=function(e,t){return e.map(function(e){return e.filter(function(e){return e.tag===t})})},e.untaggedRules=function(e){return e.map(function(e){return e.filter(function(e){return void 0===e.tag})})},e.off=function(e){n.Rules.unset(e)},e}();t.ValidationRules=u}),function(){var e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,v,g,m,y,b,w,x,_,k,S,O,T,C,E,P,M,A,j,R,I,L,D,N,B,F,V,z,H,U,q,W,G,Y,X,Z,K,$,Q,J,ee,te,ne,re,ie,oe,ae,se,ue,le,ce,fe,he,de,pe,ve,ge,ye,be,we,xe,_e,ke,Se,Oe,Te,Ce,Ee,Pe=[].slice;Se=function(){var e,t,n,r,i;for(e={},i="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),r=0,t=i.length;r<t;r++)n=i[r],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),G=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),e<t&&(e=t),e>n&&(e=n),e},Oe=function(e){return e.length>=3?[].slice.call(e):e[0]},w=function(e){var t,n;for(e._clipped=!1,e._unclipped=e.slice(0),t=n=0;n<3;t=++n)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e._clipped||delete e._unclipped,e},r=Math.PI,be=Math.round,_=Math.cos,C=Math.floor,te=Math.pow,Y=Math.log,xe=Math.sin,_e=Math.sqrt,d=Math.atan2,K=Math.max,h=Math.abs,a=2*r,i=r/3,t=r/180,o=180/r,b=function(){return arguments[0]instanceof e?arguments[0]:function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,arguments,function(){})},b.default=b,f=[],"undefined"!=typeof module&&null!==module&&null!=module.exports&&(module.exports=b),"function"==typeof define&&define.amd?define("chroma/chroma",[],function(){return b}):(ye="undefined"!=typeof exports&&null!==exports?exports:this,ye.chroma=b),b.version="1.3.4",c={},u=[],l=!1,e=function(){function e(){var e,t,n,r,i,o,a,s,f;for(o=this,t=[],s=0,r=arguments.length;s<r;s++)null!=(e=arguments[s])&&t.push(e);if(t.length>1&&(a=t[t.length-1]),null!=c[a])o._rgb=w(c[a](Oe(t.slice(0,-1))));else{for(l||(u=u.sort(function(e,t){return t.p-e.p}),l=!0),f=0,i=u.length;f<i&&(n=u[f],!(a=n.test.apply(n,t)));f++);a&&(o._rgb=w(c[a].apply(c,t)))}null==o._rgb&&console.warn("unknown format: "+t),null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e.prototype.clone=function(){return b(me._rgb)},e}(),b._input=c,b.brewer=m={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,t;t=[];for(e in m)t.push(m[e.toLowerCase()]=m[e])}(),Te={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},b.colors=Te,z=function(){var e,t,r,i,o,a,s,u,l;return t=Oe(arguments),o=t[0],e=t[1],r=t[2],u=(o+16)/116,s=isNaN(e)?u:u+e/500,l=isNaN(r)?u:u-r/200,u=n.Yn*H(u),s=n.Xn*H(s),l=n.Zn*H(l),a=Ee(3.2404542*s-1.5371385*u-.4985314*l),i=Ee(-.969266*s+1.8760108*u+.041556*l),r=Ee(.0556434*s-.2040259*u+1.0572252*l),[a,i,r,t.length>3?t[3]:1]},Ee=function(e){return 255*(e<=.00304?12.92*e:1.055*te(e,1/2.4)-.055)},H=function(e){return e>n.t1?e*e*e:n.t2*(e-n.t0)},n={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},le=function(){var e,t,n,r,i,o,a,s;return r=Oe(arguments),n=r[0],t=r[1],e=r[2],i=pe(n,t,e),o=i[0],a=i[1],s=i[2],[116*a-16,500*(o-a),200*(a-s)]},ve=function(e){return(e/=255)<=.04045?e/12.92:te((e+.055)/1.055,2.4)},Ce=function(e){return e>n.t3?te(e,1/3):e/n.t2+n.t0},pe=function(){var e,t,r,i,o,a,s;return i=Oe(arguments),r=i[0],t=i[1],e=i[2],r=ve(r),t=ve(t),e=ve(e),o=Ce((.4124564*r+.3575761*t+.1804375*e)/n.Xn),a=Ce((.2126729*r+.7151522*t+.072175*e)/n.Yn),s=Ce((.0193339*r+.119192*t+.9503041*e)/n.Zn),[o,a,s]},b.lab=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["lab"]),function(){})},c.lab=z,e.prototype.lab=function(){return le(this._rgb)},p=function(e){var t,n,r,i,o,a,s,u,l,c,f;return e=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(b(i));return r}(),2===e.length?(l=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),o=l[0],a=l[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push(o[t]+e*(a[t]-o[t]));return r}(),b.lab.apply(b,n)}):3===e.length?(c=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),o=c[0],a=c[1],s=c[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*o[t]+2*(1-e)*e*a[t]+e*e*s[t]);return r}(),b.lab.apply(b,n)}):4===e.length?(f=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),o=f[0],a=f[1],s=f[2],u=f[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*u[t]);return r}(),b.lab.apply(b,n)}):5===e.length&&(n=p(e.slice(0,3)),r=p(e.slice(2,5)),t=function(e){return e<.5?n(2*e):r(2*(e-.5))}),t},b.bezier=function(e){var t;return t=p(e),t.scale=function(){return b.scale(t)},t},b.cubehelix=function(e,t,n,r,i){var o,s,u;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==r&&(r=1),null==i&&(i=[0,1]),o=0,"array"===Se(i)?s=i[1]-i[0]:(s=0,i=[i,i]),u=function(u){var l,c,f,h,d,p,v,g,m;return l=a*((e+120)/360+t*u),v=te(i[0]+s*u,r),p=0!==o?n[0]+u*o:n,c=p*v*(1-v)/2,h=_(l),m=xe(l),g=v+c*(-.14861*h+1.78277*m),d=v+c*(-.29227*h-.90649*m),f=v+c*(1.97294*h),b(w([255*g,255*d,255*f]))},u.start=function(t){return null==t?e:(e=t,u)},u.rotations=function(e){return null==e?t:(t=e,u)},u.gamma=function(e){return null==e?r:(r=e,u)},u.hue=function(e){return null==e?n:(n=e,"array"===Se(n)?0===(o=n[1]-n[0])&&(n=n[1]):o=0,u)},u.lightness=function(e){return null==e?i:("array"===Se(e)?(i=e,s=e[1]-e[0]):(i=[e,e],s=0),u)},u.scale=function(){return b.scale(u)},u.hue(n),u},b.random=function(){var t,n,r;for(n="0123456789abcdef",t="#",r=0;r<6;++r)t+=n.charAt(C(16*Math.random()));return new e(t)},f=[],I=function(e,t,n,r){var i,o,a,s;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==Se(e)&&(e=b(e)),"object"!==Se(t)&&(t=b(t)),a=0,o=f.length;a<o;a++)if(i=f[a],r===i[0]){s=i[1](e,t,n,r);break}if(null==s)throw"color mode "+r+" is not supported";return s.alpha(e.alpha()+n*(t.alpha()-e.alpha()))},b.interpolate=I,e.prototype.interpolate=function(e,t,n){return I(this,e,t,n)},b.mix=I,e.prototype.mix=e.prototype.interpolate,c.rgb=function(){var e,t,n,r;t=Oe(arguments),n=[];for(e in t)r=t[e],n.push(r);return n},b.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["rgb"]),function(){})},e.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},e.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},u.push({p:3,test:function(e){var t;return t=Oe(arguments),"array"===Se(t)&&3===t.length?"rgb":4===t.length&&"number"===Se(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),c.lrgb=c.rgb,N=function(t,n,r,i){var o,a;return o=t._rgb,a=n._rgb,new e(_e(te(o[0],2)*(1-r)+te(a[0],2)*r),_e(te(o[1],2)*(1-r)+te(a[1],2)*r),_e(te(o[2],2)*(1-r)+te(a[2],2)*r),i)},s=function(t){var n,r,i,o,a,s;for(r=1/t.length,s=[0,0,0,0],o=0,i=t.length;o<i;o++)n=t[o],a=n._rgb,s[0]+=te(a[0],2)*r,s[1]+=te(a[1],2)*r,s[2]+=te(a[2],2)*r,s[3]+=a[3]*r;return s[0]=_e(s[0]),s[1]=_e(s[1]),s[2]=_e(s[2]),new e(s)},f.push(["lrgb",N]),b.average=function(e,t){var n,i,o,a,u,l,c,f,h,p,v,g,m;if(null==t&&(t="rgb"),h=e.length,e=e.map(function(e){return b(e)}),c=e.splice(0,1)[0],"lrgb"===t)return s(e);g=c.get(t),a=[],u=0,l=0;for(f in g)g[f]=g[f]||0,a.push(isNaN(g[f])?0:1),"h"!==t.charAt(f)||isNaN(g[f])||(n=g[f]/180*r,u+=_(n),l+=xe(n));for(i=c.alpha(),v=0,p=e.length;v<p;v++){o=e[v],m=o.get(t),i+=o.alpha();for(f in g)isNaN(m[f])||(g[f]+=m[f],a[f]+=1,"h"===t.charAt(f)&&(n=g[f]/180*r,u+=_(n),l+=xe(n)))}for(f in g)if(g[f]=g[f]/a[f],"h"===t.charAt(f)){for(n=d(l/a[f],u/a[f])/r*180;n<0;)n+=360;for(;n>=360;)n-=360;g[f]=n}return b(g,t).alpha(i/h)},P=function(e){var t,n,r,i,o,a;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),a=parseInt(e,16),i=a>>16,r=a>>8&255,n=255&a,[i,r,n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),a=parseInt(e,16),i=a>>24&255,r=a>>16&255,n=a>>8&255,t=be((255&a)/255*100)/100,[i,r,n,t];if(null!=c.css&&(o=c.css(e)))return o;throw"unknown color: "+e},oe=function(e,t){var n,r,i,o,a,s,u;return null==t&&(t="rgb"),a=e[0],i=e[1],r=e[2],n=e[3],a=Math.round(a),i=Math.round(i),r=Math.round(r),u=a<<16|i<<8|r,s="000000"+u.toString(16),s=s.substr(s.length-6),o="0"+be(255*n).toString(16),o=o.substr(o.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return s+o;case"argb":return o+s;default:return s}}()},c.hex=function(e){return P(e)},b.hex=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["hex"]),function(){})},e.prototype.hex=function(e){return null==e&&(e="rgb"),oe(this._rgb,e)},u.push({p:4,test:function(e){if(1===arguments.length&&"string"===Se(e))return"hex"}}),j=function(){var e,t,n,r,i,o,a,s,u,l,c,f,h,d;if(e=Oe(arguments),i=e[0],c=e[1],a=e[2],0===c)u=r=t=255*a;else{for(d=[0,0,0],n=[0,0,0],h=a<.5?a*(1+c):a+c-a*c,f=2*a-h,i/=360,d[0]=i+1/3,d[1]=i,d[2]=i-1/3,o=s=0;s<=2;o=++s)d[o]<0&&(d[o]+=1),d[o]>1&&(d[o]-=1),6*d[o]<1?n[o]=f+6*(h-f)*d[o]:2*d[o]<1?n[o]=h:3*d[o]<2?n[o]=f+(h-f)*(2/3-d[o])*6:n[o]=f;l=[be(255*n[0]),be(255*n[1]),be(255*n[2])],u=l[0],r=l[1],t=l[2]}return e.length>3?[u,r,t,e[3]]:[u,r,t]},se=function(e,t,n){var r,i,o,a,s;return void 0!==e&&e.length>=3&&(a=e,e=a[0],t=a[1],n=a[2]),e/=255,t/=255,n/=255,o=Math.min(e,t,n),K=Math.max(e,t,n),i=(K+o)/2,K===o?(s=0,r=Number.NaN):s=i<.5?(K-o)/(K+o):(K-o)/(2-K-o),e===K?r=(t-n)/(K-o):t===K?r=2+(n-e)/(K-o):n===K&&(r=4+(e-t)/(K-o)),r*=60,r<0&&(r+=360),[r,s,i]},b.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["hsl"]),function(){})},c.hsl=j,e.prototype.hsl=function(){return se(this._rgb)},R=function(){var e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,v,g,m;if(e=Oe(arguments),i=e[0],v=e[1],m=e[2],m*=255,0===v)u=r=t=m;else switch(360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),i/=60,o=C(i),n=i-o,a=m*(1-v),s=m*(1-v*n),g=m*(1-v*(1-n)),o){case 0:l=[m,g,a],u=l[0],r=l[1],t=l[2];break;case 1:c=[s,m,a],u=c[0],r=c[1],t=c[2];break;case 2:f=[a,m,g],u=f[0],r=f[1],t=f[2];break;case 3:h=[a,s,m],u=h[0],r=h[1],t=h[2];break;case 4:d=[g,a,m],u=d[0],r=d[1],t=d[2];break;case 5:p=[m,a,s],u=p[0],r=p[1],t=p[2]}return[u,r,t,e.length>3?e[3]:1]},ue=function(){var e,t,n,r,i,o,a,s,u;return a=Oe(arguments),o=a[0],n=a[1],e=a[2],i=Math.min(o,n,e),K=Math.max(o,n,e),t=K-i,u=K/255,0===K?(r=Number.NaN,s=0):(s=t/K,o===K&&(r=(n-e)/t),n===K&&(r=2+(e-o)/t),e===K&&(r=4+(o-n)/t),(r*=60)<0&&(r+=360)),[r,s,u]},b.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["hsv"]),function(){})},c.hsv=R,e.prototype.hsv=function(){return ue(this._rgb)},J=function(e){var t,n,r;return"number"===Se(e)&&e>=0&&e<=16777215?(r=e>>16,n=e>>8&255,t=255&e,[r,n,t,1]):(console.warn("unknown num color: "+e),[0,0,0,1])},he=function(){var e,t,n,r;return r=Oe(arguments),n=r[0],t=r[1],e=r[2],(n<<16)+(t<<8)+e},b.num=function(t){return new e(t,"num")},e.prototype.num=function(e){return null==e&&(e="rgb"),he(this._rgb,e)},c.num=J,u.push({p:1,test:function(e){if(1===arguments.length&&"number"===Se(e)&&e>=0&&e<=16777215)return"num"}}),E=function(){var e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,v,g,m,y,b;if(n=Oe(arguments),s=n[0],i=n[1],t=n[2],i/=100,a=a/100*255,e=255*i,0===i)f=a=r=t;else switch(360===s&&(s=0),s>360&&(s-=360),s<0&&(s+=360),s/=60,u=C(s),o=s-u,l=t*(1-i),c=l+e*(1-o),y=l+e*o,b=l+e,u){case 0:h=[b,y,l],f=h[0],a=h[1],r=h[2];break;case 1:d=[c,b,l],f=d[0],a=d[1],r=d[2];break;case 2:p=[l,b,y],f=p[0],a=p[1],r=p[2];break;case 3:v=[l,c,b],f=v[0],a=v[1],r=v[2];break;case 4:g=[y,l,b],f=g[0],a=g[1],r=g[2];break;case 5:m=[b,l,c],f=m[0],a=m[1],r=m[2]}return[f,a,r,n.length>3?n[3]:1]},ie=function(){var e,t,n,r,i,o,a,s,u;return u=Oe(arguments),s=u[0],i=u[1],t=u[2],a=Math.min(s,i,t),K=Math.max(s,i,t),r=K-a,n=100*r/255,e=a/(255-r)*100,0===r?o=Number.NaN:(s===K&&(o=(i-t)/r),i===K&&(o=2+(t-s)/r),t===K&&(o=4+(s-i)/r),(o*=60)<0&&(o+=360)),[o,n,e]},b.hcg=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["hcg"]),function(){})},c.hcg=E,e.prototype.hcg=function(){return ie(this._rgb)},k=function(e){var t,n,r,i,o,a,s,u;if(e=e.toLowerCase(),null!=b.colors&&b.colors[e])return P(b.colors[e]);if(o=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=o.slice(1,4),i=a=0;a<=2;i=++a)s[i]=+s[i];s[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=o.slice(1,5),i=u=0;u<=3;i=++u)s[i]=+s[i];else if(o=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=o.slice(1,4),i=t=0;t<=2;i=++t)s[i]=be(2.55*s[i]);s[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=o.slice(1,5),i=n=0;n<=2;i=++n)s[i]=be(2.55*s[i]);s[3]=+s[3]}else(o=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(r=o.slice(1,4),r[1]*=.01,r[2]*=.01,s=j(r),s[3]=1):(o=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(r=o.slice(1,4),r[1]*=.01,r[2]*=.01,s=j(r),s[3]=+o[4]);return s},re=function(e){var t;return t=e[3]<1?"rgba":"rgb","rgb"===t?t+"("+e.slice(0,3).map(be).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(be).join(",")+","+e[3]+")":void 0},ge=function(e){return be(100*e)/100},A=function(e,t){var n;return n=t<1?"hsla":"hsl",e[0]=ge(e[0]||0),e[1]=ge(100*e[1])+"%",e[2]=ge(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},c.css=function(e){return k(e)},b.css=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["css"]),function(){})},e.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?re(this._rgb):"hsl"===e.slice(0,3)?A(this.hsl(),this.alpha()):void 0},c.named=function(e){return P(Te[e])},u.push({p:5,test:function(e){if(1===arguments.length&&null!=Te[e])return"named"}}),e.prototype.name=function(e){var t,n;arguments.length&&(Te[e]&&(this._rgb=P(Te[e])),this._rgb[3]=1),t=this.hex();for(n in Te)if(t===Te[n])return n;return t},U=function(){var e,n,r,i;return i=Oe(arguments),r=i[0],e=i[1],n=i[2],n*=t,[r,_(n)*e,xe(n)*e]},q=function(){var e,t,n,r,i,o,a,s,u,l,c;return n=Oe(arguments),s=n[0],i=n[1],a=n[2],l=U(s,i,a),e=l[0],t=l[1],r=l[2],c=z(e,t,r),u=c[0],o=c[1],r=c[2],[u,o,r,n.length>3?n[3]:1]},V=function(){var e,t,n,r,i,a;return a=Oe(arguments),i=a[0],e=a[1],t=a[2],n=_e(e*e+t*t),r=(d(t,e)*o+360)%360,0===be(1e4*n)&&(r=Number.NaN),[i,n,r]},ce=function(){var e,t,n,r,i,o,a;return o=Oe(arguments),i=o[0],n=o[1],t=o[2],a=le(i,n,t),r=a[0],e=a[1],t=a[2],V(r,e,t)},b.lch=function(){var t;return t=Oe(arguments),new e(t,"lch")},b.hcl=function(){var t;return t=Oe(arguments),new e(t,"hcl")},c.lch=q,c.hcl=function(){var e,t,n,r;return r=Oe(arguments),t=r[0],e=r[1],n=r[2],q([n,e,t])},e.prototype.lch=function(){return ce(this._rgb)},e.prototype.hcl=function(){return ce(this._rgb).reverse()},ne=function(e){var t,n,r,i,o,a,s,u,l;return null==e&&(e="rgb"),u=Oe(arguments),s=u[0],i=u[1],t=u[2],s/=255,i/=255,t/=255,o=1-Math.max(s,Math.max(i,t)),r=o<1?1/(1-o):0,n=(1-s-o)*r,a=(1-i-o)*r,l=(1-t-o)*r,[n,a,l,o]},x=function(){var e,t,n,r,i,o,a,s,u;return t=Oe(arguments),r=t[0],a=t[1],u=t[2],o=t[3],e=t.length>4?t[4]:1,1===o?[0,0,0,e]:(s=r>=1?0:255*(1-r)*(1-o),i=a>=1?0:255*(1-a)*(1-o),n=u>=1?0:255*(1-u)*(1-o),[s,i,n,e])},c.cmyk=function(){return x(Oe(arguments))},b.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["cmyk"]),function(){})},e.prototype.cmyk=function(){return ne(this._rgb)},c.gl=function(){var e,t,n,r,i;for(r=function(){var e,n;e=Oe(arguments),n=[];for(t in e)i=e[t],n.push(i);return n}.apply(this,arguments),e=n=0;n<=2;e=++n)r[e]*=255;return r},b.gl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["gl"]),function(){})},e.prototype.gl=function(){var e;return e=this._rgb,[e[0]/255,e[1]/255,e[2]/255,e[3]]},fe=function(e,t,n){var r;return r=Oe(arguments),e=r[0],t=r[1],n=r[2],e=X(e),t=X(t),n=X(n),.2126*e+.7152*t+.0722*n},X=function(e){return e/=255,e<=.03928?e/12.92:te((e+.055)/1.055,2.4)},F=function(t,n,r,i){var o,a;return o=t._rgb,a=n._rgb,new e(o[0]+r*(a[0]-o[0]),o[1]+r*(a[1]-o[1]),o[2]+r*(a[2]-o[2]),i)},f.push(["rgb",F]),e.prototype.luminance=function(e,t){var n,r,i,o;return null==t&&(t="rgb"),arguments.length?(0===e?this._rgb=[0,0,0,this._rgb[3]]:1===e?this._rgb=[255,255,255,this._rgb[3]]:(r=1e-7,i=20,o=function(n,a){var s,u;return u=n.interpolate(a,.5,t),s=u.luminance(),Math.abs(e-s)<r||!i--?u:s>e?o(n,u):o(u,a)},n=fe(this._rgb),this._rgb=(n>e?o(b("black"),this):o(this,b("white"))).rgba()),this):fe(this._rgb)},ke=function(e){var t,n,r,i;return i=e/100,i<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*Y(n),t=i<20?0:.8274096064007395*(t=i-10)-254.76935184120902+115.67994401066147*Y(t)):(r=351.97690566805693+.114206453784165*(r=i-55)-40.25366309332127*Y(r),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*Y(n),t=255),[r,n,t]},de=function(){var e,t,n,r,i,o,a,s;for(o=Oe(arguments),i=o[0],o[1],e=o[2],r=1e3,n=4e4,t=.4;n-r>t;)s=.5*(n+r),a=ke(s),a[2]/a[0]>=e/i?n=s:r=s;return be(s)},b.temperature=b.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["temperature"]),function(){})},c.temperature=c.kelvin=c.K=ke,e.prototype.temperature=function(){return de(this._rgb)},e.prototype.kelvin=e.prototype.temperature,b.contrast=function(t,n){var r,i,o,a;return"string"!==(o=Se(t))&&"number"!==o||(t=new e(t)),"string"!==(a=Se(n))&&"number"!==a||(n=new e(n)),r=t.luminance(),i=n.luminance(),r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)},b.distance=function(t,n,r){var i,o,a,s,u,l,c;null==r&&(r="lab"),"string"!==(u=Se(t))&&"number"!==u||(t=new e(t)),"string"!==(l=Se(n))&&"number"!==l||(n=new e(n)),a=t.get(r),s=n.get(r),c=0;for(o in a)i=(a[o]||0)-(s[o]||0),c+=i*i;return Math.sqrt(c)},b.deltaE=function(t,n,i,o){var a,s,u,l,c,f,p,v,g,m,y,b,w,x,k,S,O,T,C,E,P,M,A,j,R,I,L;for(null==i&&(i=1),null==o&&(o=1),"string"!==(O=Se(t))&&"number"!==O||(t=new e(t)),"string"!==(T=Se(n))&&"number"!==T||(n=new e(n)),C=t.lab(),a=C[0],u=C[1],c=C[2],E=n.lab(),s=E[0],l=E[1],f=E[2],p=_e(u*u+c*c),v=_e(l*l+f*f),A=a<16?.511:.040975*a/(1+.01765*a),P=.0638*p/(1+.0131*p)+.638,S=p<1e-6?0:180*d(c,u)/r;S<0;)S+=360;for(;S>=360;)S-=360;return j=S>=164&&S<=345?.56+h(.2*_(r*(S+168)/180)):.36+h(.4*_(r*(S+35)/180)),g=p*p*p*p,k=_e(g/(g+1900)),M=P*(k*j+1-k),x=a-s,w=p-v,y=u-l,b=c-f,m=y*y+b*b-w*w,R=x/(i*A),I=w/(o*P),L=M,_e(R*R+I*I+m/(L*L))},e.prototype.get=function(e){var t,n,r,i,o,a;return r=this,o=e.split("."),i=o[0],t=o[1],a=r[i](),t?(n=i.indexOf(t),n>-1?a[n]:console.warn("unknown channel "+t+" in mode "+i)):a},e.prototype.set=function(e,t){var n,r,i,o,a,s;if(i=this,a=e.split("."),o=a[0],n=a[1],n)if(s=i[o](),(r=o.indexOf(n))>-1)if("string"===Se(t))switch(t.charAt(0)){case"+":case"-":s[r]+=+t;break;case"*":s[r]*=+t.substr(1);break;case"/":s[r]/=+t.substr(1);break;default:s[r]=+t}else s[r]=t;else console.warn("unknown channel "+n+" in mode "+o);else s=t;return b(s,o).alpha(i.alpha())},e.prototype.clipped=function(){return this._rgb._clipped||!1},e.prototype.alpha=function(e){return arguments.length?b.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},e.prototype.darken=function(e){var t,r;return null==e&&(e=1),r=this,t=r.lab(),t[0]-=n.Kn*e,b.lab(t).alpha(r.alpha())},e.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},e.prototype.darker=e.prototype.darken,e.prototype.brighter=e.prototype.brighten,e.prototype.saturate=function(e){var t,r;return null==e&&(e=1),r=this,t=r.lch(),t[1]+=e*n.Kn,t[1]<0&&(t[1]=0),b.lch(t).alpha(r.alpha())},e.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},e.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),b(t[0]*e,t[1]*e,t[2]*e,e)},v=function(e,t,n){if(!v[n])throw"unknown blend mode "+n;return v[n](e,t)},g=function(e){return function(t,n){var r,i;return r=b(n).rgb(),i=b(t).rgb(),b(e(r,i),"rgb")}},T=function(e){return function(t,n){var r,i,o;for(o=[],r=i=0;i<=3;r=++i)o[r]=e(t[r],n[r]);return o}},Q=function(e,t){return e},$=function(e,t){return e*t/255},S=function(e,t){return e>t?t:e},W=function(e,t){return e>t?e:t},we=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ee=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},y=function(e,t){return 255*(1-(1-t/255)/(e/255))},O=function(e,t){return 255===e?255:(e=t/255*255/(1-e/255),e>255?255:e)},v.normal=g(T(Q)),v.multiply=g(T($)),v.screen=g(T(we)),v.overlay=g(T(ee)),v.darken=g(T(S)),v.lighten=g(T(W)),v.dodge=g(T(O)),v.burn=g(T(y)),b.blend=v,b.analyze=function(e){var t,n,r,i;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;n<t;n++)null==(i=e[n])||isNaN(i)||(r.values.push(i),r.sum+=i,i<r.min&&(r.min=i),i>r.max&&(r.max=i),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,t){return b.limits(r,e,t)},r},b.scale=function(e,t){var n,r,i,o,a,s,u,l,c,f,h,d,p,v,g,m,y,w,x,_;return l="rgb",c=b("#ccc"),p=0,!1,a=[0,1],d=[],h=[0,0],n=!1,i=[],f=!1,u=0,s=1,o=!1,r={},v=!0,x=function(e){var t,n,r,o,a,s;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===Se(e)&&null!=b.brewer&&(e=b.brewer[e]||b.brewer[e.toLowerCase()]||e),"array"===Se(e)){for(e=e.slice(0),t=r=0,o=e.length-1;0<=o?r<=o:r>=o;t=0<=o?++r:--r)n=e[t],"string"===Se(n)&&(e[t]=b(n));for(d.length=0,t=s=0,a=e.length-1;0<=a?s<=a:s>=a;t=0<=a?++s:--s)d.push(t/(e.length-1))}return w(),i=e},m=function(e){var t,r;if(null!=n){for(r=n.length-1,t=0;t<r&&e>=n[t];)t++;return t-1}return 0},_=function(e){return e},function(e){var t,r,i,o,a;return a=e,n.length>2&&(o=n.length-1,t=m(e),i=n[0]+(n[1]-n[0])*(0+.5*p),r=n[o-1]+(n[o]-n[o-1])*(1-.5*p),a=u+(n[t]+.5*(n[t+1]-n[t])-i)/(r-i)*(s-u)),a},y=function(e,t){var o,a,f,p,g,y,w,x;if(null==t&&(t=!1),isNaN(e))return c;if(t?x=e:n&&n.length>2?(o=m(e),x=o/(n.length-2),x=h[0]+x*(1-h[0]-h[1])):s!==u?(x=(e-u)/(s-u),x=h[0]+x*(1-h[0]-h[1]),x=Math.min(1,Math.max(0,x))):x=1,t||(x=_(x)),p=Math.floor(1e4*x),v&&r[p])a=r[p];else{if("array"===Se(i))for(f=g=0,w=d.length-1;0<=w?g<=w:g>=w;f=0<=w?++g:--g){if(y=d[f],x<=y){a=i[f];break}if(x>=y&&f===d.length-1){a=i[f];break}if(x>y&&x<d[f+1]){x=(x-y)/(d[f+1]-y),a=b.interpolate(i[f],i[f+1],x,l);break}}else"function"===Se(i)&&(a=i(x));v&&(r[p]=a)}return a},w=function(){return r={}},x(e),g=function(e){var t;return t=b(y(e)),f&&t[f]?t[f]():t},g.classes=function(e){var t;return null!=e?("array"===Se(e)?(n=e,a=[e[0],e[e.length-1]]):(t=b.analyze(a),n=0===e?[t.min,t.max]:b.limits(t,"e",e)),g):n},g.domain=function(e){var t,n,r,o,l,c,f;if(!arguments.length)return a;if(u=e[0],s=e[e.length-1],d=[],r=i.length,e.length===r&&u!==s)for(l=0,o=e.length;l<o;l++)n=e[l],d.push((n-u)/(s-u));else for(t=f=0,c=r-1;0<=c?f<=c:f>=c;t=0<=c?++f:--f)d.push(t/(r-1));return a=[u,s],g},g.mode=function(e){return arguments.length?(l=e,w(),g):l},g.range=function(e,t){return x(e,t),g},g.out=function(e){return f=e,g},g.spread=function(e){return arguments.length?(p=e,g):p},g.correctLightness=function(e){return null==e&&(e=!0),o=e,w(),_=o?function(e){var t,n,r,i,o,a,s,u,l;for(t=y(0,!0).lab()[0],n=y(1,!0).lab()[0],s=t>n,r=y(e,!0).lab()[0],o=t+(n-t)*e,i=r-o,u=0,l=1,a=20;Math.abs(i)>.01&&a-- >0;)!function(){s&&(i*=-1),i<0?(u=e,e+=.5*(l-e)):(l=e,e+=.5*(u-e)),r=y(e,!0).lab()[0],i=r-o}();return e}:function(e){return e},g},g.padding=function(e){return null!=e?("number"===Se(e)&&(e=[e,e]),
h=e,g):h},g.colors=function(t,r){var o,s,u,l,c,f,h,d;if(arguments.length<2&&(r="hex"),c=[],0===arguments.length)c=i.slice(0);else if(1===t)c=[g(.5)];else if(t>1)s=a[0],o=a[1]-s,c=function(){f=[];for(var e=0;0<=t?e<t:e>t;0<=t?e++:e--)f.push(e);return f}.apply(this).map(function(e){return g(s+e/(t-1)*o)});else{if(e=[],h=[],n&&n.length>2)for(u=d=1,l=n.length;1<=l?d<l:d>l;u=1<=l?++d:--d)h.push(.5*(n[u-1]+n[u]));else h=a;c=h.map(function(e){return g(e)})}return b[r]&&(c=c.map(function(e){return e[r]()})),c},g.cache=function(e){return null!=e?v=e:v},g},null==b.scales&&(b.scales={}),b.scales.cool=function(){return b.scale([b.hsl(180,1,.9),b.hsl(250,.7,.4)])},b.scales.hot=function(){return b.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},b.analyze=function(e,t,n){var r,i,o,a,s,u,l;if(s={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(s.values.push(e),s.sum+=e,e<s.min&&(s.min=e),e>s.max&&(s.max=e),s.count+=1)},l=function(e,i){if(n(e,i))return r(null!=t&&"function"===Se(t)?t(e):null!=t&&"string"===Se(t)||"number"===Se(t)?e[t]:e)},"array"===Se(e))for(a=0,o=e.length;a<o;a++)u=e[a],l(u);else for(i in e)u=e[i],l(u,i);return s.domain=[s.min,s.max],s.limits=function(e,t){return b.limits(s,e,t)},s},b.limits=function(e,t,n){var r,i,o,a,s,u,l,c,f,d,p,v,g,m,y,w,x,_,k,S,O,T,E,P,M,A,j,R,I,L,D,N,B,F,V,z,H,U,q,W,G,X,Z,$,Q,J,ee,ne,re,ie,oe,ae,se,ue,le;if(null==t&&(t="equal"),null==n&&(n=7),"array"===Se(e)&&(e=b.analyze(e)),M=e.min,K=e.max,e.sum,ue=e.values.sort(function(e,t){return e-t}),1===n)return[M,K];if(E=[],"c"===t.substr(0,1)&&(E.push(M),E.push(K)),"e"===t.substr(0,1)){for(E.push(M),S=D=1,V=n-1;1<=V?D<=V:D>=V;S=1<=V?++D:--D)E.push(M+S/n*(K-M));E.push(K)}else if("l"===t.substr(0,1)){if(M<=0)throw"Logarithmic scales are only possible for values > 0";for(A=Math.LOG10E*Y(M),P=Math.LOG10E*Y(K),E.push(M),S=le=1,z=n-1;1<=z?le<=z:le>=z;S=1<=z?++le:--le)E.push(te(10,A+S/n*(P-A)));E.push(K)}else if("q"===t.substr(0,1)){for(E.push(M),S=r=1,X=n-1;1<=X?r<=X:r>=X;S=1<=X?++r:--r)N=(ue.length-1)*S/n,B=C(N),B===N?E.push(ue[B]):(F=N-B,E.push(ue[B]*(1-F)+ue[B+1]*F));E.push(K)}else if("k"===t.substr(0,1)){for(R=ue.length,m=new Array(R),_=new Array(n),ie=!0,I=0,w=null,w=[],w.push(M),S=i=1,Z=n-1;1<=Z?i<=Z:i>=Z;S=1<=Z?++i:--i)w.push(M+S/n*(K-M));for(w.push(K);ie;){for(O=o=0,$=n-1;0<=$?o<=$:o>=$;O=0<=$?++o:--o)_[O]=0;for(S=a=0,Q=R-1;0<=Q?a<=Q:a>=Q;S=0<=Q?++a:--a){for(se=ue[S],j=Number.MAX_VALUE,O=s=0,J=n-1;0<=J?s<=J:s>=J;O=0<=J?++s:--s)(k=h(w[O]-se))<j&&(j=k,y=O);_[y]++,m[S]=y}for(L=new Array(n),O=u=0,ee=n-1;0<=ee?u<=ee:u>=ee;O=0<=ee?++u:--u)L[O]=null;for(S=l=0,ne=R-1;0<=ne?l<=ne:l>=ne;S=0<=ne?++l:--l)x=m[S],null===L[x]?L[x]=ue[S]:L[x]+=ue[S];for(O=c=0,re=n-1;0<=re?c<=re:c>=re;O=0<=re?++c:--c)L[O]*=1/_[O];for(ie=!1,O=f=0,H=n-1;0<=H?f<=H:f>=H;O=0<=H?++f:--f)if(L[O]!==w[S]){ie=!0;break}w=L,I++,I>200&&(ie=!1)}for(T={},O=d=0,U=n-1;0<=U?d<=U:d>=U;O=0<=U?++d:--d)T[O]=[];for(S=p=0,q=R-1;0<=q?p<=q:p>=q;S=0<=q?++p:--p)x=m[S],T[x].push(ue[S]);for(oe=[],O=v=0,W=n-1;0<=W?v<=W:v>=W;O=0<=W?++v:--v)oe.push(T[O][0]),oe.push(T[O][T[O].length-1]);for(oe=oe.sort(function(e,t){return e-t}),E.push(oe[0]),S=g=1,G=oe.length-1;g<=G;S=g+=2)ae=oe[S],isNaN(ae)||-1!==E.indexOf(ae)||E.push(ae)}return E},M=function(e,t,n){var r,o,s,u;return r=Oe(arguments),e=r[0],t=r[1],n=r[2],isNaN(e)&&(e=0),e/=360,e<1/3?(o=(1-t)/3,u=(1+t*_(a*e)/_(i-a*e))/3,s=1-(o+u)):e<2/3?(e-=1/3,u=(1-t)/3,s=(1+t*_(a*e)/_(i-a*e))/3,o=1-(u+s)):(e-=2/3,s=(1-t)/3,o=(1+t*_(a*e)/_(i-a*e))/3,u=1-(s+o)),u=G(n*u*3),s=G(n*s*3),o=G(n*o*3),[255*u,255*s,255*o,r.length>3?r[3]:1]},ae=function(){var e,t,n,r,i,o,s,u;return s=Oe(arguments),o=s[0],t=s[1],e=s[2],a=2*Math.PI,o/=255,t/=255,e/=255,i=Math.min(o,t,e),r=(o+t+e)/3,u=1-i/r,0===u?n=0:(n=(o-t+(o-e))/2,n/=Math.sqrt((o-t)*(o-t)+(o-e)*(t-e)),n=Math.acos(n),e>t&&(n=a-n),n/=a),[360*n,u,r]},b.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["hsi"]),function(){})},c.hsi=M,e.prototype.hsi=function(){return ae(this._rgb)},L=function(e,t,n,r){var i,o,a,s,u,l,c,f,h,d,p,v;return"hsl"===r?(p=e.hsl(),v=t.hsl()):"hsv"===r?(p=e.hsv(),v=t.hsv()):"hcg"===r?(p=e.hcg(),v=t.hcg()):"hsi"===r?(p=e.hsi(),v=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",p=e.hcl(),v=t.hcl()),"h"===r.substr(0,1)&&(a=p[0],h=p[1],l=p[2],s=v[0],d=v[1],c=v[2]),isNaN(a)||isNaN(s)?isNaN(a)?isNaN(s)?o=Number.NaN:(o=s,1!==l&&0!==l||"hsv"===r||(f=d)):(o=a,1!==c&&0!==c||"hsv"===r||(f=h)):(i=s>a&&s-a>180?s-(a+360):s<a&&a-s>180?s+360-a:s-a,o=a+n*i),null==f&&(f=h+n*(d-h)),u=l+n*(c-l),b[r](o,f,u)},f=f.concat(function(){var e,t,n,r;for(n=["hsv","hsl","hsi","hcl","lch","hcg"],r=[],t=0,e=n.length;t<e;t++)Z=n[t],r.push([Z,L]);return r}()),B=function(e,t,n,r){var i,o;return i=e.num(),o=t.num(),b.num(i+(o-i)*n,"num")},f.push(["num",B]),D=function(t,n,r,i){var o,a;return o=t.lab(),a=n.lab(),new e(o[0]+r*(a[0]-o[0]),o[1]+r*(a[1]-o[1]),o[2]+r*(a[2]-o[2]),i)},f.push(["lab",D])}.call(this),define("chroma",["chroma/chroma"],function(e){return e}),define("inherits/inherits_browser",["require","exports","module"],function(e,t,n){"function"==typeof Object.create?n.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),define("inherits",["inherits/inherits_browser"],function(e){return e}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("localForage/localforage",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.localforage=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(e){"use strict";function n(){c=!0;for(var e,t,n=f.length;n;){for(t=f,f=[],e=-1;++e<n;)t[e]();n=f.length}c=!1}function r(e){1!==f.push(e)||c||i()}var i,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,s=new o(n),u=e.document.createTextNode("");s.observe(u,{characterData:!0}),i=function(){u.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var l=new e.MessageChannel;l.port1.onmessage=n,i=function(){l.port2.postMessage(0)}}var c,f=[];t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";function r(){}function i(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e!==r&&u(this,e)}function o(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function s(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function u(e,t){function n(t){o||(o=!0,v.reject(e,t))}function r(t){o||(o=!0,v.resolve(e,t))}function i(){t(r,n)}var o=!1,a=l(i);"error"===a.status&&n(a.value)}function l(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function c(e){return e instanceof this?e:v.resolve(new this(r),e)}function f(e){var t=new this(r);return v.reject(t,e)}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var o=new Array(n),a=0,s=-1,u=new this(r);++s<n;)!function(e,r){function s(e){o[r]=e,++a!==n||i||(i=!0,v.resolve(u,o))}t.resolve(e).then(s,function(e){i||(i=!0,v.reject(u,e))})}(e[s],s);return u}function d(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var o=-1,a=new this(r);++o<n;)!function(e){t.resolve(e).then(function(e){i||(i=!0,v.resolve(a,e))},function(e){i||(i=!0,v.reject(a,e))})}(e[o]);return a}var p=e(1),v={},g=["REJECTED"],m=["FULFILLED"],y=["PENDING"];t.exports=n=i,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){if("function"!=typeof e&&this.state===m||"function"!=typeof t&&this.state===g)return this;var n=new this.constructor(r);if(this.state!==y){a(n,this.state===m?e:t,this.outcome)}else this.queue.push(new o(n,e,t));return n},o.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){v.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=l(s,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)u(e,r);else{e.state=m,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},v.reject=function(e,t){e.state=g,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},n.resolve=c,n.reject=f,n.all=h,n.race=d},{1:1}],3:[function(e,t,n){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,i=0;i<e.length;i+=1)r.append(e[i]);return r.getBlob(t.type)}}function o(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function a(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function s(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function u(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function l(e){return new ce(function(t){var n=e.transaction(fe,pe),r=i([""]);n.objectStore(fe).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}function c(e){return"boolean"==typeof ue?ce.resolve(ue):l(e).then(function(e){return ue=e})}function f(e){var t=le[e.name],n={};n.promise=new ce(function(e){n.resolve=e}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function h(e){var t=le[e.name],n=t.deferredOperations.pop();n&&n.resolve()}function d(e,t){var n=le[e.name],r=n.deferredOperations.pop();r&&r.reject(t)}function p(e,t){return new ce(function(n,r){if(e.db){if(!t)return n(e.db);f(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var o=se.open.apply(se,i);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(fe)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){n(o.result),h(e)}})}function v(e){return p(e,!1)}function g(e){return p(e,!0)}function m(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function y(e){return new ce(function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}function b(e){return i([u(atob(e.data))],{type:e.type})}function w(e){return e&&e.__local_forage_encoded_blob}function x(e){var t=this,n=t._initReady().then(function(){var e=le[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return a(n,e,e),n}function _(e){f(e);for(var t=le[e.name],n=t.forages,r=0;r<n.length;r++)n[r]._dbInfo.db&&(n[r]._dbInfo.db.close(),n[r]._dbInfo.db=null);return p(e,!1).then(function(e){for(var t=0;t<n.length;t++)n[t]._dbInfo.db=e}).catch(function(t){throw d(e,t),t})}function k(e,t,n){try{var r=e.db.transaction(e.storeName,t);n(null,r)}catch(r){if(!e.db||"InvalidStateError"===r.name)return _(e).then(function(){var r=e.db.transaction(e.storeName,t);n(null,r)});n(r)}}function S(e){function t(){return ce.resolve()}var n=this,r={db:null};if(e)for(var i in e)r[i]=e[i];le||(le={});var o=le[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},le[r.name]=o),o.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=x);for(var a=[],s=0;s<o.forages.length;s++){var u=o.forages[s];u!==n&&a.push(u._initReady().catch(t))}var l=o.forages.slice(0);return ce.all(a).then(function(){return r.db=o.db,v(r)}).then(function(e){return r.db=e,m(r,n._defaultConfig.version)?g(r):e}).then(function(e){r.db=o.db=e,n._dbInfo=r;for(var t=0;t<l.length;t++){var i=l[t];i!==n&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}})}function O(e,t){var n=this;e=s(e);var r=new ce(function(t,r){n.ready().then(function(){k(n._dbInfo,de,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=a.get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),w(e)&&(e=b(e)),t(e)},s.onerror=function(){r(s.error)}}catch(e){r(e)}})}).catch(r)});return o(r,t),r}function T(e,t){var n=this,r=new ce(function(t,r){n.ready().then(function(){k(n._dbInfo,de,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=a.openCursor(),u=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;w(r)&&(r=b(r));var i=e(r,n.key,u++);void 0!==i?t(i):n.continue()}else t()},s.onerror=function(){r(s.error)}}catch(e){r(e)}})}).catch(r)});return o(r,t),r}function C(e,t,n){var r=this;e=s(e);var i=new ce(function(n,i){var o;r.ready().then(function(){return o=r._dbInfo,"[object Blob]"===he.call(t)?c(o.db).then(function(e){return e?t:y(t)}):t}).then(function(t){k(r._dbInfo,pe,function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var u=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=u.error?u.error:u.transaction.error;i(e)}}catch(e){i(e)}})}).catch(i)});return o(i,n),i}function E(e,t){var n=this;e=s(e);var r=new ce(function(t,r){n.ready().then(function(){k(n._dbInfo,pe,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=a.delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(s.error)},o.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return o(r,t),r}function P(e){var t=this,n=new ce(function(e,n){t.ready().then(function(){k(t._dbInfo,pe,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName),a=o.clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)});return o(n,e),n}function M(e){var t=this,n=new ce(function(e,n){t.ready().then(function(){k(t._dbInfo,de,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName),a=o.count();a.onsuccess=function(){e(a.result)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return o(n,e),n}function A(e,t){var n=this,r=new ce(function(t,r){if(e<0)return void t(null);n.ready().then(function(){k(n._dbInfo,de,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,u=a.openCursor();u.onsuccess=function(){var n=u.result;if(!n)return void t(null);0===e?t(n.key):s?t(n.key):(s=!0,n.advance(e))},u.onerror=function(){r(u.error)}}catch(e){r(e)}})}).catch(r)});return o(r,t),r}function j(e){var t=this,n=new ce(function(e,n){t.ready().then(function(){k(t._dbInfo,de,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName),a=o.openCursor(),s=[];a.onsuccess=function(){var t=a.result;if(!t)return void e(s);s.push(t.key),t.continue()},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return o(n,e),n}function R(e){var t,n,r,i,o,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),c=new Uint8Array(l);for(t=0;t<s;t+=4)n=ge.indexOf(e[t]),r=ge.indexOf(e[t+1]),i=ge.indexOf(e[t+2]),o=ge.indexOf(e[t+3]),c[u++]=n<<2|r>>4,c[u++]=(15&r)<<4|i>>2,c[u++]=(3&i)<<6|63&o;return l}function I(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=ge[n[t]>>2],r+=ge[(3&n[t])<<4|n[t+1]>>4],r+=ge[(15&n[t+1])<<2|n[t+2]>>6],r+=ge[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function L(e,t){var n="";if(e&&(n=Re.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===Re.call(e.buffer))){var r,i=be;e instanceof ArrayBuffer?(r=e,i+=xe):(r=e.buffer,"[object Int8Array]"===n?i+=ke:"[object Uint8Array]"===n?i+=Se:"[object Uint8ClampedArray]"===n?i+=Oe:"[object Int16Array]"===n?i+=Te:"[object Uint16Array]"===n?i+=Ee:"[object Int32Array]"===n?i+=Ce:"[object Uint32Array]"===n?i+=Pe:"[object Float32Array]"===n?i+=Me:"[object Float64Array]"===n?i+=Ae:t(new Error("Failed to get type for BinaryArray"))),t(i+I(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n=me+e.type+"~"+I(this.result);t(be+_e+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}}function D(e){if(e.substring(0,we)!==be)return JSON.parse(e);var t,n=e.substring(je),r=e.substring(we,je);if(r===_e&&ye.test(n)){var o=n.match(ye);t=o[1],n=n.substring(o[0].length)}var a=R(n);switch(r){case xe:return a;case _e:return i([a],{type:t});case ke:return new Int8Array(a);case Se:return new Uint8Array(a);case Oe:return new Uint8ClampedArray(a);case Te:return new Int16Array(a);case Ee:return new Uint16Array(a);case Ce:return new Int32Array(a);case Pe:return new Uint32Array(a);case Me:return new Float32Array(a);case Ae:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}}function N(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new ce(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction(function(i){i.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t._dbInfo=n,e()},function(e,t){r(t)})})});return n.serializer=Ie,i}function B(e,t){var n=this;e=s(e);var r=new ce(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return o(r,t),r}function F(e,t){var n=this,r=new ce(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var u=o.item(s),l=u.value;if(l&&(l=i.serializer.deserialize(l)),void 0!==(l=e(l,u.key,s+1)))return void t(l)}t()},function(e,t){r(t)})})}).catch(r)});return o(r,t),r}function V(e,t,n,r){var i=this;e=s(e);var a=new ce(function(o,a){i.ready().then(function(){void 0===t&&(t=null);var s=t,u=i._dbInfo;u.serializer.serialize(t,function(t,l){l?a(l):u.db.transaction(function(n){n.executeSql("INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){o(s)},function(e,t){a(t)})},function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(V.apply(i,[e,s,n,r-1]));a(t)}})})}).catch(a)});return o(a,n),a}function z(e,t,n){return V.apply(this,[e,t,n,1])}function H(e,t){var n=this;e=s(e);var r=new ce(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return o(r,t),r}function U(e){var t=this,n=new ce(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return o(n,e),n}function q(e){var t=this,n=new ce(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return o(n,e),n}function W(e,t){var n=this,r=new ce(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return o(r,t),r}function G(e){var t=this,n=new ce(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)},function(e,t){n(t)})})}).catch(n)});return o(n,e),n}function Y(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}function X(){return!Y()||localStorage.length>0}function Z(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=n.name+"/",n.storeName!==t._defaultConfig.storeName&&(n.keyPrefix+=n.storeName+"/"),X()?(t._dbInfo=n,n.serializer=Ie,ce.resolve()):ce.reject()}function K(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return o(n,e),n}function $(e,t){var n=this;e=s(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return o(r,t),r}function Q(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var l=localStorage.getItem(u);if(l&&(l=t.serializer.deserialize(l)),void 0!==(l=e(l,u.substring(i),a++)))return l}}});return o(r,t),r}function J(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return o(r,t),r}function ee(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r});return o(n,e),n}function te(e){var t=this,n=t.keys().then(function(e){return e.length});return o(n,e),n}function ne(e,t){var n=this;e=s(e);var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return o(r,t),r}function re(e,t,n){var r=this;e=s(e);var i=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new ce(function(i,o){var a=r._dbInfo;a.serializer.serialize(t,function(t,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}})})});return o(i,n),i}function ie(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function oe(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Ne(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();"undefined"==typeof Promise&&e(3);var ue,le,ce=Promise,fe="local-forage-detect-blob-support",he=Object.prototype.toString,de="readonly",pe="readwrite",ve={_driver:"asyncStorage",_initStorage:S,_support:function(){try{if(!se)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:T,getItem:O,setItem:C,removeItem:E,clear:P,length:M,key:A,keys:j},ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",me="~~local_forage_type~",ye=/^~~local_forage_type~([^~]+)~/,be="__lfsc__:",we=be.length,xe="arbf",_e="blob",ke="si08",Se="ui08",Oe="uic8",Te="si16",Ce="si32",Ee="ur16",Pe="ui32",Me="fl32",Ae="fl64",je=we+xe.length,Re=Object.prototype.toString,Ie={serialize:L,deserialize:D,stringToBuffer:R,bufferToString:I},Le={_driver:"webSQLStorage",_initStorage:N,_support:function(){return"function"==typeof openDatabase}(),iterate:F,getItem:B,setItem:z,removeItem:H,clear:U,length:q,key:W,keys:G},De={_driver:"localStorageWrapper",_initStorage:Z,_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&"function"==typeof localStorage.setItem}catch(e){return!1}}(),iterate:Q,getItem:$,setItem:re,removeItem:ne,clear:K,length:te,key:J,keys:ee},Ne=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Be={},Fe={},Ve={INDEXEDDB:ve,WEBSQL:Le,LOCALSTORAGE:De},ze=[Ve.INDEXEDDB._driver,Ve.WEBSQL._driver,Ve.LOCALSTORAGE._driver],He=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],Ue={description:"",driver:ze.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},qe=function(){function e(t){r(this,e);for(var n in Ve)if(Ve.hasOwnProperty(n)){var i=Ve[n],o=i._driver;this[n]=o,Be[o]||this.defineDriver(i)}this._defaultConfig=oe({},Ue),this._config=oe({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":ae(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new ce(function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=He.concat("_initStorage"),a=0,s=o.length;a<s;a++){var u=o[a];if(!u||!e[u]||"function"!=typeof e[u])return void n(i)}var l=function(n){Be[r]&&console.info("Redefining LocalForage driver: "+r),Be[r]=e,Fe[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(l,n):l(!!e._support):l(!0)}catch(e){n(e)}});return a(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=Be[e]?ce.resolve(Be[e]):ce.reject(new Error("Driver not found."));return a(r,t,n),r},e.prototype.getSerializer=function(e){var t=ce.resolve(Ie);return a(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return a(n,e,e),n},e.prototype.setDriver=function(e,t,n){function r(){s._config.driver=s.driver()}function i(e){return s._extend(e),r(),s._ready=s._initStorage(s._config),s._ready}function o(e){return function(){function t(){for(;n<e.length;){var o=e[n];return n++,s._dbInfo=null,s._ready=null,s.getDriver(o).then(i).catch(t)}r();var a=new Error("No available storage method found.");return s._driverSet=ce.reject(a),s._driverSet}var n=0;return t()}}var s=this;Ne(e)||(e=[e]);var u=this._getSupportedDrivers(e),l=null!==this._driverSet?this._driverSet.catch(function(){return ce.resolve()}):ce.resolve();return this._driverSet=l.then(function(){var e=u[0];return s._dbInfo=null,s._ready=null,s.getDriver(e).then(function(e){s._driver=e._driver,r(),s._wrapLibraryMethodsWithReady(),s._initDriver=o(u)})}).catch(function(){r();var e=new Error("No available storage method found.");return s._driverSet=ce.reject(e),s._driverSet}),a(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Fe[e]},e.prototype._extend=function(e){oe(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=He.length;e<t;e++)ie(this,He[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),We=new qe;t.exports=We},{3:3}]},{},[4])(4)}),define("localForage",["localForage/localforage"],function(e){return e}),define("normalize-wheel/normalizeWheel",["require","exports","module","./UserAgent_DEPRECATED","./isEventSupported"],function(e,t,n){"use strict";function r(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*a,i=n*a,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(1==e.deltaMode?(r*=s,i*=s):(r*=u,i*=u)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}var i=e("./UserAgent_DEPRECATED"),o=e("./isEventSupported"),a=10,s=40,u=800;r.getEventType=function(){return i.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},n.exports=r}),define("normalize-wheel",["normalize-wheel/normalizeWheel"],function(e){return e}),define("normalize-wheel/UserAgent_DEPRECATED",["require","exports","module"],function(e,t,n){function r(){if(!b){b=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(v=/\b(iPhone|iP[ao]d)/.exec(e),
g=/\b(iP[ao]d)/.exec(e),d=/Android/i.exec(e),m=/FBAN\/\w+;/i.exec(e),y=/Mobile/i.exec(e),p=!!/Win64/.exec(e),t){i=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,i&&document&&document.documentMode&&(i=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);l=r?parseFloat(r[1])+4:i,o=t[2]?parseFloat(t[2]):NaN,a=t[3]?parseFloat(t[3]):NaN,s=t[4]?parseFloat(t[4]):NaN,s?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),u=t&&t[1]?parseFloat(t[1]):NaN):u=NaN}else i=o=a=u=s=NaN;if(n){if(n[1]){var w=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);c=!w||parseFloat(w[1].replace("_","."))}else c=!1;f=!!n[2],h=!!n[3]}else c=f=h=!1}}var i,o,a,s,u,l,c,f,h,d,p,v,g,m,y,b=!1,w={ie:function(){return r()||i},ieCompatibilityMode:function(){return r()||l>i},ie64:function(){return w.ie()&&p},firefox:function(){return r()||o},opera:function(){return r()||a},webkit:function(){return r()||s},safari:function(){return w.webkit()},chrome:function(){return r()||u},windows:function(){return r()||f},osx:function(){return r()||c},linux:function(){return r()||h},iphone:function(){return r()||v},mobile:function(){return r()||v||g||d||y},nativeApp:function(){return r()||m},android:function(){return r()||d},ipad:function(){return r()||g}};n.exports=w}),define("normalize-wheel/isEventSupported",["require","exports","module","./ExecutionEnvironment"],function(e,t,n){"use strict";function r(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=e("./ExecutionEnvironment");o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),n.exports=r}),define("normalize-wheel/ExecutionEnvironment",["require","exports","module"],function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};n.exports=i}),define("object-assign/index",["require","exports","module"],function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function i(e){var t=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t.filter(function(t){return o.call(e,t)})}var o=Object.prototype.propertyIsEnumerable;n.exports=Object.assign||function(e,t){for(var n,o,a=r(e),s=1;s<arguments.length;s++){n=arguments[s],o=i(Object(n));for(var u=0;u<o.length;u++)a[o[u]]=n[o[u]]}return a}}),define("object-assign",["object-assign/index"],function(e){return e}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("redux/redux.min",["exports"],t):t(e.Redux=e.Redux||{})}(this,function(e){"use strict";function t(e){var t=g.call(e,y),n=e[y];try{e[y]=void 0;var r=!0}catch(e){}var i=m.call(e);return r&&(t?e[y]=n:delete e[y]),i}function n(e){return b.call(e)}function r(e){return null==e?void 0===e?x:w:_&&_ in Object(e)?t(e):n(e)}function i(e){return null!=e&&"object"==typeof e}function o(e){if(!i(e)||r(e)!=S)return!1;var t=k(e);if(null===t)return!0;var n=E.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&C.call(n)==P}function a(e,t,n){function r(){d===h&&(d=h.slice())}function i(){return f}function s(e){if("function"!=typeof e)throw Error("Expected listener to be a function.");var t=!0;return r(),d.push(e),function(){if(t){t=!1,r();var n=d.indexOf(e);d.splice(n,1)}}}function u(e){if(!o(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw Error("Reducers may not dispatch actions.");try{p=!0,f=c(f,e)}finally{p=!1}for(var t=h=d,n=0;t.length>n;n++)(0,t[n])();return e}var l;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw Error("Expected the reducer to be a function.");var c=e,f=t,h=[],d=h,p=!1;return u({type:A.INIT}),l={dispatch:u,subscribe:s,getState:i,replaceReducer:function(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");c=e,u({type:A.INIT})}},l[M]=function(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[M]=function(){return this},e},l}function s(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:A.INIT}))throw Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+A.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function l(e,t){return function(){return t(e.apply(void 0,arguments))}}function c(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var f,h="object"==typeof global&&global&&global.Object===Object&&global,d="object"==typeof self&&self&&self.Object===Object&&self,p=(h||d||Function("return this")()).Symbol,v=Object.prototype,g=v.hasOwnProperty,m=v.toString,y=p?p.toStringTag:void 0,b=Object.prototype.toString,w="[object Null]",x="[object Undefined]",_=p?p.toStringTag:void 0,k=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),S="[object Object]",O=Function.prototype,T=Object.prototype,C=O.toString,E=T.hasOwnProperty,P=C.call(Object),M=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}(f="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()),A={INIT:"@@redux/INIT"},j=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};e.createStore=a,e.combineReducers=function(e){for(var t=Object.keys(e),n={},r=0;t.length>r;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o=Object.keys(n),a=void 0;try{u(n)}catch(e){a=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;for(var r=!1,i={},u=0;o.length>u;u++){var l=o[u],c=n[l],f=e[l],h=c(f,t);if(void 0===h){var d=s(l,t);throw Error(d)}i[l]=h,r=r||h!==f}return r?i:e}},e.bindActionCreators=function(e,t){if("function"==typeof e)return l(e,t);if("object"!=typeof e||null===e)throw Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},i=0;n.length>i;i++){var o=n[i],a=e[o];"function"==typeof a&&(r[o]=l(a,t))}return r},e.applyMiddleware=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var o=e(n,r,i),a=o.dispatch,s=[],u={getState:o.getState,dispatch:function(e){return a(e)}};return s=t.map(function(e){return e(u)}),a=c.apply(void 0,s)(o.dispatch),j({},o,{dispatch:a})}}},e.compose=c,Object.defineProperty(e,"__esModule",{value:!0})}),define("redux",["redux/redux.min"],function(e){return e}),define("redux-undo/actions",["require","exports","module"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.ActionTypes={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"};t.ActionCreators={undo:function(){return{type:r.UNDO}},redo:function(){return{type:r.REDO}},jumpToFuture:function(e){return{type:r.JUMP_TO_FUTURE,index:e}},jumpToPast:function(e){return{type:r.JUMP_TO_PAST,index:e}},jump:function(e){return{type:r.JUMP,index:e}},clearHistory:function(){return{type:r.CLEAR_HISTORY}}}}),define("redux-undo/helpers",["require","exports","module"],function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:"string"==typeof e?[e]:t}function i(e){return void 0!==e.present&&void 0!==e.future&&void 0!==e.past&&Array.isArray(e.future)&&Array.isArray(e.past)}function o(){return console.warn("distinctState is deprecated in beta4 and newer. The distinctState behavior is now default, which means only actions resulting in a new state are recorded. See https://github.com/omnidan/redux-undo#filtering-actions for more details."),function(){return!0}}function a(e){var t=r(e);return function(e){return t.indexOf(e.type)>=0}}function s(e){var t=r(e);return function(e){return t.indexOf(e.type)<0}}function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}},function(){return!0})}function l(e){var t=r(e);return function(e){return t.indexOf(e.type)>=0?e.type:null}}function c(e,t,n){return{past:e,present:t,future:n,group:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,_latestUnfiltered:t,index:e.length,limit:e.length+n.length+1}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseActions=r,t.isHistory=i,t.distinctState=o,t.includeAction=a,t.excludeAction=s,t.combineFilters=u,t.groupByActionTypes=l,t.newHistory=c}),define("redux-undo/reducer",["require","exports","module","./debug","./actions","./helpers"],function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){var n=(0,g.newHistory)([],e,[]);return t&&(n._latestUnfiltered=null),n}function o(e){return e.past.length+1}function a(e,t,n,i){p.log("inserting",t),p.log("new free: ",n-o(e));var a=e.past,s=e._latestUnfiltered,u=n&&o(e)>=n,l=a.slice(u?1:0),c=null!=s?[].concat(r(l),[s]):l;return(0,g.newHistory)(c,t,[],i)}function s(e,t){if(t<0||t>=e.future.length)return e;var n=e.past,i=e.future,o=e._latestUnfiltered,a=[].concat(r(n),[o],r(i.slice(0,t))),s=i[t],u=i.slice(t+1);return(0,g.newHistory)(a,s,u)}function u(e,t){if(t<0||t>=e.past.length)return e;var n=e.past,i=e.future,o=e._latestUnfiltered,a=n.slice(0,t),s=[].concat(r(n.slice(t+1)),[o],r(i)),u=n[t];return(0,g.newHistory)(a,u,s)}function l(e,t){return t>0?s(e,t-1):t<0?u(e,e.past.length+t):e}function c(e,t){return t.indexOf(e)>-1?e:!e}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.set(t.debug);var n={initTypes:(0,g.parseActions)(t.initTypes,["@@redux-undo/INIT"]),limit:t.limit,filter:t.filter||function(){return!0},groupBy:t.groupBy||function(){return null},undoType:t.undoType||v.ActionTypes.UNDO,redoType:t.redoType||v.ActionTypes.REDO,jumpToPastType:t.jumpToPastType||v.ActionTypes.JUMP_TO_PAST,jumpToFutureType:t.jumpToFutureType||v.ActionTypes.JUMP_TO_FUTURE,jumpType:t.jumpType||v.ActionTypes.JUMP,clearHistoryType:Array.isArray(t.clearHistoryType)?t.clearHistoryType:[t.clearHistoryType||v.ActionTypes.CLEAR_HISTORY],neverSkipReducer:t.neverSkipReducer||!1,ignoreInitialState:t.ignoreInitialState||!1,syncFilter:t.syncFilter||!1},r=n.history;return function(){for(var t=arguments.length,o=Array(t>2?t-2:0),f=2;f<t;f++)o[f-2]=arguments[f];var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.start(m,d);var y=d;if(!r)if(p.log("history is uninitialized"),void 0===d){var b={type:v.ActionTypes.CLEAR_HISTORY},w=e.apply(void 0,[d,b].concat(o));y=i(w,n.ignoreInitialState),p.log("do not set initialState on probe actions")}else(0,g.isHistory)(d)?(y=r=n.ignoreInitialState?d:(0,g.newHistory)(d.past,d.present,d.future),p.log("initialHistory initialized: initialState is a history",r)):(y=r=i(d,n.ignoreInitialState),p.log("initialHistory initialized: initialState is not a history",r));var x=function(t){return n.neverSkipReducer?h({},t,{present:e.apply(void 0,[t.present,m].concat(o))}):t},_=void 0;switch(m.type){case void 0:return y;case n.undoType:return _=l(y,-1),p.log("perform undo"),p.end(_),x(_);case n.redoType:return _=l(y,1),p.log("perform redo"),p.end(_),x(_);case n.jumpToPastType:return _=u(y,m.index),p.log("perform jumpToPast to "+m.index),p.end(_),x(_);case n.jumpToFutureType:return _=s(y,m.index),p.log("perform jumpToFuture to "+m.index),p.end(_),x(_);case n.jumpType:return _=l(y,m.index),p.log("perform jump to "+m.index),p.end(_),x(_);case c(m.type,n.clearHistoryType):return _=i(y.present),p.log("perform clearHistory"),p.end(_),x(_);default:if(_=e.apply(void 0,[y.present,m].concat(o)),n.initTypes.some(function(e){return e===m.type}))return p.log("reset history due to init action"),p.end(r),r;if(y._latestUnfiltered===_)return y;var k="function"==typeof n.filter&&!n.filter(m,_,y),S=n.groupBy(m,_,y);if(k){var O=(0,g.newHistory)(y.past,_,y.future,y.group);return n.syncFilter||(O._latestUnfiltered=y._latestUnfiltered),p.log("filter ignored action, not storing it in past"),p.end(O),O}if(null!=S&&S===y.group){var T=(0,g.newHistory)(y.past,_,y.future,y.group);return p.log("groupBy grouped the action with the previous action"),p.end(T),T}return y=a(y,_,n.limit,S),p.log("inserted new state into history"),p.end(y),y}}}Object.defineProperty(t,"__esModule",{value:!0});var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=f;var d=e("./debug"),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),v=e("./actions"),g=e("./helpers");n.exports=t.default}),define("redux-undo/debug",["require","exports","module"],function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(){h={header:[],prev:[],action:[],next:[],msgs:[]}}function o(){var e=h,t=e.header,n=e.prev,i=e.next,o=e.action,a=e.msgs;if(console.group){var s,u,l,c,f;(s=console).groupCollapsed.apply(s,r(t)),(u=console).log.apply(u,r(n)),(l=console).log.apply(l,r(o)),(c=console).log.apply(c,r(i)),(f=console).log.apply(f,r(a)),console.groupEnd()}else{var d,p,v,g,m;(d=console).log.apply(d,r(t)),(p=console).log.apply(p,r(n)),(v=console).log.apply(v,r(o)),(g=console).log.apply(g,r(i)),(m=console).log.apply(m,r(a))}}function a(e,t,n){return["%c"+e,"color: "+t+"; font-weight: bold",n]}function s(e,t){i(),f&&(console.group?(h.header=["%credux-undo","font-style: italic","action",e.type],h.action=a("action",d.action,e),h.prev=a("prev history",d.prevState,t)):(h.header=["redux-undo action",e.type],h.action=["action",e],h.prev=["prev history",t]))}function u(e){f&&(console.group?h.next=a("next history",d.nextState,e):h.next=["next history",e],o())}function l(){if(f){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];h.msgs=h.msgs.concat([].concat(t,["\n"]))}}function c(e){f=e}Object.defineProperty(t,"__esModule",{value:!0});var f=void 0,h=void 0,d={prevState:"#9E9E9E",action:"#03A9F4",nextState:"#4CAF50"};t.set=c,t.start=s,t.end=u,t.log=l}),define("redux-batched-actions/index",["require","exports","module"],function(e,t,n){"use strict";function r(e){return{type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,meta:{batch:!0},payload:e}}function i(e){return function t(n,r){return r&&r.meta&&r.meta.batch?r.payload.reduce(t,n):e(n,r)}}function o(e){function t(e,n){n.meta&&n.meta.batch?n.payload.forEach(function(n){t(e,n)}):e.dispatch(n)}return function(n){return function(r){t(e,r),n(r)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.batchActions=r,t.enableBatching=i,t.batchDispatchMiddleware=o;var a=t.BATCH="BATCHING_REDUCER.BATCH"}),define("redux-batched-actions",["redux-batched-actions/index"],function(e){return e}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("redux-persist/redux-persist",["exports"],t):t(e.ReduxPersist=e.ReduxPersist||{})}(this,function(e){"use strict";function t(e){var t=D.call(e,B),n=e[B];try{e[B]=void 0;var r=!0}catch(e){}var i=N.call(e);return r&&(t?e[B]=n:delete e[B]),i}function n(e){return V.call(e)}function r(e){return null==e?void 0===e?H:z:U&&U in Object(e)?t(e):n(e)}function i(e){return null!=e&&"object"==typeof e}function o(e){if(!i(e)||r(e)!=W)return!1;var t=q(e);if(null===t)return!0;var n=Z.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&X.call(n)==K}function a(e){return!!e&&("object"===(void 0===e?"undefined":$(e))&&("function"!=typeof e.asMutable&&!!o(e)))}function s(){function e(e){var r=!1,i=[];return function(o,a){if(a.type!==M)return t.log&&!r&&i.push(a),e(o,a);t.log&&!r&&u(i),r=!0;var s=a.payload,l=e(o,a);return n(o,s,l,t.log)}}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.stateReconciler||l;return function(t){return function(n,r,i){var o=t(e(n),r,i);return Q({},o,{replaceReducer:function(t){return o.replaceReducer(e(t))}})}}}function u(e){var t=e.slice(1);t.length>0&&console.log("\n      redux-persist/autoRehydrate: %d actions were fired before rehydration completed. This can be a symptom of a race\n      condition where the rehydrate action may overwrite the previously affected state. Consider running these actions\n      after rehydration:\n    ",t.length,t)}function l(e,t,n,r){var i=Q({},n);return Object.keys(t).forEach(function(o){if(e.hasOwnProperty(o)){if("object"===$(e[o])&&!t[o])return void(r&&console.log("redux-persist/autoRehydrate: sub state for key `%s` is falsy but initial state is an object, skipping autoRehydrate.",o));if(e[o]!==n[o])return r&&console.log("redux-persist/autoRehydrate: sub state for key `%s` modified, skipping autoRehydrate.",o),void(i[o]=n[o]);a(t[o])&&a(e[o])?i[o]=Q({},e[o],t[o]):i[o]=t[o],r&&console.log("redux-persist/autoRehydrate: key `%s`, rehydrated to ",o,i[o])}}),i}function c(e){if("object"!==("undefined"==typeof window?"undefined":$(window))||!(e in window))return!1;try{var t=window[e],n="redux-persist "+e+" test";t.setItem(n,"test"),t.getItem(n),t.removeItem(n)}catch(t){return console.warn("redux-persist "+e+" test failed, persistence will be disabled."),!1}return!0}function f(){return c("localStorage")}function h(){return c("sessionStorage")}function d(e){return"local"===e?f()?window.localStorage:{getItem:te,setItem:te,removeItem:te,getAllKeys:te}:"session"===e?h()?window.sessionStorage:{getItem:te,setItem:te,removeItem:te,getAllKeys:te}:void 0}function p(e,t){var n=e.storage,r=void 0!==e.keyPrefix?e.keyPrefix:P;if(Array.isArray(e))throw new Error("redux-persist: purgeStoredState requires config as a first argument (found array). An array of keys is the optional second argument.");if(!n)throw new Error("redux-persist: config.storage required in purgeStoredState");return void 0===t?new Promise(function(t,i){n.getAllKeys(function(n,o){n?(console.warn("redux-persist: error during purgeStoredState in storage.getAllKeys"),i(n)):t(p(e,o.filter(function(e){return 0===e.indexOf(r)}).map(function(e){return e.slice(r.length)})))})}):Promise.all(t.map(function(e){return n.removeItem(""+r+e,v(e))}))}function v(e){return function(t){t&&console.warn("Error storing data for key:",e,t)}}function g(e,t){function n(e){return(!u||-1!==u.indexOf(e))&&-1===s.indexOf(e)}function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};return n.serial?d(t,function(e,t){try{var n=a(e),i=l.reduceRight(function(e,n){return n.out(e,t)},n);r=g(r,t,i)}catch(n){console.warn('Error rehydrating data for key "'+t+'"',e,n)}}):r=t,e.dispatch(w(r)),r}function i(e){return""+f+e}var o=!1===t.serialize?function(e){return e}:y,a=!1===t.serialize?function(e){return e}:b,s=t.blacklist||[],u=t.whitelist||!1,l=t.transforms||[],c=t.debounce||!1,f=void 0!==t.keyPrefix?t.keyPrefix:P,h=t._stateInit||{},d=t._stateIterator||x,v=t._stateGetter||_,g=t._stateSetter||k,S=t.storage||ne("local");S.keys&&!S.getAllKeys&&(S.getAllKeys=S.keys);var O=h,T=!1,C=[],E=null;return e.subscribe(function(){if(!T){var t=e.getState();d(t,function(e,r){n(r)&&v(O,r)!==v(t,r)&&-1===C.indexOf(r)&&C.push(r)});var r=C.length;null===E&&(E=setInterval(function(){if(T&&r===C.length||0===C.length)return clearInterval(E),void(E=null);var t=C.shift(),n=i(t),a=l.reduce(function(e,n){return n.in(e,t)},v(e.getState(),t));void 0!==a&&S.setItem(n,o(a),m(t))},c)),O=t}}),{rehydrate:r,pause:function(){T=!0},resume:function(){T=!1},purge:function(e){return p({storage:S,keyPrefix:f},e)}}}function m(e){return function(t){t&&console.warn("Error storing data for key:",e,t)}}function y(e){return re(e,null,null,function(e,t){return null})}function b(e){return JSON.parse(e)}function w(e){return{type:M,payload:e}}function x(e,t){return Object.keys(e).forEach(function(n){return t(e[n],n)})}function _(e,t){return e[t]}function k(e,t,n){return e[t]=n,e}function S(e,t){function n(e){return!(!i||-1!==i.indexOf(e))||!(!o||-1===o.indexOf(e))}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.whitelist||null,o=r.blacklist||null;return{in:function(t,r){return!n(r)&&e?e(t,r):t},out:function(e,r){return!n(r)&&t?t(e,r):e}}}function O(e,t){function n(e,t){var n=null;try{var r=s(t);n=c.reduceRight(function(t,n){return n.out(t,e)},r)}catch(t){console.warn("redux-persist/getStoredState: Error restoring data for key:",e,t)}return n}function r(e,n){t(e,n)}function i(e){return(!l||-1!==l.indexOf(e))&&-1===u.indexOf(e)}function o(e){return""+f+e}var a=e.storage||ne("local"),s=!1===e.serialize?function(e){return e}:T,u=e.blacklist||[],l=e.whitelist||!1,c=e.transforms||[],f=void 0!==e.keyPrefix?e.keyPrefix:P;a.keys&&!a.getAllKeys&&(a=Q({},a,{getAllKeys:a.keys}));var h={},d=0;if(a.getAllKeys(function(e,t){e&&(console.warn("redux-persist/getStoredState: Error in storage.getAllKeys"),r(e));var s=t.filter(function(e){return 0===e.indexOf(f)}).map(function(e){return e.slice(f.length)}),u=s.filter(i),l=u.length;0===l&&r(null,h),u.forEach(function(e){a.getItem(o(e),function(t,i){t?console.warn("redux-persist/getStoredState: Error restoring data for key:",e,t):h[e]=n(e,i),(d+=1)===l&&r(null,h)})})}),"function"!=typeof t&&Promise)return new Promise(function(e,n){t=function(t,r){t?n(t):e(r)}})}function T(e){return JSON.parse(e)}function C(e){function t(e,t){a.resume(),r&&r(e,t)}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],i=!n.skipRestore;n.skipRestore&&console.warn("redux-persist: config.skipRestore has been deprecated. If you want to skip restoration use `createPersistor` instead");var o=null,a=g(e,n);return a.pause(),ee(i?function(){O(n,function(n,r){if(n)return void t(n);o&&("*"===o?r={}:o.forEach(function(e){return delete r[e]}));try{e.dispatch(E(r,n))}finally{t(n,r)}})}:t),Q({},a,{purge:function(e){return o=e||"*",a.purge(e)}})}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:M,payload:e,error:t}}var P="reduxPersist:",M="persist/REHYDRATE",A="object"==typeof global&&global&&global.Object===Object&&global,j="object"==typeof self&&self&&self.Object===Object&&self,R=A||j||Function("return this")(),I=R.Symbol,L=Object.prototype,D=L.hasOwnProperty,N=L.toString,B=I?I.toStringTag:void 0,F=Object.prototype,V=F.toString,z="[object Null]",H="[object Undefined]",U=I?I.toStringTag:void 0,q=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),W="[object Object]",G=Function.prototype,Y=Object.prototype,X=G.toString,Z=Y.hasOwnProperty,K=X.call(Object),$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J="undefined"!=typeof global&&void 0!==global.setImmediate,ee=J?function(e,t){return global.setImmediate(e,t)}:function(e,t){return setTimeout(e,t)},te=function(){return null};te=function(){return console.error("redux-persist asyncLocalStorage requires a global localStorage object. Either use a different storage backend or if this is a universal redux application you probably should conditionally persist like so: https://gist.github.com/rt2zz/ac9eb396793f95ff3c3b"),null};var ne=function(e,t){var n=d(e);return{getAllKeys:function(e){return new Promise(function(t,r){try{for(var i=[],o=0;o<n.length;o++)i.push(n.key(o));ee(function(){e&&e(null,i),t(i)})}catch(t){e&&e(t),r(t)}})},getItem:function(e,t){return new Promise(function(r,i){try{var o=n.getItem(e);ee(function(){t&&t(null,o),r(o)})}catch(e){t&&t(e),i(e)}})},setItem:function(e,t,r){return new Promise(function(i,o){try{n.setItem(e,t),ee(function(){r&&r(null),i()})}catch(e){r&&r(e),o(e)}})},removeItem:function(e,t){return new Promise(function(r,i){try{n.removeItem(e),ee(function(){t&&t(null),r()})}catch(e){t&&t(e),i(e)}})}}},re=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e,t){function n(e,t,n,i){return JSON.stringify(e,r(t,i),n)}function r(e,t){var n=[],r=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"}),function(i,o){if(n.length>0){var a=n.indexOf(this);~a?n.splice(a+1):n.push(this),~a?r.splice(a,1/0,i):r.push(i),~n.indexOf(o)&&(o=t.call(this,i,o))}else n.push(o);return null==e?o:e.call(this,i,o)}}t=e.exports=n,t.getSerialize=r}),ie=function(e,t,n){console.error('redux-persist: this method of importing storages has been removed. instead use `import { asyncLocalStorage } from "redux-persist/storages"`'),"function"==typeof e&&e(),"function"==typeof t&&t(),"function"==typeof n&&n()},oe={getAllKeys:ie,getItem:ie,setItem:ie,removeItem:ie},ae={asyncLocalStorage:oe,asyncSessionStorage:oe};e.autoRehydrate=s,e.createPersistor=g,e.createTransform=S,e.getStoredState=O,e.persistStore=C,e.purgeStoredState=p,e.storages=ae,Object.defineProperty(e,"__esModule",{value:!0})}),define("redux-persist",["redux-persist/redux-persist"],function(e){return e}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("redux-thunk/redux-thunk",[],t):"object"==typeof exports?exports.ReduxThunk=t():e.ReduxThunk=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t.default=r}])}),define("redux-thunk",["redux-thunk/redux-thunk"],function(e){return e}),define("redux-undo/index",["require","exports","module","./actions","./helpers","./reducer"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=e("./actions");Object.defineProperty(t,"ActionTypes",{enumerable:!0,get:function(){return i.ActionTypes}}),Object.defineProperty(t,"ActionCreators",{enumerable:!0,get:function(){return i.ActionCreators}});var o=e("./helpers");Object.defineProperty(t,"parseActions",{enumerable:!0,get:function(){return o.parseActions}}),Object.defineProperty(t,"isHistory",{enumerable:!0,get:function(){return o.isHistory}}),Object.defineProperty(t,"distinctState",{enumerable:!0,get:function(){return o.distinctState}}),Object.defineProperty(t,"includeAction",{enumerable:!0,get:function(){return o.includeAction}}),Object.defineProperty(t,"excludeAction",{enumerable:!0,get:function(){return o.excludeAction}}),Object.defineProperty(t,"combineFilters",{enumerable:!0,get:function(){return o.combineFilters}}),Object.defineProperty(t,"groupByActionTypes",{enumerable:!0,get:function(){return o.groupByActionTypes}}),Object.defineProperty(t,"newHistory",{enumerable:!0,get:function(){return o.newHistory}});var a=e("./reducer");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(a).default}})}),define("redux-undo",["redux-undo/index"],function(e){return e});